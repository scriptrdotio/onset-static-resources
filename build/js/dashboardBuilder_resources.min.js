!function(a,b){"function"==typeof define&&define.amd?define(["angular","objectpath","tv4"],b):"object"==typeof exports?module.exports=b(require("angular"),require("objectpath"),require("tv4")):a.schemaForm=b(a.angular,a.objectpath,a.tv4)}(this,function(a,b,c){var d=[];try{a.module("ngSanitize"),d.push("ngSanitize")}catch(a){}try{a.module("ui.sortable"),d.push("ui.sortable")}catch(a){}try{a.module("angularSpectrumColorpicker"),d.push("angularSpectrumColorpicker")}catch(a){}var e=a.module("schemaForm",d);return a.module("schemaForm").provider("sfPath",[function(){var c=window.ObjectPath||b,d={parse:c.parse};1===a.version.major&&a.version.minor<3?d.stringify=function(a){return Array.isArray(a)?a.join("."):a.toString()}:d.stringify=c.stringify,d.normalize=function(a,b){return d.stringify(Array.isArray(a)?a:d.parse(a),b)},this.parse=d.parse,this.stringify=d.stringify,this.normalize=d.normalize,this.$get=function(){return d}}]),a.module("schemaForm").provider("sfBuilder",["sfPathProvider",function(b){var c=/[A-Z]/g,d=function(a,b){return b=b||"_",a.replace(c,function(a,c){return(c?b:"")+a.toLowerCase()})},e=0,f={sfField:function(a){a.fieldFrag.firstChild.setAttribute("sf-field",e),a.lookup["f"+e]=a.form,e++},ngModel:function(a){if(a.form.key){var c=a.form.key;a.state.keyRedaction&&(c=c.slice(a.state.keyRedaction));var d;if(a.state.modelValue)d=a.state.modelValue;else{var e=b.stringify(c).replace(/"/g,"&quot;");d=a.state.modelName||"model",e&&(d+=("["!==e[0]?".":"")+e)}for(var f=a.fieldFrag.querySelectorAll("[sf-field-model]"),g=0;g<f.length;g++){var h=f[g],i=h.getAttribute("sf-field-model");if(i&&""!==i)if("replaceAll"===i)for(var j=h.attributes,k=0;k<j.length;k++)j[k].value&&-1!==j[k].value.indexOf("$$value")&&(j[k].value=j[k].value.replace(/\$\$value\$\$/g,d));else{var l=h.getAttribute(i);l&&l.indexOf("$$value$$")?h.setAttribute(i,l.replace(/\$\$value\$\$/g,d)):h.setAttribute(i,d)}else h.setAttribute("ng-model",d)}}},simpleTransclusion:function(a){var b=a.build(a.form.items,a.path+".items",a.state);a.fieldFrag.firstChild.appendChild(b)},ngModelOptions:function(a){a.form.ngModelOptions&&Object.keys(a.form.ngModelOptions).length>0&&a.fieldFrag.firstChild.setAttribute("ng-model-options",JSON.stringify(a.form.ngModelOptions))},transclusion:function(a){var b=a.fieldFrag.querySelectorAll("[sf-field-transclude]");if(b.length)for(var c=0;c<b.length;c++){var d=b[c],e=d.getAttribute("sf-field-transclude")||"items",f=a.form[e];if(f){var g=a.build(f,a.path+"."+e,a.state);d.appendChild(g)}}},condition:function(a){if(a.form.condition){var c="evalExpr("+a.path+'.condition, { model: model, "arrayIndex": $index})';if(a.form.key){var d=b.stringify(a.form.key);c="evalExpr("+a.path+'.condition,{ model: model, "arrayIndex": $index, "modelValue": model'+("["===d[0]?"":".")+d+"})"}for(var e=a.fieldFrag.children||a.fieldFrag.childNodes,f=0;f<e.length;f++){var g=e[f],h=g.getAttribute("ng-if");g.setAttribute("ng-if",h?"("+h+") || ("+c+")":c)}}},array:function(c){var d=c.fieldFrag.querySelector("[schema-form-array-items]");if(d){if(state=a.copy(c.state),state.keyRedaction=state.keyRedaction||0,state.keyRedaction+=c.form.key.length+1,c.form.schema&&c.form.schema.items&&c.form.schema.items.type&&-1===c.form.schema.items.type.indexOf("object")&&-1===c.form.schema.items.type.indexOf("array")){b.stringify(c.form.key).replace(/"/g,"&quot;");state.modelValue="modelArray[$index]"}else state.modelName="item";state.arrayCompatFlag=!0;var e=c.build(c.form.items,c.path+".items",state);d.appendChild(e)}}};this.builders=f;var g=[f.sfField,f.ngModel,f.ngModelOptions,f.condition];this.stdBuilders=g,this.$get=["$templateCache","schemaFormDecorators","sfPath",function(a,b,c){var e=function(a,b){if(a.key){var d=b[c.stringify(a.key)];if(d){for(;d.firstChild;)d.removeChild(d.firstChild);return d}}},h=function(a,b,c,f,g,i,j){i=i||{},j=j||Object.create(null),g=g||"schemaForm.form";var k=document.createDocumentFragment();return a.reduce(function(a,k,l){if(!k.type)return a;var m=b[k.type]||b.default;if(m.replace){var n;i.arrayCompatFlag=!1;var o=document.createElement("div"),p=c(k,m)||c(k,b.default);for(o.innerHTML=p,n=document.createDocumentFragment();o.childNodes.length>0;)n.appendChild(o.childNodes[0]);var q={fieldFrag:n,form:k,lookup:j,state:i,path:g+"["+l+"]",build:function(a,d,e){return h(a,b,c,f,d,e,j)}},r=k.builder||m.builder;"function"==typeof r?r(q):r.forEach(function(a){a(q)}),(e(k,f)||a).appendChild(n)}else{var s=document.createElement(d(b.__name,"-"));i.arrayCompatFlag?s.setAttribute("form","copyWithIndex($index)"):s.setAttribute("form",g+"["+l+"]"),(e(k,f)||a).appendChild(s)}return a},k),k};return{build:function(b,c,d,e){return h(b,c,function(b,c){return"template"===b.type?b.template:a.get(c.template)},d,void 0,void 0,e)},builder:f,stdBuilders:g,internalBuild:h}}]}]),a.module("schemaForm").provider("schemaFormDecorators",["$compileProvider","sfPathProvider",function(b,c){var d="",e={},f=function(a,b){"sfDecorator"===a&&(a=d);var c=e[a];return c[b.type]?c[b.type].template:c.default.template},g=function(d){b.directive(d,["$parse","$compile","$http","$templateCache","$interpolate","$q","sfErrorMessage","sfPath","sfSelect",function(b,e,g,h,i,j,k,l,m){return{restrict:"AE",replace:!1,transclude:!1,scope:!0,require:"?^sfSchema",link:function(b,n,o,p){b.$on("schemaFormPropagateNgModelController",function(a,c){a.stopPropagation(),a.preventDefault(),b.ngModel=c}),b.showTitle=function(){return b.form&&!0!==b.form.notitle&&b.form.title},b.listToCheckboxValues=function(b){var c={};return a.forEach(b,function(a){c[a]=!0}),c},b.checkboxValuesToList=function(b){var c=[];return a.forEach(b,function(a,b){a&&c.push(b)}),c},b.buttonClick=function(c,d){a.isFunction(d.onClick)?d.onClick(c,d):a.isString(d.onClick)&&(p?p.evalInParentScope(d.onClick,{$event:c,form:d}):b.$eval(d.onClick,{$event:c,form:d}))},b.evalExpr=function(a,c){return p?p.evalInParentScope(a,c):b.$eval(a,c)},b.evalInScope=function(a,c){if(a)return b.$eval(a,c)},b.interp=function(a,b){return a&&i(a)(b)},b.hasSuccess=function(){return!!b.ngModel&&(b.ngModel.$valid&&(!b.ngModel.$pristine||!b.ngModel.$isEmpty(b.ngModel.$modelValue)))},b.hasError=function(){return!!b.ngModel&&(b.ngModel.$invalid&&!b.ngModel.$pristine)},b.errorMessage=function(a){return k.interpolate(a&&a.code+""||"default",b.ngModel&&b.ngModel.$modelValue||"",b.ngModel&&b.ngModel.$viewValue||"",b.form,b.options&&b.options.validationMessage)};var q=b.$watch(o.form,function(i){if(i){i.ngModelOptions=i.ngModelOptions||{},b.form=i;var k;if("template"===i.type&&i.template)k=j.when(i.template);else{var o="template"===i.type?i.templateUrl:f(d,i);k=g.get(o,{cache:h}).then(function(a){return a.data})}k.then(function(d){if(i.key){var f=i.key?c.stringify(i.key).replace(/"/g,"&quot;"):"";d=d.replace(/\$\$value\$\$/g,"model"+("["!==f[0]?".":"")+f)}if(n.html(d),i.condition){var g='evalExpr(form.condition,{ model: model, "arrayIndex": arrayIndex})';i.key&&(g='evalExpr(form.condition,{ model: model, "arrayIndex": arrayIndex, "modelValue": model'+l.stringify(i.key)+"})"),a.forEach(n.children(),function(a){var b=a.getAttribute("ng-if");a.setAttribute("ng-if",b?"("+b+") || ("+g+")":g)})}e(n.contents())(b)}),i.key&&(b.$on("schemaForm.error."+i.key.join("."),function(a,c,d,e){!0!==d&&!1!==d||(e=d,d=void 0),b.ngModel&&c&&(b.ngModel.$setDirty?b.ngModel.$setDirty():(b.ngModel.$dirty=!0,b.ngModel.$pristine=!1),d&&(i.validationMessage||(i.validationMessage={}),i.validationMessage[c]=d),b.ngModel.$setValidity(c,!0===e),!0===e&&(b.ngModel.$validate(),b.$broadcast("schemaFormValidate")))}),b.$on("$destroy",function(){if(!b.externalDestructionInProgress){var a=i.destroyStrategy||b.options&&b.options.destroyStrategy||"remove";if(i.key&&"retain"!==a){var c=b.model;if(i.key.length>1&&(c=m(i.key.slice(0,i.key.length-1),c)),void 0===c)return;var d=i.schema&&i.schema.type||"";"empty"===a&&-1!==d.indexOf("string")?c[i.key.slice(-1)]="":"empty"===a&&-1!==d.indexOf("object")?c[i.key.slice(-1)]={}:"empty"===a&&-1!==d.indexOf("array")?c[i.key.slice(-1)]=[]:"null"===a?c[i.key.slice(-1)]=null:delete c[i.key.slice(-1)]}}})),q()}})}}}])},h=function(c,d,e){e=!!a.isDefined(e)&&e,b.directive("sf"+a.uppercase(c[0])+c.substr(1),function(){return{restrict:"EAC",scope:!0,replace:!0,transclude:e,template:'<sf-decorator form="form"></sf-decorator>',link:function(b,d,e){var f={items:"c",titleMap:"c",schema:"c"},g={type:c},h=!0;a.forEach(e,function(c,d){if("$"!==d[0]&&0!==d.indexOf("ng")&&"sfField"!==d){var i=function(c){a.isDefined(c)&&c!==g[d]&&(g[d]=c,h&&g.type&&(g.key||a.isUndefined(e.key))&&(b.form=g,h=!1))};"model"===d?b.$watch(c,function(a){a&&b.model!==a&&(b.model=a)}):"c"===f[d]?b.$watchCollection(c,i):e.$observe(d,i)}})}}})};this.createDecorator=function(b,c){e[b]={__name:b},a.forEach(c,function(a,c){e[b][c]={template:a,replace:!1,builder:[]}}),e[d]||(d=b),g(b)},this.defineDecorator=function(b,c){e[b]={__name:b},a.forEach(c,function(c,d){c.builder=c.builder||[],c.replace=!a.isDefined(c.replace)||c.replace,e[b][d]=c}),e[d]||(d=b),g(b)},this.createDirective=h,this.createDirectives=function(b){a.forEach(b,function(a,b){h(b)})},this.decorator=function(a){return a=a||d,e[a]},this.addMapping=function(a,b,c,d,f){e[a]&&(e[a][b]={template:c,builder:d,replace:!!f})},this.defineAddOn=function(a,b,c,d){e[a]&&(e[a][b]={template:c,builder:d,replace:!0})},this.$get=function(){return{decorator:function(a){return e[a]||e[d]},defaultDecorator:d}},g("sfDecorator")}]),a.module("schemaForm").provider("sfErrorMessage",function(){var b={default:"Field does not validate",0:"Invalid type, expected {{schema.type}}",1:"No enum match for: {{viewValue}}",10:'Data does not match any schemas from "anyOf"',11:'Data does not match any schemas from "oneOf"',12:'Data is valid against more than one schema from "oneOf"',13:'Data matches schema from "not"',100:"Value is not a multiple of {{schema.multipleOf}}",101:"{{viewValue}} is less than the allowed minimum of {{schema.minimum}}",102:"{{viewValue}} is equal to the exclusive minimum {{schema.minimum}}",103:"{{viewValue}} is greater than the allowed maximum of {{schema.maximum}}",104:"{{viewValue}} is equal to the exclusive maximum {{schema.maximum}}",105:"Value is not a valid number",200:"String is too short ({{viewValue.length}} chars), minimum {{schema.minLength}}",201:"String is too long ({{viewValue.length}} chars), maximum {{schema.maxLength}}",202:"String does not match pattern: {{schema.pattern}}",300:"Too few properties defined, minimum {{schema.minProperties}}",301:"Too many properties defined, maximum {{schema.maxProperties}}",302:"Required",303:"Additional properties not allowed",304:"Dependency failed - key must exist",400:"Array is too short ({{value.length}}), minimum {{schema.minItems}}",401:"Array is too long ({{value.length}}), maximum {{schema.maxItems}}",402:"Array items are not unique",403:"Additional items not allowed",500:"Format validation failed",501:'Keyword failed: "{{title}}"',600:"Circular $refs",1e3:"Unknown property (not in schema)"};b.number=b[105],b.required=b[302],b.min=b[101],b.max=b[103],b.maxlength=b[201],b.minlength=b[200],b.pattern=b[202],this.setDefaultMessages=function(a){b=a},this.getDefaultMessages=function(){return b},this.setDefaultMessage=function(a,c){b[a]=c},this.$get=["$interpolate",function(c){var d={};return d.defaultMessages=b,d.interpolate=function(d,e,f,g,h){h=h||{};var i=g.validationMessage||{};0===d.indexOf("tv4-")&&(d=d.substring(4));var j=i.default||h.default||"";[i,h,b].some(function(b){return a.isString(b)||a.isFunction(b)?(j=b,!0):b&&b[d]?(j=b[d],!0):void 0});var k={error:d,value:e,viewValue:f,form:g,schema:g.schema,title:g.title||g.schema&&g.schema.title};return a.isFunction(j)?j(k):c(j)(k)},d}]}),a.module("schemaForm").provider("schemaForm",["sfPathProvider",function(b){var c=function(a){if(Array.isArray(a)&&2==a.length){if("null"===a[0])return a[1];if("null"===a[1])return a[0]}return a},d=function(a){var b=[];return a.forEach(function(a){b.push({name:a,value:a})}),b},e=function(b,c){if(!a.isArray(b)){var d=[];return c?a.forEach(c,function(a,c){d.push({name:b[a],value:a})}):a.forEach(b,function(a,b){d.push({name:a,value:b})}),d}return b},f=function(b,d,e){var f=p[c(d.type)];if(f)for(var g,h=0;h<f.length;h++)if(g=f[h](b,d,e))return g.schema["x-schema-form"]&&a.isObject(g.schema["x-schema-form"])&&(g=a.extend(g,g.schema["x-schema-form"])),g},g=function(b,c,d){d=d||{};var f=d.global&&d.global.formDefaults?a.copy(d.global.formDefaults):{};return d.global&&!0===d.global.supressPropertyTitles?f.title=c.title:f.title=c.title||b,c.description&&(f.description=c.description),!0!==d.required&&!0!==c.required||(f.required=!0),c.maxLength&&(f.maxlength=c.maxLength),c.minLength&&(f.minlength=c.minLength),(c.readOnly||c.readonly)&&(f.readonly=!0),c.minimum&&(f.minimum=c.minimum+(c.exclusiveMinimum?1:0)),c.maximum&&(f.maximum=c.maximum-(c.exclusiveMaximum?1:0)),c.validationMessage&&(f.validationMessage=c.validationMessage),c.enumNames&&(f.titleMap=e(c.enumNames,c.enum)),f.schema=c,f.ngModelOptions=f.ngModelOptions||{},f},h=function(a,d,e){if("string"===c(d.type)&&!d.enum){var f=g(a,d,e);return f.key=e.path,f.type="text",e.lookup[b.stringify(e.path)]=f,f}},i=function(a,d,e){if("number"===c(d.type)){var f=g(a,d,e);return f.key=e.path,f.type="number",e.lookup[b.stringify(e.path)]=f,f}},j=function(a,d,e){if("integer"===c(d.type)){var f=g(a,d,e);return f.key=e.path,f.type="number",e.lookup[b.stringify(e.path)]=f,f}},k=function(a,d,e){if("boolean"===c(d.type)){var f=g(a,d,e);return f.key=e.path,f.type="checkbox",e.lookup[b.stringify(e.path)]=f,f}},l=function(a,e,f){if("string"===c(e.type)&&e.enum){var h=g(a,e,f);return h.key=f.path,h.type="select",h.titleMap||(h.titleMap=d(e.enum)),f.lookup[b.stringify(f.path)]=h,h}},m=function(a,e,f){if("array"===c(e.type)&&e.items&&e.items.enum){var h=g(a,e,f);return h.key=f.path,h.type="checkboxes",h.titleMap||(h.titleMap=d(e.items.enum)),f.lookup[b.stringify(f.path)]=h,h}},n=function(d,e,h){if("object"===c(e.type)){var i=g(d,e,h);return i.type="fieldset",i.items=[],h.lookup[b.stringify(h.path)]=i,a.forEach(e.properties,function(a,c){var d=h.path.slice();if(d.push(c),!0!==h.ignore[b.stringify(d)]){var g=e.required&&-1!==e.required.indexOf(c),j=f(c,a,{path:d,required:g||!1,lookup:h.lookup,ignore:h.ignore,global:h.global});j&&i.items.push(j)}}),i}},o=function(a,d,e){if("array"===c(d.type)){var h=g(a,d,e);h.type="array",h.key=e.path,e.lookup[b.stringify(e.path)]=h;var i=d.required&&-1!==d.required.indexOf(e.path[e.path.length-1]),j=e.path.slice();return j.push(""),h.items=[f(a,d.items,{path:j,required:i||!1,lookup:e.lookup,ignore:e.ignore,global:e.global})],h}},p={string:[l,h],object:[n],number:[i],integer:[j],boolean:[k],array:[m,o]},q=function(a){return a};this.defaults=p,this.stdFormObj=g,this.defaultFormDefinition=f,this.postProcess=function(a){q=a},this.appendRule=function(a,b){p[a]||(p[a]=[]),p[a].push(b)},this.prependRule=function(a,b){p[a]||(p[a]=[]),p[a].unshift(b)},this.createStandardForm=g,this.$get=function(){var d={};return d.merge=function(c,f,g,h,i,j){f=f||["*"],h=h||{},i=i||c.readonly||c.readOnly;var k=d.defaults(c,g,h),l=f.indexOf("*");-1!==l&&(f=f.slice(0,l).concat(k.form).concat(f.slice(l+1)));var m=k.lookup;return q(f.map(function(f){if("string"==typeof f&&(f={key:f}),f.key&&"string"==typeof f.key&&(f.key=b.parse(f.key)),f.titleMap&&(f.titleMap=e(f.titleMap)),f.itemForm){f.items=[];var k=b.stringify(f.key),l=m[k];a.forEach(l.items,function(b){var c=a.copy(f.itemForm);c.key=b.key,f.items.push(c)})}if(f.key){var n=b.stringify(f.key);if(m[n]){var o=m[n];a.forEach(o,function(a,b){void 0===f[b]&&(f[b]=o[b])})}}return!0===i&&(f.readonly=!0),f.items&&(f.items=d.merge(c,f.items,g,h,f.readonly,j)),f.tabs&&a.forEach(f.tabs,function(a){a.items=d.merge(c,a.items,g,h,f.readonly,j)}),"checkbox"===f.type&&a.isUndefined(f.schema.default)&&(f.schema.default=!1),j&&"template"===f.type&&!f.template&&f.templateUrl&&j.push(f),f}))},d.defaults=function(b,d,e){var g=[],h={};if(d=d||{},e=e||{},"object"!==c(b.type))throw new Error('Not implemented. Only type "object" allowed at root level of schema.');return a.forEach(b.properties,function(a,c){if(!0!==d[c]){var i=b.required&&-1!==b.required.indexOf(c),j=f(c,a,{path:[c],lookup:h,ignore:d,required:i,global:e});j&&g.push(j)}}),{form:g,lookup:h}},d.traverseSchema=function(b,c,d,e){e=!a.isDefined(e)||e,d=d||[];var f=function(b,c,d){if(c(b,d),a.forEach(b.properties,function(a,b){var e=d.slice();e.push(b),f(a,c,e)}),!e&&b.items){var g=d.slice();g.push(""),f(b.items,c,g)}};f(b,c,d||[])},d.traverseForm=function(b,c){c(b),a.forEach(b.items,function(a){d.traverseForm(a,c)}),b.tabs&&a.forEach(b.tabs,function(b){a.forEach(b.items,function(a){d.traverseForm(a,c)})})},d}}]),a.module("schemaForm").factory("sfSelect",["sfPath",function(a){var b=/^\d+$/;return function(c,d,e){d||(d=this);var f="string"==typeof c?a.parse(c):c;if(void 0!==e&&1===f.length)return d[f[0]]=e,d;void 0!==e&&void 0===d[f[0]]&&(d[f[0]]=f.length>2&&b.test(f[1])?[]:{});for(var g=d[f[0]],h=1;h<f.length;h++){if(""===f[h])return;if(void 0!==e){if(h===f.length-1)return g[f[h]]=e,e;var i=g[f[h]];void 0!==i&&null!==i||(i=b.test(f[h+1])?[]:{},g[f[h]]=i),g=i}else g&&(g=g[f[h]])}return g}}]),a.module("schemaForm").factory("sfValidator",[function(){var b={};return b.validate=function(b,d){if(!b)return{valid:!0};var e=b.schema;if(!e)return{valid:!0};""===d&&(d=void 0),"number"===b.type&&null===d&&(d=void 0);var f={type:"object",properties:{}},g=b.key[b.key.length-1];f.properties[g]=e,b.required&&(f.required=[g]);var h={};return a.isDefined(d)&&(h[g]=d),c.validateResult(h,f)},b}]),a.module("schemaForm").directive("sfArray",["sfSelect","schemaForm","sfValidator","sfPath",function(b,c,d,e){var f=function(a){return function(b){b.key&&(b.key[b.key.indexOf("")]=a)}};return{restrict:"A",scope:!0,require:"?ngModel",link:function(g,h,i,j){var k={};g.validateArray=a.noop,j&&g.$emit("schemaFormPropagateNgModelController",j);var l=g.$watch(i.sfArray,function(h){if(h){var i=b(h.key,g.model),m=e.normalize(h.key);if(g.$watch("model"+("["!==m[0]?".":"")+m,function(a){i=g.modelArray=a}),a.isUndefined(i)&&(i=[],b(h.key,g.model,i)),g.modelArray=i,h.items){var n=h.items[0];h.items.length>1&&(n={type:"section",items:h.items.map(function(b){return b.ngModelOptions=h.ngModelOptions,a.isUndefined(b.readonly)&&(b.readonly=h.readonly),b})})}if(g.copyWithIndex=function(b){if(!k[b]&&n){var d=a.copy(n);d.arrayIndex=b,c.traverseForm(d,f(b)),k[b]=d}return k[b]},g.appendToArray=function(){var d=i.length,e=g.copyWithIndex(d);if(c.traverseForm(e,function(c){if(c.key){var d;a.isDefined(c.default)&&(d=c.default),a.isDefined(c.schema)&&a.isDefined(c.schema.default)&&(d=c.schema.default),a.isDefined(d)&&b(c.key,g.model,d)}}),d===i.length){var f,j=b("schema.items.type",h);"object"===j?f={}:"array"===j&&(f=[]),i.push(f)}return g.validateArray(),i},g.deleteFromArray=function(a){return i.splice(a,1),g.validateArray(),j&&j.$setDirty&&j.$setDirty(),i},h.titleMap||!0===h.startEmpty||0!==i.length||g.appendToArray(),h.titleMap&&h.titleMap.length>0){g.titleMapValues=[];var o=function(a){g.titleMapValues=[],a=a||[],h.titleMap.forEach(function(b){g.titleMapValues.push(-1!==a.indexOf(b.value))})};o(g.modelArray),g.$watchCollection("modelArray",o),g.$watchCollection("titleMapValues",function(a,b){if(a&&a!==b){for(var c=g.modelArray;c.length>0;)c.pop();h.titleMap.forEach(function(b,d){a[d]&&c.push(b.value)}),g.validateArray()}})}if(j){var p;g.validateArray=function(){var a=d.validate(h,g.modelArray.length>0?g.modelArray:void 0);Object.keys(j.$error).filter(function(a){return 0===a.indexOf("tv4-")}).forEach(function(a){j.$setValidity(a,!0)}),!1!==a.valid||!a.error||""!==a.error.dataPath&&a.error.dataPath!=="/"+h.key[h.key.length-1]||(j.$setViewValue(g.modelArray),p=a.error,j.$setValidity("tv4-"+a.error.code,!1))},g.$on("schemaFormValidate",g.validateArray),g.hasSuccess=function(){return g.options&&g.options.pristine&&!1===g.options.pristine.success?j.$valid&&!j.$pristine&&!j.$isEmpty(j.$modelValue):j.$valid&&(!j.$pristine||!j.$isEmpty(j.$modelValue))},g.hasError=function(){return g.options&&g.options.pristine&&!1===g.options.pristine.errors?j.$invalid&&!j.$pristine:j.$invalid},g.schemaError=function(){return p}}l()}})}}}]),a.module("schemaForm").directive("sfChanged",function(){return{require:"ngModel",restrict:"AC",scope:!1,link:function(b,c,d,e){var f=b.$eval(d.sfChanged);f&&f.onChange&&e.$viewChangeListeners.push(function(){a.isFunction(f.onChange)?f.onChange(e.$modelValue,f):b.evalExpr(f.onChange,{modelValue:e.$modelValue,form:f})})}}}),a.module("schemaForm").directive("sfField",["$parse","$compile","$http","$templateCache","$interpolate","$q","sfErrorMessage","sfPath","sfSelect",function(b,c,d,e,f,g,h,i,j){return{restrict:"AE",replace:!1,transclude:!1,scope:!0,require:"^sfSchema",link:{pre:function(a,b,c,d){a.$on("schemaFormPropagateNgModelController",function(b,c){b.stopPropagation(),b.preventDefault(),a.ngModel=c}),a.form=d.lookup["f"+c.sfField]},post:function(b,c,d,e){b.showTitle=function(){return b.form&&!0!==b.form.notitle&&b.form.title},b.listToCheckboxValues=function(b){var c={};return a.forEach(b,function(a){c[a]=!0}),c},b.checkboxValuesToList=function(b){var c=[];return a.forEach(b,function(a,b){a&&c.push(b)}),c},b.buttonClick=function(c,d){a.isFunction(d.onClick)?d.onClick(c,d):a.isString(d.onClick)&&(e?e.evalInParentScope(d.onClick,{$event:c,form:d}):b.$eval(d.onClick,{$event:c,form:d}))},b.evalExpr=function(a,c){return e?e.evalInParentScope(a,c):b.$eval(a,c)},b.evalInScope=function(a,c){if(a)return b.$eval(a,c)},b.interp=function(a,b){return a&&f(a)(b)},b.hasSuccess=function(){return!!b.ngModel&&(b.options&&b.options.pristine&&!1===b.options.pristine.success?b.ngModel.$valid&&!b.ngModel.$pristine&&!b.ngModel.$isEmpty(b.ngModel.$modelValue):b.ngModel.$valid&&(!b.ngModel.$pristine||!b.ngModel.$isEmpty(b.ngModel.$modelValue)))},b.hasError=function(){return!!b.ngModel&&(b.options&&b.options.pristine&&!1===b.options.pristine.errors?b.ngModel.$invalid&&!b.ngModel.$pristine:b.ngModel.$invalid)},b.errorMessage=function(a){return h.interpolate(a&&a.code+""||"default",b.ngModel&&b.ngModel.$modelValue||"",b.ngModel&&b.ngModel.$viewValue||"",b.form,b.options&&b.options.validationMessage)};var g=b.form;g.key&&(b.$on("schemaForm.error."+g.key.join("."),function(a,c,d,e){!0!==d&&!1!==d||(e=d,d=void 0),b.ngModel&&c&&(b.ngModel.$setDirty?b.ngModel.$setDirty():(b.ngModel.$dirty=!0,b.ngModel.$pristine=!1),d&&(g.validationMessage||(g.validationMessage={}),g.validationMessage[c]=d),b.ngModel.$setValidity(c,!0===e),!0===e&&(b.ngModel.$validate(),b.$broadcast("schemaFormValidate")))}),b.$on("$destroy",function(){if(!b.externalDestructionInProgress){var a=g.destroyStrategy||b.options&&b.options.destroyStrategy||"remove";if(g.key&&"retain"!==a){var c=b.model;if(g.key.length>1&&(c=j(g.key.slice(0,g.key.length-1),c)),void 0===c)return;var d=g.schema&&g.schema.type||"";"empty"===a&&-1!==d.indexOf("string")?c[g.key.slice(-1)]="":"empty"===a&&-1!==d.indexOf("object")?c[g.key.slice(-1)]={}:"empty"===a&&-1!==d.indexOf("array")?c[g.key.slice(-1)]=[]:"null"===a?c[g.key.slice(-1)]=null:delete c[g.key.slice(-1)]}}}))}}}}]),a.module("schemaForm").directive("sfMessage",["$injector","sfErrorMessage",function(b,c){var d=b.has("$sanitize")?b.get("$sanitize"):function(a){return a};return{scope:!1,restrict:"EA",link:function(b,e,f){var g="";f.sfMessage&&b.$watch(f.sfMessage,function(a){a&&(g=d(a),j(!!b.ngModel))});var h,i=function(a){a!==h&&(e.html(a),h=a)},j=function(d){if(d)if(b.hasError()){var e=[];a.forEach(b.ngModel&&b.ngModel.$error,function(a,b){a&&e.push(b)}),e=e.filter(function(a){return"schemaForm"!==a});var f=e[0];i(f?c.interpolate(f,b.ngModel.$modelValue,b.ngModel.$viewValue,b.form,b.options&&b.options.validationMessage):g)}else i(g);else i(g)};j();var k=b.$watch("ngModel",function(a){a&&(a.$parsers.push(function(a){return j(!0),a}),a.$formatters.push(function(a){return j(!0),a}),k())});b.$watchCollection("ngModel.$error",function(){j(!!b.ngModel)})}}}]),a.module("schemaForm").directive("sfNewArray",["sfSelect","sfPath","schemaForm",function(b,c,d){return{scope:!1,link:function(e,f,g){e.min=0,e.modelArray=e.$eval(g.sfNewArray);var h=function(){e.modelArray=e.$eval(g.sfNewArray),e.ngModel&&e.ngModel.$pristine&&e.firstDigest&&(!e.options||!0!==e.options.validateOnRender)||e.validateField&&e.validateField()},i=function(){e.form&&e.form.onChange&&(a.isFunction(e.form.onChange)?e.form.onChange(e.modelArray,e.form):e.evalExpr(e.form.onChange,{modelValue:e.modelArray,form:e.form}))},j=function(){var a=e.modelArray;if(!a){var d=c.parse(g.sfNewArray);a=[],b(d,e,a),e.modelArray=a}return a},k=e.$watch("form",function(a){if(a){if(a.titleMap||!0===a.startEmpty||e.modelArray&&0!==e.modelArray.length||e.appendToArray(),e.form&&e.form.schema&&!0===e.form.schema.uniqueItems?(e.$watch(g.sfNewArray,h,!0),e.$watch([g.sfNewArray,g.sfNewArray+".length"],i)):e.$watchGroup?e.$watchGroup([g.sfNewArray,g.sfNewArray+".length"],function(){h(),i()}):(e.$watch(g.sfNewArray,function(){h(),i()}),e.$watch(g.sfNewArray+".length",function(){h(),i()})),a.titleMap&&a.titleMap.length>0){e.titleMapValues=[];var b=function(b){e.titleMapValues=[],b=b||[],a.titleMap.forEach(function(a){e.titleMapValues.push(-1!==b.indexOf(a.value))})};b(e.modelArray),e.$watchCollection("modelArray",b),e.$watchCollection("titleMapValues",function(b,c){if(b&&b!==c){for(var d=j();d.length>0;)d.pop();a.titleMap.forEach(function(a,c){b[c]&&d.push(a.value)}),e.validateField&&e.validateField()}})}k()}});e.appendToArray=function(){var c,f=j();if(e.form&&e.form.schema&&e.form.schema.items){var g=e.form.schema.items;g.type&&-1!==g.type.indexOf("object")?(c={},e.options&&!1===e.options.setSchemaDefaults||(c=a.isDefined(g.default)?g.default:c)&&d.traverseSchema(g,function(d,e){a.isDefined(d.default)&&b(e,c,d.default)})):g.type&&-1!==g.type.indexOf("array")?(c=[],e.options&&!1===e.options.setSchemaDefaults||(c=g.default||c)):e.options&&!1===e.options.setSchemaDefaults||(c=g.default||c)}return f.push(c),f},e.deleteFromArray=function(a){var b=e.modelArray;return b&&b.splice(a,1),b};var l=function(a){return function(b){b.key&&(b.key[b.key.indexOf("")]=a)}},m={};e.copyWithIndex=function(b){var c=e.form;if(!m[b]){var f=c.items[0];if(c.items.length>1&&(f={type:"section",items:c.items.map(function(b){return b.ngModelOptions=c.ngModelOptions,a.isUndefined(b.readonly)&&(b.readonly=c.readonly),b})}),f){var g=a.copy(f);g.arrayIndex=b,d.traverseForm(g,l(b)),m[b]=g}}return m[b]}}}}]),a.module("schemaForm").directive("sfSchema",["$compile","$http","$templateCache","$q","schemaForm","schemaFormDecorators","sfSelect","sfPath","sfBuilder",function(b,c,d,e,f,g,h,i,j){return{scope:{schema:"=sfSchema",initialForm:"=sfForm",model:"=sfModel",options:"=sfOptions"},controller:["$scope",function(a){this.evalInParentScope=function(b,c){return a.$parent.$eval(b,c)};var b=this;a.lookup=function(a){return a&&(b.lookup=a),b.lookup}}],replace:!1,restrict:"A",transclude:!0,require:"?form",link:function(i,k,l,m,n){i.formCtrl=m;var o={};n(i,function(a){if(a.addClass("schema-form-ignore"),k.prepend(a),k[0].querySelectorAll){var b=k[0].querySelectorAll("[ng-model]");if(b)for(var c=0;c<b.length;c++){var d=b[c].getAttribute("ng-model");o[d.substring(d.indexOf(".")+1)]=!0}}});var p,q={},r=function(a,b){var g=[],h=f.merge(a,b,o,i.options,void 0,g);g.length>0?e.all(g.map(function(a){return c.get(a.templateUrl,{cache:d}).then(function(b){a.template=b.data})})).then(function(){s(a,b,h)}):s(a,b,h)},s=function(c,d,e){p&&(i.externalDestructionInProgress=!0,p.$destroy(),i.externalDestructionInProgress=!1),p=i.$new(),p.schemaForm={form:e,schema:c},k.children(":not(.schema-form-ignore)").remove();for(var m={},n=k[0].querySelectorAll("*[sf-insert-field]"),o=0;o<n.length;o++)m[n[o].getAttribute("sf-insert-field")]=n[o];var q=g.decorator(l.sfUseDecorator),r=Object.create(null);i.lookup(r),k[0].appendChild(j.build(e,q,m,r)),p.firstDigest=!0,setTimeout(function(){p.firstDigest=!1},0),b(k.children())(p),i.options&&!1===i.options.setSchemaDefaults||f.traverseSchema(c,function(b,c){if(a.isDefined(b.default)){var d=h(c,i.model);a.isUndefined(d)&&h(c,i.model,b.default)}}),i.$emit("sf-render-finished",k)},t=["*"];i.$watch(function(){var a=i.schema,b=i.initialForm||t;b&&a&&a.type&&(q.form!==b||q.schema!==a)&&Object.keys(a.properties).length>0&&(q.schema=a,q.form=b,r(a,b))}),i.$on("schemaFormRedraw",function(){var b=i.schema,c=i.initialForm?a.copy(i.initialForm):["*"];b&&r(b,c)}),i.$on("$destroy",function(){i.externalDestructionInProgress=!0}),i.evalExpr=function(a,b){return i.$parent.$eval(a,b)}}}}]),a.module("schemaForm").directive("schemaValidate",["sfValidator","$parse","sfSelect",function(b,c,d){return{restrict:"A",scope:!1,priority:500,require:"ngModel",link:function(c,e,f,g){c.$emit("schemaFormPropagateNgModelController",g);var h=null,i=c.$eval(f.schemaValidate);i.copyValueTo&&g.$viewChangeListeners.push(function(){var b=i.copyValueTo;a.forEach(b,function(a){d(a,c.model,g.$modelValue)})});var j=function(a){if(!i)return a;if(c.options&&!1===c.options.tv4Validation)return a;var d=b.validate(i,a);Object.keys(g.$error).filter(function(a){return 0===a.indexOf("tv4-")}).forEach(function(a){g.$setValidity(a,!0)});{if(d.valid)return a;if(g.$setValidity("tv4-"+d.error.code,!1),h=d.error,g.$validators)return a}};"function"==typeof i.ngModel&&i.ngModel(g),["$parsers","$viewChangeListeners","$formatters"].forEach(function(a){i[a]&&g[a]&&i[a].forEach(function(b){g[a].push(b)})}),["$validators","$asyncValidators"].forEach(function(b){i[b]&&g[b]&&a.forEach(i[b],function(a,c){g[b][c]=a})}),g.$parsers.push(j),g.$validators&&(g.$validators.schemaForm=function(){return!Object.keys(g.$error).some(function(a){return"schemaForm"!==a})});var k=i.schema;c.validateField=function(a){void 0!=a&&g.$$parentForm.$name!==a||(k&&-1!==k.type.indexOf("array")&&j(g.$modelValue),g.$setDirty?(g.$setDirty(),g.$setViewValue(g.$viewValue),g.$commitViewValue(),i.required&&g.$isEmpty(g.$modelValue)&&g.$setValidity("tv4-302",!1)):g.$setViewValue(g.$viewValue))},g.$formatters.push(function(a){return!g.$pristine||!c.firstDigest||c.options&&!0===c.options.validateOnRender?(j(g.$modelValue),a):a}),c.$on("schemaFormValidate",function(a,b){c.validateField(b)}),c.schemaError=function(){return h}}}}]),e}),function(a,b){"function"==typeof define&&define.amd?define(["schemaForm"],b):"object"==typeof exports?module.exports=b(require("schemaForm")):a.bootstrapDecorator=b(a.schemaForm)}(this,function(a){return angular.module("schemaForm").run(["$templateCache",function(a){a.put("directives/decorators/bootstrap/actions-trcl.html",'<div class="btn-group schema-form-actions {{form.htmlClass}}" ng-transclude=""></div>'),a.put("directives/decorators/bootstrap/actions.html",'<div class="btn-group schema-form-actions {{form.htmlClass}}"><input ng-repeat-start="item in form.items" type="submit" class="btn {{ item.style || \'btn-default\' }} {{form.fieldHtmlClass}}" value="{{item.title}}" ng-if="item.type === \'submit\'"> <button ng-repeat-end="" class="btn {{ item.style || \'btn-default\' }} {{form.fieldHtmlClass}}" type="button" ng-disabled="form.readonly" ng-if="item.type !== \'submit\'" ng-click="buttonClick($event,item)"><span ng-if="item.icon" class="{{item.icon}}"></span>{{item.title}}</button></div>'),
a.put("directives/decorators/bootstrap/array.html",'<div sf-array="form" class="schema-form-array {{form.htmlClass}}" ng-model="$$value$$" ng-model-options="form.ngModelOptions"><label class="control-label" ng-show="showTitle()">{{ form.title }}</label><ol class="list-group" ng-model="modelArray" ui-sortable=""><li class="list-group-item {{form.fieldHtmlClass}}" ng-repeat="item in modelArray track by $index"><button ng-hide="form.readonly || form.remove === null" ng-click="deleteFromArray($index)" style="position: relative; z-index: 20;" type="button" class="close pull-right"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button><sf-decorator ng-init="arrayIndex = $index" form="copyWithIndex($index)"></sf-decorator></li></ol><div class="clearfix" style="padding: 15px;"><button ng-hide="form.readonly || form.add === null" ng-click="appendToArray()" type="button" class="btn {{ form.style.add || \'btn-default\' }} pull-right"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</button></div><div class="help-block" ng-show="(hasError() && errorMessage(schemaError())) || form.description" ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div></div>'),a.put("directives/decorators/bootstrap/checkbox.html",'<div class="checkbox schema-form-checkbox {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="{{form.labelHtmlClass}}"><input type="checkbox" sf-changed="form" ng-disabled="form.readonly" ng-model="$$value$$" ng-model-options="form.ngModelOptions" schema-validate="form" class="{{form.fieldHtmlClass}}" name="{{form.key.slice(-1)[0]}}"> <span ng-bind-html="form.title"></span></label><div class="help-block" sf-message="form.description"></div></div>'),a.put("directives/decorators/bootstrap/checkboxes.html",'<div sf-array="form" ng-model="$$value$$" class="form-group schema-form-checkboxes {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label><div class="checkbox" ng-repeat="val in titleMapValues track by $index"><label><input type="checkbox" ng-disabled="form.readonly" sf-changed="form" class="{{form.fieldHtmlClass}}" ng-model="titleMapValues[$index]" name="{{form.key.slice(-1)[0]}}"> <span ng-bind-html="form.titleMap[$index].name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'),a.put("directives/decorators/bootstrap/default.html",'<div class="form-group schema-form-{{form.type}} {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false }"><label class="control-label {{form.labelHtmlClass}}" ng-class="{\'sr-only\': !showTitle()}" for="{{form.key.slice(-1)[0]}}">{{form.title}}</label> <input ng-if="!form.fieldAddonLeft && !form.fieldAddonRight" ng-show="form.key" type="{{form.type}}" step="{{form.step || \'any\'}}" sf-changed="form" placeholder="{{form.placeholder}}" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" ng-model-options="form.ngModelOptions" ng-model="$$value$$" ng-disabled="form.readonly" schema-validate="form" name="{{form.key.slice(-1)[0]}}" aria-describedby="{{form.key.slice(-1)[0] + \'Status\'}}"><div ng-if="form.fieldAddonLeft || form.fieldAddonRight" ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}"><span ng-if="form.fieldAddonLeft" class="input-group-addon" ng-bind-html="form.fieldAddonLeft"></span> <input ng-show="form.key" type="{{form.type}}" step="{{form.step}}" sf-changed="form" placeholder="{{form.placeholder}}" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" ng-model-options="form.ngModelOptions" ng-model="$$value$$" ng-disabled="form.readonly" schema-validate="form" name="{{form.key.slice(-1)[0]}}" aria-describedby="{{form.key.slice(-1)[0] + \'Status\'}}"> <span ng-if="form.fieldAddonRight" class="input-group-addon" ng-bind-html="form.fieldAddonRight"></span></div><span ng-if="form.feedback !== false" class="form-control-feedback" ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }" aria-hidden="true"></span> <span ng-if="hasError() || hasSuccess()" id="{{form.key.slice(-1)[0] + \'Status\'}}" class="sr-only">{{ hasSuccess() ? \'(success)\' : \'(error)\' }}</span><div class="help-block" sf-message="form.description"></div></div>'),a.put("directives/decorators/bootstrap/fieldset-trcl.html",'<fieldset ng-disabled="form.readonly" class="schema-form-fieldset {{form.htmlClass}}"><legend ng-class="{\'sr-only\': !showTitle() }">{{ form.title }}</legend><div class="help-block" ng-show="form.description" ng-bind-html="form.description"></div><div ng-transclude=""></div></fieldset>'),a.put("directives/decorators/bootstrap/fieldset.html",'<fieldset ng-disabled="form.readonly" class="schema-form-fieldset {{form.htmlClass}}"><legend ng-class="{\'sr-only\': !showTitle() }">{{ form.title }}</legend><div class="help-block" ng-show="form.description" ng-bind-html="form.description"></div><sf-decorator ng-repeat="item in form.items" form="item"></sf-decorator></fieldset>'),a.put("directives/decorators/bootstrap/help.html",'<div class="helpvalue schema-form-helpvalue {{form.htmlClass}}" ng-bind-html="form.helpvalue"></div>'),a.put("directives/decorators/bootstrap/radio-buttons.html",'<div class="form-group schema-form-radiobuttons {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><div><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label></div><div class="btn-group"><label class="btn {{ (item.value === $$value$$) ? form.style.selected || \'btn-default\' : form.style.unselected || \'btn-default\'; }}" ng-class="{ active: item.value === $$value$$ }" ng-repeat="item in form.titleMap"><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" style="display: none;" ng-disabled="form.readonly" ng-model="$$value$$" ng-model-options="form.ngModelOptions" schema-validate="form" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'),a.put("directives/decorators/bootstrap/radios-inline.html",'<div class="form-group schema-form-radios-inline {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label ng-model="$$value$$" ng-model-options="form.ngModelOptions" schema-validate="form" class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label><div><label class="radio-inline" ng-repeat="item in form.titleMap"><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" ng-disabled="form.readonly" ng-model="$$value$$" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'),a.put("directives/decorators/bootstrap/radios.html",'<div class="form-group schema-form-radios {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label ng-model="$$value$$" ng-model-options="form.ngModelOptions" schema-validate="form" class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label><div class="radio" ng-repeat="item in form.titleMap"><label><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" ng-disabled="form.readonly" ng-model="$$value$$" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'),a.put("directives/decorators/bootstrap/section.html",'<div class="schema-form-section {{form.htmlClass}}"><sf-decorator ng-repeat="item in form.items" form="item"></sf-decorator></div>'),a.put("directives/decorators/bootstrap/select.html",'<div class="form-group {{form.htmlClass}} schema-form-select" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false}"><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label><select ng-model="$$value$$" ng-model-options="form.ngModelOptions" ng-disabled="form.readonly" sf-changed="form" class="form-control {{form.fieldHtmlClass}}" schema-validate="form" ng-options="item.value as item.name group by item.group for item in form.titleMap" name="{{form.key.slice(-1)[0]}}"></select><div class="help-block" sf-message="form.description"></div></div>'),a.put("directives/decorators/bootstrap/submit.html",'<div class="form-group schema-form-submit {{form.htmlClass}}"><input type="submit" class="btn {{ form.style || \'btn-primary\' }} {{form.fieldHtmlClass}}" value="{{form.title}}" ng-disabled="form.readonly" ng-if="form.type === \'submit\'"> <button class="btn {{ form.style || \'btn-default\' }}" type="button" ng-click="buttonClick($event,form)" ng-disabled="form.readonly" ng-if="form.type !== \'submit\'"><span ng-if="form.icon" class="{{form.icon}}"></span> {{form.title}}</button></div>'),a.put("directives/decorators/bootstrap/tabarray.html",'<div sf-array="form" ng-init="selected = { tab: 0 }" class="clearfix schema-form-tabarray schema-form-tabarray-{{form.tabType || \'left\'}} {{form.htmlClass}}"><div ng-if="!form.tabType || form.tabType !== \'right\'" ng-class="{\'col-xs-3\': !form.tabType || form.tabType === \'left\'}"><ul class="nav nav-tabs" ng-class="{ \'tabs-left\': !form.tabType || form.tabType === \'left\'}"><li ng-repeat="item in modelArray track by $index" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{interp(form.title,{\'$index\':$index, value: item}) || $index}}</a></li><li ng-hide="form.readonly" ng-click="$event.preventDefault() || (selected.tab = appendToArray().length - 1)"><a href="#"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</a></li></ul></div><div ng-class="{\'col-xs-9\': !form.tabType || form.tabType === \'left\' || form.tabType === \'right\'}"><div class="tab-content {{form.fieldHtmlClass}}"><div class="tab-pane clearfix" ng-repeat="item in modelArray track by $index" ng-show="selected.tab === $index" ng-class="{active: selected.tab === $index}"><sf-decorator ng-init="arrayIndex = $index" form="copyWithIndex($index)"></sf-decorator><button ng-hide="form.readonly" ng-click="selected.tab = deleteFromArray($index).length - 1" type="button" class="btn {{ form.style.remove || \'btn-default\' }} pull-right"><i class="glyphicon glyphicon-trash"></i> {{ form.remove || \'Remove\'}}</button></div></div></div><div ng-if="form.tabType === \'right\'" class="col-xs-3"><ul class="nav nav-tabs tabs-right"><li ng-repeat="item in modelArray track by $index" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{interp(form.title,{\'$index\':$index, value: item}) || $index}}</a></li><li ng-hide="form.readonly" ng-click="$event.preventDefault() || appendToArray()"><a href="#"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</a></li></ul></div></div>'),a.put("directives/decorators/bootstrap/tabs.html",'<div ng-init="selected = { tab: 1 }" class="schema-form-tabs {{form.htmlClass}}"><ul class="nav nav-tabs"><li ng-repeat="tab in form.tabs" ng-disabled="form.readonly" ng-show="tab.hidden !== true" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{ tab.title }}</a></li></ul><div class="tab-content {{form.fieldHtmlClass}}"><div class="tab-pane" ng-disabled="form.readonly" ng-repeat="tab in form.tabs" ng-show="selected.tab === $index" ng-class="{active: selected.tab === $index}"><bootstrap-decorator ng-repeat="item in tab.items" form="item"></bootstrap-decorator></div></div></div>'),a.put("directives/decorators/bootstrap/textarea.html",'<div class="form-group has-feedback {{form.htmlClass}} schema-form-textarea" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="{{form.labelHtmlClass}}" ng-class="{\'sr-only\': !showTitle()}" for="{{form.key.slice(-1)[0]}}">{{form.title}}</label> <textarea ng-if="!form.fieldAddonLeft && !form.fieldAddonRight" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-changed="form" placeholder="{{form.placeholder}}" ng-disabled="form.readonly" ng-model="$$value$$" ng-model-options="form.ngModelOptions" schema-validate="form" name="{{form.key.slice(-1)[0]}}"></textarea><div ng-if="form.fieldAddonLeft || form.fieldAddonRight" ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}"><span ng-if="form.fieldAddonLeft" class="input-group-addon" ng-bind-html="form.fieldAddonLeft"></span> <textarea class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-changed="form" placeholder="{{form.placeholder}}" ng-disabled="form.readonly" ng-model="$$value$$" ng-model-options="form.ngModelOptions" schema-validate="form" name="{{form.key.slice(-1)[0]}}"></textarea> <span ng-if="form.fieldAddonRight" class="input-group-addon" ng-bind-html="form.fieldAddonRight"></span></div><span class="help-block" sf-message="form.description"></span></div>')}]),angular.module("schemaForm").config(["schemaFormDecoratorsProvider",function(a){var b="directives/decorators/bootstrap/";a.defineDecorator("bootstrapDecorator",{textarea:{template:b+"textarea.html",replace:!1},fieldset:{template:b+"fieldset.html",replace:!1},array:{template:b+"array.html",replace:!1},tabarray:{template:b+"tabarray.html",replace:!1},tabs:{template:b+"tabs.html",replace:!1},section:{template:b+"section.html",replace:!1},conditional:{template:b+"section.html",replace:!1},actions:{template:b+"actions.html",replace:!1},select:{template:b+"select.html",replace:!1},checkbox:{template:b+"checkbox.html",replace:!1},checkboxes:{template:b+"checkboxes.html",replace:!1},number:{template:b+"default.html",replace:!1},password:{template:b+"default.html",replace:!1},submit:{template:b+"submit.html",replace:!1},button:{template:b+"submit.html",replace:!1},radios:{template:b+"radios.html",replace:!1},"radios-inline":{template:b+"radios-inline.html",replace:!1},radiobuttons:{template:b+"radio-buttons.html",replace:!1},help:{template:b+"help.html",replace:!1},default:{template:b+"default.html",replace:!1}},[]),a.createDirectives({textarea:b+"textarea.html",select:b+"select.html",checkbox:b+"checkbox.html",checkboxes:b+"checkboxes.html",number:b+"default.html",submit:b+"submit.html",button:b+"submit.html",text:b+"default.html",date:b+"default.html",password:b+"default.html",datepicker:b+"datepicker.html",input:b+"default.html",radios:b+"radios.html","radios-inline":b+"radios-inline.html",radiobuttons:b+"radio-buttons.html"})}]).directive("sfFieldset",function(){return{transclude:!0,scope:!0,templateUrl:"directives/decorators/bootstrap/fieldset-trcl.html",link:function(a,b,c){a.title=a.$eval(c.title)}}}),a}),angular.module("schemaForm").run(["$templateCache",function(a){a.put("directives/decorators/bootstrap/colorpicker/colorpicker.html","<div class=\"form-group\" ng-class=\"{'has-error': hasError()}\">\n  <label class=\"control-label\" ng-show=\"showTitle()\">{{form.title}}</label>\n  <div ng-init=\"defaultSpectrumOptions = {\n                  showInput: true,\n                  showAlpha: true,\n                  allowEmpty: true,\n                  showPalette: true,\n                  preferredFormat: form.colorFormat || 'rgb',\n                  palette: [['#fce94f', '#fcaf3e', '#e9b96e'],\n                  ['#8ae234', '#729fcf', '#ad7fa8'],\n                  ['#ef2929', '#888a85', '#deface']]\n                }\">\n    <spectrum-colorpicker\n      ng-model=\"$$value$$\"\n      format=\"form.colorFormat || 'rgb'\"\n      style=\"background-color: white\"\n      type=\"color\"\n      schema-validate=\"form\"\n      options=\"form.spectrumOptions || defaultSpectrumOptions\"></spectrum-colorpicker>\n</div>\n  <span class=\"help-block\">{{ (hasError() && errorMessage(schemaError())) || form.description}}</span>\n</div>\n")}]),angular.module("schemaForm").config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(a,b,c){var d=function(b,d,e){if(("string"===d.type||"array"===d.type)&&"color"==d.format){var f=a.stdFormObj(b,d,e);return f.key=e.path,f.type="colorpicker",e.lookup[c.stringify(e.path)]=f,f}};a.defaults.string.unshift(d),b.addMapping("bootstrapDecorator","colorpicker","directives/decorators/bootstrap/colorpicker/colorpicker.html"),b.createDirective("colorpicker","directives/decorators/bootstrap/colorpicker/colorpicker.html")}]),angular.module("schemaForm").run(["$templateCache",function(a){a.put("directives/decorators/bootstrap/uiselect/multi.html",'<div class="form-group" ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess(), \'has-feedback\': form.feedback !== false}" ng-init="form.select_models=(form.schema.items| whereMulti : \'value\' : ($$value$$||[]))"><label class="control-label" ng-show="showTitle()">{{form.title}}</label><div class="form-group" ng-controller="UiSelectController"><ui-select multiple="" sortable-options="{{form.sortableOptions}}" ng-if="!(form.options.tagging||false)" ng-model="form.select_models" theme="bootstrap" on-select="$$value$$.push($item.value)" on-remove="$$value$$.splice($$value$$.indexOf($item.value), 1)" class="{{form.options.uiClass}}"><ui-select-match placeholder="{{form.placeholder || form.schema.placeholder || (\'placeholders.select\' | translate)}}">{{$item.label}}</ui-select-match><ui-select-choices refresh="fetchResult(form.schema, form.options, $select.search)" refresh-delay="form.options.refreshDelay" group-by="form.options.groupBy" repeat="item in form.schema.items | propsFilter: {label: $select.search, description: (form.options.searchDescriptions===true ? $select.search : \'NOTSEARCHINGFORTHIS\') }"><div ng-bind-html="item.label | highlight: $select.search"></div><div ng-if="item.description"><span ng-bind-html="\'<small>\' + (\'\'+item.description | highlight: (form.options.searchDescriptions===true ? $select.search : \'NOTSEARCHINGFORTHIS\'))+ \'</small>\'"></span></div></ui-select-choices></ui-select><ui-select ng-controller="UiSelectController" multiple="" ng-if="(form.options.tagging||false) && !(form.options.groupBy || false)" tagging="form.options.tagging||false" tagging-label="form.options.taggingLabel" tagging-tokens="form.options.taggingTokens" sortable-options="{{form.sortableOptions}}" ng-model="form.select_models" theme="bootstrap" on-select="$$value$$.push($item.value)" on-remove="$$value$$.splice($$value$$.indexOf($item.value), 1)" class="{{form.options.uiClass}}"><ui-select-match placeholder="{{form.placeholder || form.schema.placeholder || (\'placeholders.select\' | translate)}}">{{$item.label}}&nbsp;<small>{{($item.isTag===true ? form.options.taggingLabel : \'\')}}</small></ui-select-match><ui-select-choices refresh-delay="form.options.refreshDelay" refresh="fetchResult(form.schema, form.options, $select.search)" repeat="item in form.schema.items | propsFilter: {label: $select.search, description: (form.options.searchDescriptions===true ? $select.search : \'NOTSEARCHINGFORTHIS\') }"><div ng-if="item.isTag" ng-bind-html="\'<div>\' + (item.label | highlight: $select.search) + \' \' + form.options.taggingLabel + \'</div><div class=&quot;divider&quot;></div>\'"></div><div ng-if="!item.isTag" ng-bind-html="item.label + item.isTag | highlight: $select.search"></div><div ng-if="item.description"><span ng-bind-html="\'<small>\' + (\'\'+item.description | highlight: (form.options.searchDescriptions===true ? $select.search : \'NOTSEARCHINGFORTHIS\')) + \'</small>\'"></span></div></ui-select-choices></ui-select><ui-select ng-controller="UiSelectController" multiple="" ng-if="(form.options.tagging||false) && (form.options.groupBy || false)" tagging="form.options.tagging||false" tagging-label="form.options.taggingLabel" tagging-tokens="form.options.taggingTokens" sortable-options="{{form.sortableOptions}}" ng-model="form.select_models" theme="bootstrap" on-select="$$value$$.push($item.value)" on-remove="$$value$$.splice($$value$$.indexOf($item.value), 1)" class="{{form.options.uiClass}}"><ui-select-match placeholder="{{form.placeholder || form.schema.placeholder || (\'placeholders.select\' | translate)}}">{{$item.label}}&nbsp;<small>{{($item.isTag===true ? form.options.taggingLabel : \'\')}}</small></ui-select-match><ui-select-choices group-by="form.options.groupBy" refresh-delay="form.options.refreshDelay" refresh="fetchResult(form.schema, form.options, $select.search)" repeat="item in form.schema.items | propsFilter: {label: $select.search, description: (form.options.searchDescriptions===true ? $select.search : \'NOTSEARCHINGFORTHIS\') }"><div ng-if="item.isTag" ng-bind-html="\'<div>\' + (item.label | highlight: $select.search) + \' \' + form.options.taggingLabel + \'</div><div class=&quot;divider&quot;></div>\'"></div><div ng-if="!item.isTag" ng-bind-html="item.label + item.isTag | highlight: $select.search"></div><div ng-if="item.description"><span ng-bind-html="\'<small>\' + (\'\'+item.description | highlight: (form.options.searchDescriptions===true ? $select.search : \'NOTSEARCHINGFORTHIS\')) + \'</small>\'"></span></div></ui-select-choices></ui-select><input toggle-model="" type="hidden" ng-model="insideModel" sf-changed="form" schema-validate="form"> <span ng-if="form.feedback !== false" class="form-control-feedback" ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }"></span><div class="help-block" ng-show="(hasError() && errorMessage(schemaError())) || form.description" ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div></div></div>'),a.put("directives/decorators/bootstrap/uiselect/single.html",'<div class="form-group" ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess(), \'has-feedback\': form.feedback !== false}" ng-init="select_models=(form.schema.items | where : {value: $$value$$})"><label class="control-label" ng-show="showTitle()">{{form.title}}</label><div class="form-group" ng-init="select_model.selected=select_models[0]"><ui-select ng-model="select_model.selected" ng-controller="UiSelectController" ng-if="!(form.options.tagging||false)" theme="bootstrap" ng-disabled="form.disabled" on-select="$$value$$=$item.value" class="{{form.options.uiClass}}"><ui-select-match placeholder="{{form.placeholder || form.schema.placeholder || (\'placeholders.select\' | translate)}}">{{select_model.selected.label}}</ui-select-match><ui-select-choices refresh="fetchResult(form.schema, form.options, $select.search)" refresh-delay="form.options.refreshDelay" group-by="form.options.groupBy" repeat="item in form.schema.items | propsFilter: {label: $select.search, description: (form.options.searchDescriptions===true ? $select.search : \'NOTSEARCHINGFORTHIS\') }"><div ng-bind-html="item.label | highlight: $select.search"></div><div ng-if="item.description"><span ng-bind-html="\'<small>\' + (\'\'+item.description | highlight: (form.options.searchDescriptions===true ? $select.search : \'NOTSEARCHINGFORTHIS\'))+ \'</small>\'"></span></div></ui-select-choices></ui-select><ui-select ng-controller="UiSelectController" ng-model="select_model.selected" ng-if="(form.options.tagging||false) && !(form.options.groupBy || false)" tagging="form.options.tagging||false" tagging-label="form.options.taggingLabel" tagging-tokens="form.options.taggingTokens" theme="bootstrap" ng-disabled="form.disabled" on-select="$$value$$=$item.value" class="{{form.options.uiClass}}"><ui-select-match placeholder="{{form.placeholder || form.schema.placeholder || (\'placeholders.select\' | translate)}}">{{select_model.selected.label}}&nbsp;<small>{{(select_model.selected.isTag===true ? form.options.taggingLabel : \'\')}}</small></ui-select-match><ui-select-choices refresh="form.options.refreshMethod(form.schema, $select.search)" refresh-delay="form.options.refreshDelay" repeat="item in form.schema.items | propsFilter: {label: $select.search, description: (form.options.searchDescription===true ? $select.search : \'NOTSEARCHINGFORTHIS\') }"><div ng-if="item.isTag" ng-bind-html="\'<div>\' + (item.label | highlight: $select.search) + \' \' + form.options.taggingLabel + \'</div><div class=&quot;divider&quot;></div>\'"></div><div ng-if="!item.isTag" ng-bind-html="item.label + item.isTag| highlight: $select.search"></div><div ng-if="item.description"><span ng-bind-html="\'<small>\' + (\'\'+item.description | highlight: (form.options.searchDescriptions===true ? $select.search : \'NOTSEARCHINGFORTHIS\')) + \'</small>\'"></span></div></ui-select-choices></ui-select><ui-select ng-controller="UiSelectController" ng-model="select_model.selected" ng-if="(form.options.tagging||false) && (form.options.groupBy || false)" tagging="form.options.tagging||false" tagging-label="form.options.taggingLabel" tagging-tokens="form.options.taggingTokens" theme="bootstrap" ng-disabled="form.disabled" on-select="$$value$$=$item.value" class="{{form.options.uiClass}}"><ui-select-match placeholder="{{form.placeholder || form.schema.placeholder || (\'placeholders.select\' | translate)}}">{{select_model.selected.label}}&nbsp;<small>{{(select_model.selected.isTag===true ? form.options.taggingLabel : \'\')}}</small></ui-select-match><ui-select-choices group-by="form.options.groupBy" refresh="form.options.refreshMethod(form.schema, $select.search)" refresh-delay="form.options.refreshDelay" repeat="item in form.schema.items | propsFilter: {label: $select.search, description: (form.options.searchDescription===true ? $select.search : \'NOTSEARCHINGFORTHIS\') }"><div ng-if="item.isTag" ng-bind-html="\'<div>\' + (item.label | highlight: $select.search) + \' \' + form.options.taggingLabel + \'</div><div class=&quot;divider&quot;></div>\'"></div><div ng-if="!item.isTag" ng-bind-html="item.label + item.isTag| highlight: $select.search"></div><div ng-if="item.description"><span ng-bind-html="\'<small>\' + (\'\'+item.description | highlight: (form.options.searchDescriptions===true ? $select.search : \'NOTSEARCHINGFORTHIS\')) + \'</small>\'"></span></div></ui-select-choices></ui-select><input type="hidden" toggle-single-model="" sf-changed="form" ng-model="insideModel" schema-validate="form"> <span ng-if="form.feedback !== false" class="form-control-feedback" ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }"></span><div class="help-block" ng-show="(hasError() && errorMessage(schemaError())) || form.description" ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div></div></div>')}]),angular.module("schemaForm").config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(a,b,c){var d=function(b,d,e){if("string"===d.type&&"uiselect"==d.format){var f=a.stdFormObj(b,d,e);return f.key=e.path,f.type="uiselect",e.lookup[c.stringify(e.path)]=f,f}};a.defaults.string.unshift(d);var d=function(b,d,e){if("number"===d.type&&"uiselect"==d.format){var f=a.stdFormObj(b,d,e);return f.key=e.path,f.type="uiselect",e.lookup[c.stringify(e.path)]=f,f}};a.defaults.number.unshift(d);var e=function(b,d,e){if("array"===d.type&&"uiselect"==d.format){var f=a.stdFormObj(b,d,e);return f.key=e.path,f.type="uimultiselect",e.lookup[c.stringify(e.path)]=f,f}};a.defaults.array.unshift(e),b.addMapping("bootstrapDecorator","uiselect","directives/decorators/bootstrap/uiselect/single.html"),b.createDirective("uiselect","directives/decorators/bootstrap/uiselect/single.html"),b.addMapping("bootstrapDecorator","uimultiselect","directives/decorators/bootstrap/uiselect/multi.html"),b.createDirective("uimultiselect","directives/decorators/bootstrap/uiselect/multi.html")}]).directive("toggleSingleModel",function(){return{require:"ngModel",restrict:"A",scope:{},replace:!0,controller:["$scope",function(a){a.$parent.$watch("select_model.selected",function(){void 0!=a.$parent.select_model.selected&&(a.$parent.insideModel=a.$parent.select_model.selected.value,a.$parent.ngModel.$setViewValue(a.$parent.select_model.selected.value))})}]}}).directive("toggleModel",function(){return{require:"ngModel",restrict:"A",scope:{},replace:!0,controller:["$scope","sfSelect",function(a,b){var c=b(a.$parent.form.key,a.$parent.model);angular.isUndefined(c)&&(c=[],b(a.$parent.form.key,a.$parent.model,c)),a.$parent.$watch("form.select_models",function(){0==a.$parent.form.select_models.length?(a.$parent.insideModel=a.$parent.$$value$$,void 0!=a.$parent.ngModel.$viewValue&&a.$parent.ngModel.$setViewValue(a.$parent.form.select_models)):(a.$parent.insideModel=a.$parent.form.select_models,a.$parent.ngModel.$setViewValue(a.$parent.form.select_models))},!0)}]}}).filter("whereMulti",function(){return function(a,b,c){var d=[];return angular.isArray(c)?c.forEach(function(c){for(var e=0;e<a.length;e++)if(c==a[e][b]){d.push(a[e]);break}}):d=a,d}}).filter("propsFilter",function(){return function(a,b){var c=[];return angular.isArray(a)?a.forEach(function(a){for(var d=!1,e=Object.keys(b),f=0;f<e.length;f++){var g=e[f];if(a.hasOwnProperty(g)){var h=b[g].toLowerCase();if(0===a[g].toString().toLowerCase().indexOf(h)||-1!==a[g].toString().toLowerCase().indexOf(" "+h)){d=!0;break}}}d&&c.push(a)}):c=a,c}}).controller("UiSelectController",["$scope","$http",function(a,b){a.fetchResult=function(a,c,d){if(c)if(c.callback)a.items=c.callback(a,c,d),console.log("items",a.items);else{if(c.http_post)return b.post(c.http_post.url,c.http_post.parameter).then(function(b){a.items=b.data,console.log("items",a.items)},function(a,b){alert("Loading select items failed (URL: '"+String(c.http_post.url)+"' Parameter: "+String(c.http_post.parameter)+"\nError: "+b)});if(c.http_get)return b.get(c.http_get.url,c.http_get.parameter).then(function(b){a.items=b.data,console.log("items",a.items)},function(a,b){alert("Loading select items failed (URL: '"+String(c.http_get.url)+"\nError: "+b)});if(c.async)return c.async.call(a,c,d).then(function(b){a.items=b.data,console.log("items",a.items)},function(a,b){alert("Loading select items failed(Options: '"+String(c)+"\nError: "+b)})}}}]),angular.module("schemaForm").run(["$templateCache",function(a){
a.put("directives/decorators/bootstrap/codemirror/codemirror.html",'<div class="form-group" ng-class="{\'has-error\': hasError()}" ng-init="codemirrorOptions = {foo: \'bar\'}"><label class="control-label" ng-show="showTitle()">{{form.title}}</label><div ng-if="form.codemirrorButtons" class="cm-buttons"><span class="btn-group" ng-repeat="buttonGroup in form.codemirrorButtons"><button ng-repeat="button in buttonGroup" ng-click="evalInScope(button.onClick)" type="button" class="btn btn-sm btn-default" id="btnBold" title="{{ button.title }}"><span ng-if="button.icon" class="glyphicon" ng-class="\'glyphicon-\' + button.icon"></span> <span ng-if="button.label" ng-bind-html="button.label"></span></button></span></div><div codemirror-buttons="" ui-codemirror="" ui-codemirror-opts="getCodemirrorOptions()" ng-style="form.style" ng-model="$$value$$" schema-validate="form"></div><span class="help-block">{{ (hasError() && errorMessage(schemaError())) || form.description}}</span></div>')}]),angular.module("schemaForm").config(["schemaFormProvider","schemaFormDecoratorsProvider",function(a,b){b.addMapping("bootstrapDecorator","codemirror","directives/decorators/bootstrap/codemirror/codemirror.html"),b.createDirective("codemirror","directives/decorators/bootstrap/codemirror/codemirror.html")}]).directive("codemirrorButtons",function(){return{controller:["$scope",function(a){a.getCodemirrorOptions=function(){var b=angular.copy(a.form.codemirrorOptions);return b.onLoad=function(b){a.cm=b},b}}]}}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(a){"use strict";function b(b,d){function e(){b.display.wrapper.offsetHeight?(c(b,d),b.display.lastWrapHeight!=b.display.wrapper.clientHeight&&b.refresh()):d.timeout=setTimeout(e,d.delay)}d.timeout=setTimeout(e,d.delay),d.hurry=function(){clearTimeout(d.timeout),d.timeout=setTimeout(e,50)},a.on(window,"mouseup",d.hurry),a.on(window,"keyup",d.hurry)}function c(b,c){clearTimeout(c.timeout),a.off(window,"mouseup",c.hurry),a.off(window,"keyup",c.hurry)}a.defineOption("autoRefresh",!1,function(a,d){a.state.autoRefresh&&(c(a,a.state.autoRefresh),a.state.autoRefresh=null),d&&0==a.display.wrapper.offsetHeight&&b(a,a.state.autoRefresh={delay:d.delay||250})})}),angular.module("schemaForm").config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(a,b,c){var d=function(b,d,e){if("array"===d.type&&"singlefile"===d.format){d.pattern&&d.pattern.mimeType&&!d.pattern.validationMessage&&(d.pattern.validationMessage="Wrong file type. Allowed types are "),d.maxSize&&d.maxSize.maximum&&!d.maxSize.validationMessage&&(d.maxSize.validationMessage="This file is too large. Maximum size allowed is ",d.maxSize.validationMessage2="Current file size:"),d.minItems&&d.minItems.minimum&&!d.minItems.validationMessage&&(d.minItems.validationMessage="You have to upload at least one file"),d.maxItems&&d.maxItems.maximum&&!d.maxItems.validationMessage&&(d.maxItems.validationMessage="You can't upload more than one file.");var f=a.stdFormObj(b,d,e);return f.key=e.path,f.type="nwpFileUpload",e.lookup[c.stringify(e.path)]=f,f}};a.defaults.array.unshift(d);var e=function(b,d,e){if("array"===d.type&&"multifile"===d.format){d.pattern&&d.pattern.mimeType&&!d.pattern.validationMessage&&(d.pattern.validationMessage="Wrong file type. Allowed types are "),d.maxSize&&d.maxSize.maximum&&!d.maxSize.validationMessage&&(d.maxSize.validationMessage="This file is too large. Maximum size allowed is ",d.maxSize.validationMessage2="Current file size:"),d.minItems&&d.minItems.minimum&&!d.minItems.validationMessage&&(d.minItems.validationMessage="You have to upload at least one file"),d.maxItems&&d.maxItems.maximum&&!d.maxItems.validationMessage&&(d.maxItems.validationMessage="You can't upload more than one file.");var f=a.stdFormObj(b,d,e);return f.key=e.path,f.type="nwpFileUpload",e.lookup[c.stringify(e.path)]=f,f}};a.defaults.array.unshift(e),b.addMapping("bootstrapDecorator","nwpFileUpload","lib/schemaForm/nwp-file.html")}]),angular.module("ngSchemaFormFile",["ngFileUpload","ngMessages"]).directive("ngSchemaFile",["Upload","$timeout","$q",function(a,b,c){return{restrict:"A",scope:!0,require:"ngModel",link:function(c,d,e,f){function g(d){if(d&&!d.$error&&c.url){var e={url:c.url,file:{}};e.file[c.form.fileName||"file"]=d,d.upload=a.upload(e),d.upload.then(function(a){b(function(){d.result=a.data});var e=c.form.post?c.form.post(a.data):a.data;f.$setViewValue(e),f.$commitViewValue()},function(a){a.status>0&&(c.errorMsg=a.status+": "+a.data)}),d.upload.progress(function(a){d.progress=Math.min(100,parseInt(100*a.loaded/a.total))})}}c.url=c.form&&c.form.endpoint,c.isSinglefileUpload=c.form&&c.form.schema&&"singlefile"===c.form.schema.format,c.selectFile=function(a){c.picFile=a},c.removeFile=function(){c.picFile=null,c.$parent.model.image=null},c.selectFiles=function(a){c.picFiles=a},c.uploadFile=function(a){a&&g(a)},c.uploadFiles=function(a){a.length&&angular.forEach(a,function(a){g(a)})},c.validateField=function(){c.uploadForm.file&&c.uploadForm.file.$valid&&c.picFile&&!c.picFile.$error?console.log("singlefile-form is invalid"):c.uploadForm.files&&c.uploadForm.files.$valid&&c.picFiles&&!c.picFiles.$error?console.log("multifile-form is  invalid"):console.log("single- and multifile-form are valid")},c.submit=function(){c.uploadForm.file&&c.uploadForm.file.$valid&&c.picFile&&!c.picFile.$error?c.uploadFile(c.picFile):c.uploadForm.files&&c.uploadForm.files.$valid&&c.picFiles&&!c.picFiles.$error&&c.uploadFiles(c.picFiles)},c.$on("schemaFormValidate",c.validateField),c.$on("schemaFormFileUploadSubmit",c.submit)}}}]),function(a,b,c){"use strict";function d(a,c,d,e,f,g){function h(a,c){return angular.element((c||b).querySelectorAll(a))}function i(a){return j[a]?j[a]:j[a]=c.get(a,{cache:g}).then(function(a){return a.data})}this.compile=function(b){b.template&&/\.html$/.test(b.template)&&(console.warn("Deprecated use of `template` option to pass a file. Please use the `templateUrl` option instead."),b.templateUrl=b.template,b.template="");var c=b.templateUrl,g=b.template||"",j=b.controller,k=b.controllerAs,l=b.resolve||{},m=b.locals||{},n=b.transformTemplate||angular.identity,o=b.bindToController;if(angular.forEach(l,function(a,b){angular.isString(a)?l[b]=d.get(a):l[b]=d.invoke(a)}),angular.extend(l,m),g)l.$template=a.when(g);else{if(!c)throw new Error("Missing `template` / `templateUrl` option.");l.$template=i(c)}return b.titleTemplate&&(l.$template=a.all([l.$template,i(b.titleTemplate)]).then(function(a){var b=angular.element(a[0]);return h('[ng-bind="title"]',b[0]).removeAttr("ng-bind").html(a[1]),b[0].outerHTML})),b.contentTemplate&&(l.$template=a.all([l.$template,i(b.contentTemplate)]).then(function(a){var c=angular.element(a[0]),d=h('[ng-bind="content"]',c[0]).removeAttr("ng-bind").html(a[1]);return b.templateUrl||d.next().remove(),c[0].outerHTML})),a.all(l).then(function(a){var c=n(a.$template);b.html&&(c=c.replace(/ng-bind="/gi,'ng-bind-html="'));var d=angular.element("<div>").html(c.trim()).contents(),g=e(d);return{locals:a,element:d,link:function(b){if(a.$scope=b,j){var c=f(j,a,!0);o&&angular.extend(c.instance,a);var e=angular.isObject(c)?c:c();d.data("$ngControllerController",e),d.children().data("$ngControllerController",e),k&&(b[k]=e)}return g.apply(null,arguments)}}})};var j={}}d.$inject=["$q","$http","$injector","$compile","$controller","$templateCache"],angular.module("mgcrea.ngStrap.typeahead",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$typeahead",function(){var a=this.defaults={animation:"am-fade",prefixClass:"typeahead",prefixEvent:"$typeahead",placement:"bottom-left",templateUrl:"typeahead/typeahead.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,minLength:1,filter:"bsAsyncFilter",limit:6,autoSelect:!1,comparator:"",trimValue:!0};this.$get=["$window","$rootScope","$tooltip","$$rAF","$timeout",function(b,c,d,e,f){function g(b,c,g){var i={},j=angular.extend({},a,g);i=d(b,j);var k=g.scope,l=i.$scope;l.$resetMatches=function(){l.$matches=[],l.$activeIndex=j.autoSelect?0:-1},l.$resetMatches(),l.$activate=function(a){l.$$postDigest(function(){i.activate(a)})},l.$select=function(a,b){l.$$postDigest(function(){i.select(a)})},l.$isVisible=function(){return i.$isVisible()},i.update=function(a){l.$matches=a,l.$activeIndex>=a.length&&(l.$activeIndex=j.autoSelect?0:-1),h(l),e(i.$applyPlacement)},i.activate=function(a){l.$activeIndex=a},i.select=function(a){if(-1!==a){var b=l.$matches[a].value;c.$setViewValue(b),c.$render(),l.$resetMatches(),k&&k.$digest(),l.$emit(j.prefixEvent+".select",b,a,i),angular.isDefined(j.onSelect)&&angular.isFunction(j.onSelect)&&j.onSelect(b,a,i)}},i.$isVisible=function(){return j.minLength&&c?l.$matches.length&&angular.isString(c.$viewValue)&&c.$viewValue.length>=j.minLength:!!l.$matches.length},i.$getIndex=function(a){var b;for(b=l.$matches.length;b--&&!angular.equals(l.$matches[b].value,a););return b},i.$onMouseDown=function(a){a.preventDefault(),a.stopPropagation()},i.$$updateScrollTop=function(a,b){if(b>-1&&b<a.children.length){var c=a.children[b],d=c.offsetTop,e=c.offsetTop+c.clientHeight,f=a.scrollTop,g=a.scrollTop+a.clientHeight;e>=f&&d<f?a.scrollTop=Math.max(0,a.scrollTop-a.clientHeight):e>g&&(a.scrollTop=d)}},i.$onKeyDown=function(a){/(38|40|13)/.test(a.keyCode)&&(!i.$isVisible()||13===a.keyCode&&-1===l.$activeIndex||(a.preventDefault(),a.stopPropagation()),13===a.keyCode&&l.$matches.length?i.select(l.$activeIndex):38===a.keyCode&&l.$activeIndex>0?l.$activeIndex--:40===a.keyCode&&l.$activeIndex<l.$matches.length-1?l.$activeIndex++:angular.isUndefined(l.$activeIndex)&&(l.$activeIndex=0),i.$$updateScrollTop(i.$element[0],l.$activeIndex),l.$digest())};var m=i.show;i.show=function(){m(),f(function(){i.$element&&(i.$element.on("mousedown",i.$onMouseDown),j.keyboard&&b&&b.on("keydown",i.$onKeyDown))},0,!1)};var n=i.hide;return i.hide=function(){i.$element&&i.$element.off("mousedown",i.$onMouseDown),j.keyboard&&b&&b.off("keydown",i.$onKeyDown),j.autoSelect||i.activate(-1),n()},i}function h(a){a.$$phase||a.$root&&a.$root.$$phase||a.$digest()}return g.defaults=a,g}]}).filter("bsAsyncFilter",["$filter",function(a){return function(b,c,d){return b&&angular.isFunction(b.then)?b.then(function(b){return a("filter")(b,c,d)}):a("filter")(b,c,d)}}]).directive("bsTypeahead",["$window","$parse","$q","$typeahead","$parseOptions",function(a,b,c,d,e){var f=d.defaults;return{restrict:"EAC",require:"ngModel",link:function(a,b,c,g){b.off("change");var h={scope:a};angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","keyboard","html","animation","filter","limit","minLength","watchOptions","selectMode","autoSelect","comparator","id","prefixEvent","prefixClass"],function(a){angular.isDefined(c[a])&&(h[a]=c[a])});var i=/^(false|0|)$/i;angular.forEach(["html","container","trimValue","filter"],function(a){angular.isDefined(c[a])&&i.test(c[a])&&(h[a]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide","onSelect"],function(b){var d="bs"+b.charAt(0).toUpperCase()+b.slice(1);angular.isDefined(c[d])&&(h[b]=a.$eval(c[d]))}),b.attr("autocomplete")||b.attr("autocomplete","off");var j=angular.isDefined(h.filter)?h.filter:f.filter,k=h.limit||f.limit,l=h.comparator||f.comparator,m=c.bsOptions;j&&(m+=" | "+j+":$viewValue",l&&(m+=":"+l)),k&&(m+=" | limitTo:"+k);var n=e(m),o=d(b,g,h);if(h.watchOptions){var p=n.$match[7].replace(/\|.+/,"").replace(/\(.*\)/g,"").trim();a.$watchCollection(p,function(b,c){n.valuesFn(a,g).then(function(a){o.update(a),g.$render()})})}a.$watch(c.ngModel,function(b,c){a.$modelValue=b,n.valuesFn(a,g).then(function(a){if(h.selectMode&&!a.length&&b.length>0)return void g.$setViewValue(g.$viewValue.substring(0,g.$viewValue.length-1));a.length>k&&(a=a.slice(0,k)),o.update(a),g.$render()})}),g.$formatters.push(function(a){var b=n.displayValue(a);return b||(angular.isDefined(a)&&"object"!=typeof a?a:"")}),g.$render=function(){if(g.$isEmpty(g.$viewValue))return b.val("");var a=o.$getIndex(g.$modelValue),c=-1!==a?o.$scope.$matches[a].label:g.$viewValue;c=angular.isObject(c)?n.displayValue(c):c;var d=c?c.toString().replace(/<(?:.|\n)*?>/gm,""):"",e=b[0].selectionStart,f=b[0].selectionEnd;b.val(!1===h.trimValue?d:d.trim()),b[0].setSelectionRange(e,f)},a.$on("$destroy",function(){o&&o.destroy(),h=null,o=null})}}}]),angular.module("mgcrea.ngStrap.tooltip",["mgcrea.ngStrap.core","mgcrea.ngStrap.helpers.dimensions"]).provider("$tooltip",function(){var a=this.defaults={animation:"am-fade",customClass:"",prefixClass:"tooltip",prefixEvent:"tooltip",container:!1,target:!1,placement:"top",templateUrl:"tooltip/tooltip.tpl.html",template:"",titleTemplate:!1,trigger:"hover focus",keyboard:!1,html:!1,show:!1,title:"",type:"",delay:0,autoClose:!1,bsEnabled:!0,mouseDownPreventDefault:!0,mouseDownStopPropagation:!0,viewport:{selector:"body",padding:0}};this.$get=["$window","$rootScope","$bsCompiler","$q","$templateCache","$http","$animate","$sce","dimensions","$$rAF","$timeout",function(c,d,e,f,g,h,i,j,k,l,m){function n(f,g){function h(){I.$emit(G.prefixEvent+".show",F),angular.isDefined(G.onShow)&&angular.isFunction(G.onShow)&&G.onShow(F)}function n(){if(I.$emit(G.prefixEvent+".hide",F),angular.isDefined(G.onHide)&&angular.isFunction(G.onHide)&&G.onHide(F),O===S){if(R&&"focus"===G.trigger)return f[0].blur();E()}}function q(){var a=G.trigger.split(" ");angular.forEach(a,function(a){"click"===a||"contextmenu"===a?f.on(a,F.toggle):"manual"!==a&&(f.on("hover"===a?"mouseenter":"focus",F.enter),f.on("hover"===a?"mouseleave":"blur",F.leave),"button"===J&&"hover"!==a&&f.on(r?"touchstart":"mousedown",F.$onFocusElementMouseDown))})}function t(){for(var a=G.trigger.split(" "),b=a.length;b--;){var c=a[b];"click"===c||"contextmenu"===c?f.off(c,F.toggle):"manual"!==c&&(f.off("hover"===c?"mouseenter":"focus",F.enter),f.off("hover"===c?"mouseleave":"blur",F.leave),"button"===J&&"hover"!==c&&f.off(r?"touchstart":"mousedown",F.$onFocusElementMouseDown))}}function u(){"focus"!==G.trigger?O.on("keyup",F.$onKeyUp):f.on("keyup",F.$onFocusKeyUp)}function v(){"focus"!==G.trigger?O.off("keyup",F.$onKeyUp):f.off("keyup",F.$onFocusKeyUp)}function w(){m(function(){O.on("click",y),s.on("click",F.hide),T=!0},0,!1)}function x(){T&&(O.off("click",y),s.off("click",F.hide),T=!1)}function y(a){a.stopPropagation()}function z(a){a=a||G.target||f;var d=a[0],e="BODY"===d.tagName,g=d.getBoundingClientRect(),h={};for(var i in g)h[i]=g[i];null===h.width&&(h=angular.extend({},h,{width:g.right-g.left,height:g.bottom-g.top}));var j=e?{top:0,left:0}:k.offset(d),l={scroll:e?b.documentElement.scrollTop||b.body.scrollTop:a.prop("scrollTop")||0},m=e?{width:b.documentElement.clientWidth,height:c.innerHeight}:null;return angular.extend({},h,l,m,j)}function A(a,b,c,d){var e,f=a.split("-");switch(f[0]){case"right":e={top:b.top+b.height/2-d/2,left:b.left+b.width};break;case"bottom":e={top:b.top+b.height,left:b.left+b.width/2-c/2};break;case"left":e={top:b.top+b.height/2-d/2,left:b.left-c};break;default:e={top:b.top-d,left:b.left+b.width/2-c/2}}if(!f[1])return e;if("top"===f[0]||"bottom"===f[0])switch(f[1]){case"left":e.left=b.left;break;case"right":e.left=b.left+b.width-c}else if("left"===f[0]||"right"===f[0])switch(f[1]){case"top":e.top=b.top-d+b.height;break;case"bottom":e.top=b.top}return e}function B(a,b){var c=O[0],d=c.offsetWidth,e=c.offsetHeight,f=parseInt(k.css(c,"margin-top"),10),g=parseInt(k.css(c,"margin-left"),10);isNaN(f)&&(f=0),isNaN(g)&&(g=0),a.top=a.top+f,a.left=a.left+g,k.setOffset(c,angular.extend({using:function(a){O.css({top:Math.round(a.top)+"px",left:Math.round(a.left)+"px",right:""})}},a),0);var h=c.offsetWidth,i=c.offsetHeight;if("top"===b&&i!==e&&(a.top=a.top+e-i),!/top-left|top-right|bottom-left|bottom-right/.test(b)){var j=C(b,a,h,i);if(j.left?a.left+=j.left:a.top+=j.top,k.setOffset(c,a),/top|right|bottom|left/.test(b)){var l=/top|bottom/.test(b);D(l?2*j.left-d+h:2*j.top-e+i,c[l?"offsetWidth":"offsetHeight"],l)}}}function C(a,b,c,d){var e={top:0,left:0};if(!F.$viewport)return e;var f=G.viewport&&G.viewport.padding||0,g=z(F.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e}function D(a,b,c){p(".tooltip-arrow, .arrow",O[0]).css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")}function E(){clearTimeout(L),F.$isShown&&null!==O&&(G.autoClose&&x(),G.keyboard&&v()),Q&&(Q.$destroy(),Q=null),O&&(O.remove(),O=F.$element=null)}var F={},G=F.$options=angular.extend({},a,g),H=F.$promise=e.compile(G),I=F.$scope=G.scope&&G.scope.$new()||d.$new(),J=f[0].nodeName.toLowerCase();if(G.delay&&angular.isString(G.delay)){var K=G.delay.split(",").map(parseFloat);G.delay=K.length>1?{show:K[0],hide:K[1]}:K[0]}F.$id=G.id||f.attr("id")||"",G.title&&(I.title=j.trustAsHtml(G.title)),I.$setEnabled=function(a){I.$$postDigest(function(){F.setEnabled(a)})},I.$hide=function(){I.$$postDigest(function(){F.hide()})},I.$show=function(){I.$$postDigest(function(){F.show()})},I.$toggle=function(){I.$$postDigest(function(){F.toggle()})},F.$isShown=I.$isShown=!1;var L,M,N,O,P,Q;H.then(function(a){N=a,F.init()}),F.init=function(){G.delay&&angular.isNumber(G.delay)&&(G.delay={show:G.delay,hide:G.delay}),"self"===G.container?P=f:angular.isElement(G.container)?P=G.container:G.container&&(P=p(G.container)),q(),G.target&&(G.target=angular.isElement(G.target)?G.target:p(G.target)),G.show&&I.$$postDigest(function(){"focus"===G.trigger?f[0].focus():F.show()})},F.destroy=function(){t(),E(),I.$destroy()},F.enter=function(){if(clearTimeout(L),M="in",!G.delay||!G.delay.show)return F.show();L=setTimeout(function(){"in"===M&&F.show()},G.delay.show)},F.show=function(){if(G.bsEnabled&&!F.$isShown){I.$emit(G.prefixEvent+".show.before",F),angular.isDefined(G.onBeforeShow)&&angular.isFunction(G.onBeforeShow)&&G.onBeforeShow(F);var a,b;G.container?(a=P,b=P[0].lastChild?angular.element(P[0].lastChild):null):(a=null,b=f),O&&E(),Q=F.$scope.$new(),O=F.$element=N.link(Q,function(a,b){}),O.css({top:"-9999px",left:"-9999px",right:"auto",display:"block",visibility:"hidden"}),G.animation&&O.addClass(G.animation),G.type&&O.addClass(G.prefixClass+"-"+G.type),G.customClass&&O.addClass(G.customClass),b?b.after(O):a.prepend(O),F.$isShown=I.$isShown=!0,o(I),F.$applyPlacement(),angular.version.minor<=2?i.enter(O,a,b,h):i.enter(O,a,b).then(h),o(I),l(function(){O&&O.css({visibility:"visible"}),G.keyboard&&("focus"!==G.trigger&&F.focus(),u())}),G.autoClose&&w()}},F.leave=function(){if(clearTimeout(L),M="out",!G.delay||!G.delay.hide)return F.hide();L=setTimeout(function(){"out"===M&&F.hide()},G.delay.hide)};var R,S;F.hide=function(a){F.$isShown&&(I.$emit(G.prefixEvent+".hide.before",F),angular.isDefined(G.onBeforeHide)&&angular.isFunction(G.onBeforeHide)&&G.onBeforeHide(F),R=a,S=O,null!==O&&(angular.version.minor<=2?i.leave(O,n):i.leave(O).then(n)),F.$isShown=I.$isShown=!1,o(I),G.keyboard&&null!==O&&v(),G.autoClose&&null!==O&&x())},F.toggle=function(a){a&&a.preventDefault(),F.$isShown?F.leave():F.enter()},F.focus=function(){O[0].focus()},F.setEnabled=function(a){G.bsEnabled=a},F.setViewport=function(a){G.viewport=a},F.$applyPlacement=function(){if(O){var b=G.placement,c=/\s?auto?\s?/i,d=c.test(b);d&&(b=b.replace(c,"")||a.placement),O.addClass(G.placement);var e=z(),f=O.prop("offsetWidth"),g=O.prop("offsetHeight");if(F.$viewport=G.viewport&&p(G.viewport.selector||G.viewport),d){var h=b,i=z(F.$viewport);/bottom/.test(h)&&e.bottom+g>i.bottom?b=h.replace("bottom","top"):/top/.test(h)&&e.top-g<i.top&&(b=h.replace("top","bottom")),/left/.test(h)&&e.left-f<i.left?b=b.replace("left","right"):/right/.test(h)&&e.right+f>i.width&&(b=b.replace("right","left")),O.removeClass(h).addClass(b)}B(A(b,e,f,g),b)}},F.$onKeyUp=function(a){27===a.which&&F.$isShown&&(F.hide(),a.stopPropagation())},F.$onFocusKeyUp=function(a){27===a.which&&(f[0].blur(),a.stopPropagation())},F.$onFocusElementMouseDown=function(a){G.mouseDownPreventDefault&&a.preventDefault(),G.mouseDownStopPropagation&&a.stopPropagation(),F.$isShown?f[0].blur():f[0].focus()};var T=!1;return F}function o(a){a.$$phase||a.$root&&a.$root.$$phase||a.$digest()}function p(a,c){return angular.element((c||b).querySelectorAll(a))}var q=/(ip[ao]d|iphone|android)/gi.test(c.navigator.userAgent),r="createTouch"in c.document&&q,s=angular.element(c.document);return n}]}).directive("bsTooltip",["$window","$location","$sce","$parse","$tooltip","$$rAF",function(a,b,c,d,e,f){return{restrict:"EAC",scope:!0,link:function(a,b,d,g){var h,i={scope:a};angular.forEach(["template","templateUrl","controller","controllerAs","titleTemplate","placement","container","delay","trigger","html","animation","backdropAnimation","type","customClass","id"],function(a){angular.isDefined(d[a])&&(i[a]=d[a])});var j=/^(false|0|)$/i;angular.forEach(["html","container"],function(a){angular.isDefined(d[a])&&j.test(d[a])&&(i[a]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide"],function(b){var c="bs"+b.charAt(0).toUpperCase()+b.slice(1);angular.isDefined(d[c])&&(i[b]=a.$eval(d[c]))});var k=b.attr("data-target");angular.isDefined(k)&&(j.test(k)?i.target=!1:i.target=k),a.hasOwnProperty("title")||(a.title=""),d.$observe("title",function(b){if(angular.isDefined(b)||!a.hasOwnProperty("title")){var d=a.title;a.title=c.trustAsHtml(b),angular.isDefined(d)&&f(function(){h&&h.$applyPlacement()})}}),d.$observe("disabled",function(a){a&&h.$isShown&&h.hide()}),d.bsTooltip&&a.$watch(d.bsTooltip,function(b,c){angular.isObject(b)?angular.extend(a,b):a.title=b,angular.isDefined(c)&&f(function(){h&&h.$applyPlacement()})},!0),d.bsShow&&a.$watch(d.bsShow,function(a,b){h&&angular.isDefined(a)&&(angular.isString(a)&&(a=!!a.match(/true|,?(tooltip),?/i)),!0===a?h.show():h.hide())}),d.bsEnabled&&a.$watch(d.bsEnabled,function(a,b){h&&angular.isDefined(a)&&(angular.isString(a)&&(a=!!a.match(/true|1|,?(tooltip),?/i)),!1===a?h.setEnabled(!1):h.setEnabled(!0))}),d.viewport&&a.$watch(d.viewport,function(a){h&&angular.isDefined(a)&&h.setViewport(a)}),h=e(b,i),a.$on("$destroy",function(){h&&h.destroy(),i=null,h=null})}}}]),angular.module("mgcrea.ngStrap.timepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.helpers.dateFormatter","mgcrea.ngStrap.tooltip"]).provider("$timepicker",function(){var a=this.defaults={animation:"am-fade",defaultDate:"auto",prefixClass:"timepicker",placement:"bottom-left",templateUrl:"timepicker/timepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!0,timeType:"date",timeFormat:"shortTime",timezone:null,modelTimeFormat:null,autoclose:!1,minTime:-1/0,maxTime:1/0,length:5,hourStep:1,minuteStep:5,secondStep:5,roundDisplay:!1,iconUp:"glyphicon glyphicon-chevron-up",iconDown:"glyphicon glyphicon-chevron-down",arrowBehavior:"pager"};this.$get=["$window","$document","$rootScope","$sce","$dateFormatter","$tooltip","$timeout",function(b,c,d,e,f,g,h){function i(b,c,d){function e(a,c){var d=a+c;if(b[0].createTextRange){var e=b[0].createTextRange();e.collapse(!0),e.moveStart("character",a),e.moveEnd("character",d),e.select()}else b[0].setSelectionRange?b[0].setSelectionRange(a,d):angular.isUndefined(b[0].selectionStart)&&(b[0].selectionStart=a,b[0].selectionEnd=d)}function i(){b[0].focus()}var l=g(b,angular.extend({},a,d)),m=d.scope,n=l.$options,o=l.$scope,p=n.lang,q=function(a,b,c){return f.formatDate(a,b,p,c)},r=0,s=n.roundDisplay?function(a){var b=6e4*n.minuteStep;return new Date(Math.floor(a.getTime()/b)*b)}(new Date):new Date,t=c.$dateValue||s,u={hour:t.getHours(),meridian:t.getHours()<12,minute:t.getMinutes(),second:t.getSeconds(),millisecond:t.getMilliseconds()},v=f.getDatetimeFormat(n.timeFormat,p),w=f.hoursFormat(v),x=f.timeSeparator(v),y=f.minutesFormat(v),z=f.secondsFormat(v),A=f.showSeconds(v),B=f.showAM(v);o.$iconUp=n.iconUp,o.$iconDown=n.iconDown,o.$select=function(a,b){l.select(a,b)},o.$moveIndex=function(a,b){l.$moveIndex(a,b)},o.$switchMeridian=function(a){l.switchMeridian(a)},l.update=function(a){angular.isDate(a)&&!isNaN(a.getTime())?(l.$date=a,angular.extend(u,{hour:a.getHours(),minute:a.getMinutes(),second:a.getSeconds(),millisecond:a.getMilliseconds()}),l.$build()):l.$isBuilt||l.$build()},l.select=function(a,b,d){c.$dateValue&&!isNaN(c.$dateValue.getTime())||(c.$dateValue="today"===n.defaultDate?new Date:new Date(1970,0,1)),angular.isDate(a)||(a=new Date(a)),0===b?c.$dateValue.setHours(a.getHours()):1===b?c.$dateValue.setMinutes(a.getMinutes()):2===b&&c.$dateValue.setSeconds(a.getSeconds()),c.$setViewValue(angular.copy(c.$dateValue)),c.$render(),n.autoclose&&!d&&h(function(){l.hide(!0)})},l.switchMeridian=function(a){if(c.$dateValue&&!isNaN(c.$dateValue.getTime())){var b=(a||c.$dateValue).getHours();c.$dateValue.setHours(b<12?b+12:b-12),c.$setViewValue(angular.copy(c.$dateValue)),c.$render()}},l.$build=function(){var a,b,c=o.midIndex=parseInt(n.length/2,10),d=[];for(a=0;a<n.length;a++)b=new Date(1970,0,1,u.hour-(c-a)*n.hourStep),d.push({date:b,label:q(b,w),selected:l.$date&&l.$isSelected(b,0),disabled:l.$isDisabled(b,0)});var e,f=[];for(a=0;a<n.length;a++)e=new Date(1970,0,1,0,u.minute-(c-a)*n.minuteStep),f.push({date:e,label:q(e,y),selected:l.$date&&l.$isSelected(e,1),disabled:l.$isDisabled(e,1)});var g,h=[];for(a=0;a<n.length;a++)g=new Date(1970,0,1,0,0,u.second-(c-a)*n.secondStep),h.push({date:g,label:q(g,z),selected:l.$date&&l.$isSelected(g,2),disabled:l.$isDisabled(g,2)});var i=[];for(a=0;a<n.length;a++)A?i.push([d[a],f[a],h[a]]):i.push([d[a],f[a]]);o.rows=i,o.showSeconds=A,o.showAM=B,o.isAM=(l.$date||d[c].date).getHours()<12,o.timeSeparator=x,l.$isBuilt=!0},l.$isSelected=function(a,b){return!!l.$date&&(0===b?a.getHours()===l.$date.getHours():1===b?a.getMinutes()===l.$date.getMinutes():2===b?a.getSeconds()===l.$date.getSeconds():void 0)},l.$isDisabled=function(a,b){var c;return 0===b?c=a.getTime()+6e4*u.minute+1e3*u.second:1===b?c=a.getTime()+36e5*u.hour+1e3*u.second:2===b&&(c=a.getTime()+36e5*u.hour+6e4*u.minute),c<1*n.minTime||c>1*n.maxTime},o.$arrowAction=function(a,b){"picker"===n.arrowBehavior?l.$setTimeByStep(a,b):l.$moveIndex(a,b)},l.$setTimeByStep=function(a,b){var c=new Date(l.$date||t),d=c.getHours(),e=c.getMinutes(),f=c.getSeconds();0===b?c.setHours(d-parseInt(n.hourStep,10)*a):1===b?c.setMinutes(e-parseInt(n.minuteStep,10)*a):2===b&&c.setSeconds(f-parseInt(n.secondStep,10)*a),l.select(c,b,!0)},l.$moveIndex=function(a,b){var c;0===b?(c=new Date(1970,0,1,u.hour+a*n.length,u.minute,u.second),angular.extend(u,{hour:c.getHours()})):1===b?(c=new Date(1970,0,1,u.hour,u.minute+a*n.length*n.minuteStep,u.second),angular.extend(u,{minute:c.getMinutes()})):2===b&&(c=new Date(1970,0,1,u.hour,u.minute,u.second+a*n.length*n.secondStep),angular.extend(u,{second:c.getSeconds()})),l.$build()},l.$onMouseDown=function(a){if("input"!==a.target.nodeName.toLowerCase()&&a.preventDefault(),a.stopPropagation(),k){var b=angular.element(a.target);"button"!==b[0].nodeName.toLowerCase()&&(b=b.parent()),b.triggerHandler("click")}},l.$onKeyDown=function(a){if(/(38|37|39|40|13)/.test(a.keyCode)&&!a.shiftKey&&!a.altKey){if(a.preventDefault(),a.stopPropagation(),13===a.keyCode)return void l.hide(!0);var b=new Date(l.$date),c=b.getHours(),d=q(b,w).length,f=b.getMinutes(),g=q(b,y).length,h=b.getSeconds(),i=q(b,z).length,j=/(37|39)/.test(a.keyCode),k=2+1*A+1*B;j&&(37===a.keyCode?r=r<1?k-1:r-1:39===a.keyCode&&(r=r<k-1?r+1:0));var o=[0,d],p=0;38===a.keyCode&&(p=-1),40===a.keyCode&&(p=1);var s=2===r&&A,t=2===r&&!A||3===r&&A;0===r?(b.setHours(c+p*parseInt(n.hourStep,10)),d=q(b,w).length,o=[0,d]):1===r?(b.setMinutes(f+p*parseInt(n.minuteStep,10)),g=q(b,y).length,o=[d+1,g]):s?(b.setSeconds(h+p*parseInt(n.secondStep,10)),i=q(b,z).length,o=[d+1+g+1,i]):t&&(j||l.switchMeridian(),o=[d+1+g+1+(i+1)*A,2]),l.select(b,r,!0),e(o[0],o[1]),m.$digest()}};var C=l.init;l.init=function(){if(j&&n.useNative)return b.prop("type","time"),void b.css("-webkit-appearance","textfield");k&&(b.prop("type","text"),b.attr("readonly","true"),b.on("click",i)),C()};var D=l.destroy;l.destroy=function(){j&&n.useNative&&b.off("click",i),D()};var E=l.show;l.show=function(){!k&&b.attr("readonly")||b.attr("disabled")||(E(),h(function(){l.$element&&l.$element.on(k?"touchstart":"mousedown",l.$onMouseDown),n.keyboard&&b&&b.on("keydown",l.$onKeyDown)},0,!1))};var F=l.hide;return l.hide=function(a){l.$isShown&&(l.$element&&l.$element.off(k?"touchstart":"mousedown",l.$onMouseDown),n.keyboard&&b&&b.off("keydown",l.$onKeyDown),F(a))},l}var j=/(ip[ao]d|iphone|android)/gi.test(b.navigator.userAgent),k="createTouch"in b.document&&j;return a.lang||(a.lang=f.getDefaultLocale()),i.defaults=a,i}]}).directive("bsTimepicker",["$window","$parse","$q","$dateFormatter","$dateParser","$timepicker",function(a,b,d,e,f,g){var h=g.defaults,i=/(ip[ao]d|iphone|android)/gi.test(a.navigator.userAgent);return{restrict:"EAC",require:"ngModel",link:function(a,b,d,j){function k(a){if(angular.isDate(a)){var b=isNaN(m.minTime)||new Date(a.getTime()).setFullYear(1970,0,1)>=m.minTime,c=isNaN(m.maxTime)||new Date(a.getTime()).setFullYear(1970,0,1)<=m.maxTime,d=b&&c;j.$setValidity("date",d),j.$setValidity("min",b),j.$setValidity("max",c),d&&(j.$dateValue=a)}}function l(){return!j.$dateValue||isNaN(j.$dateValue.getTime())?"":q(j.$dateValue,m.timeFormat)}var m={scope:a};angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","keyboard","html","animation","autoclose","timeType","timeFormat","timezone","modelTimeFormat","useNative","hourStep","minuteStep","secondStep","length","arrowBehavior","iconUp","iconDown","roundDisplay","id","prefixClass","prefixEvent","defaultDate"],function(a){angular.isDefined(d[a])&&(m[a]=d[a])});var n=/^(false|0|)$/i;angular.forEach(["html","container","autoclose","useNative","roundDisplay"],function(a){angular.isDefined(d[a])&&n.test(d[a])&&(m[a]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide"],function(b){var c="bs"+b.charAt(0).toUpperCase()+b.slice(1);angular.isDefined(d[c])&&(m[b]=a.$eval(d[c]))}),i&&(m.useNative||h.useNative)&&(m.timeFormat="HH:mm");var o=g(b,j,m);m=o.$options;var p=m.lang,q=function(a,b,c){return e.formatDate(a,b,p,c)};d.bsShow&&a.$watch(d.bsShow,function(a,b){o&&angular.isDefined(a)&&(angular.isString(a)&&(a=!!a.match(/true|,?(timepicker),?/i)),!0===a?o.show():o.hide())});var r=f({format:m.timeFormat,lang:p});angular.forEach(["minTime","maxTime"],function(a){angular.isDefined(d[a])&&d.$observe(a,function(b){o.$options[a]=r.getTimeForAttribute(a,b),isNaN(o.$options[a])||o.$build(),k(j.$dateValue)})}),a.$watch(d.ngModel,function(a,b){o.update(j.$dateValue)},!0),j.$parsers.unshift(function(a){var b;if(!a)return j.$setValidity("date",!0),null;var d=angular.isDate(a)?a:r.parse(a,j.$dateValue);return!d||isNaN(d.getTime())?(j.$setValidity("date",!1),c):(k(d),"string"===m.timeType?(b=r.timezoneOffsetAdjust(d,m.timezone,!0),q(b,m.modelTimeFormat||m.timeFormat)):(b=r.timezoneOffsetAdjust(j.$dateValue,m.timezone,!0),"number"===m.timeType?b.getTime():"unix"===m.timeType?b.getTime()/1e3:"iso"===m.timeType?b.toISOString():new Date(b)))}),j.$formatters.push(function(a){var b;return b=angular.isUndefined(a)||null===a?NaN:angular.isDate(a)?a:"string"===m.timeType?r.parse(a,null,m.modelTimeFormat):"unix"===m.timeType?new Date(1e3*a):new Date(a),j.$dateValue=r.timezoneOffsetAdjust(b,m.timezone),l()}),j.$render=function(){b.val(l())},a.$on("$destroy",function(){o&&o.destroy(),m=null,o=null})}}}]),angular.module("mgcrea.ngStrap.tab",[]).provider("$tab",function(){var a=this.defaults={animation:"am-fade",template:"tab/tab.tpl.html",navClass:"nav-tabs",activeClass:"active"},b=this.controller=function(b,c,d){var e=this;e.$options=angular.copy(a),
angular.forEach(["animation","navClass","activeClass"],function(a){angular.isDefined(d[a])&&(e.$options[a]=d[a])}),b.$navClass=e.$options.navClass,b.$activeClass=e.$options.activeClass,e.$panes=b.$panes=[],e.$activePaneChangeListeners=e.$viewChangeListeners=[],e.$push=function(a){angular.isUndefined(e.$panes.$active)&&b.$setActive(a.name||0),e.$panes.push(a)},e.$remove=function(a){var b,c=e.$panes.indexOf(a),d=e.$panes.$active;b=angular.isString(d)?e.$panes.map(function(a){return a.name}).indexOf(d):e.$panes.$active,e.$panes.splice(c,1),c<b?b--:c===b&&b===e.$panes.length&&b--,b>=0&&b<e.$panes.length?e.$setActive(e.$panes[b].name||b):e.$setActive()},e.$setActive=b.$setActive=function(a){e.$panes.$active=a,e.$activePaneChangeListeners.forEach(function(a){a()})},e.$isActive=b.$isActive=function(a,b){return e.$panes.$active===a.name||e.$panes.$active===b}};this.$get=function(){var c={};return c.defaults=a,c.controller=b,c}}).directive("bsTabs",["$window","$animate","$tab","$parse",function(a,b,c,d){var e=c.defaults;return{require:["?ngModel","bsTabs"],transclude:!0,scope:!0,controller:["$scope","$element","$attrs",c.controller],templateUrl:function(a,b){return b.template||e.template},link:function(a,b,c,e){var f=e[0],g=e[1];if(f&&(g.$activePaneChangeListeners.push(function(){f.$setViewValue(g.$panes.$active)}),f.$formatters.push(function(a){return g.$setActive(a),a})),c.bsActivePane){var h=d(c.bsActivePane);g.$activePaneChangeListeners.push(function(){h.assign(a,g.$panes.$active)}),a.$watch(c.bsActivePane,function(a,b){g.$setActive(a)},!0)}}}}]).directive("bsPane",["$window","$animate","$sce",function(a,b,c){return{require:["^?ngModel","^bsTabs"],scope:!0,link:function(a,d,e,f){function g(){var c=h.$panes.indexOf(a);b[h.$isActive(a,c)?"addClass":"removeClass"](d,h.$options.activeClass)}var h=f[1];d.addClass("tab-pane"),e.$observe("title",function(b,d){a.title=c.trustAsHtml(b)}),a.name=e.name,h.$options.animation&&d.addClass(h.$options.animation),e.$observe("disabled",function(b,c){a.disabled=a.$eval(b)}),h.$push(a),a.$on("$destroy",function(){h.$remove(a)}),h.$activePaneChangeListeners.push(function(){g()}),g()}}}]),angular.module("mgcrea.ngStrap.select",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$select",function(){var a=this.defaults={animation:"am-fade",prefixClass:"select",prefixEvent:"$select",placement:"bottom-left",templateUrl:"select/select.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,multiple:!1,allNoneButtons:!1,sort:!0,caretHtml:'&nbsp;<span class="caret"></span>',placeholder:"Choose among the following...",allText:"All",noneText:"None",maxLength:3,maxLengthHtml:"selected",iconCheckmark:"glyphicon glyphicon-ok",toggle:!1};this.$get=["$window","$document","$rootScope","$tooltip","$timeout",function(b,d,e,f,g){function h(e,h,i){var k={},l=angular.extend({},a,i);k=f(e,l);var m=k.$scope;m.$matches=[],l.multiple?m.$activeIndex=[]:m.$activeIndex=-1,m.$isMultiple=l.multiple,m.$showAllNoneButtons=l.allNoneButtons&&l.multiple,m.$iconCheckmark=l.iconCheckmark,m.$allText=l.allText,m.$noneText=l.noneText,m.$activate=function(a){m.$$postDigest(function(){k.activate(a)})},m.$select=function(a,b){m.$$postDigest(function(){k.select(a)})},m.$isVisible=function(){return k.$isVisible()},m.$isActive=function(a){return k.$isActive(a)},m.$selectAll=function(){for(var a=0;a<m.$matches.length;a++)m.$isActive(a)||m.$select(a)},m.$selectNone=function(){for(var a=0;a<m.$matches.length;a++)m.$isActive(a)&&m.$select(a)},k.update=function(a){m.$matches=a,k.$updateActiveIndex()},k.activate=function(a){return l.multiple?(k.$isActive(a)?m.$activeIndex.splice(m.$activeIndex.indexOf(a),1):m.$activeIndex.push(a),l.sort&&m.$activeIndex.sort(function(a,b){return a-b})):m.$activeIndex=a,m.$activeIndex},k.select=function(a){if(!(angular.isUndefined(a)||a<0||a>=m.$matches.length)){var b=m.$matches[a].value;m.$apply(function(){k.activate(a),l.multiple?h.$setViewValue(m.$activeIndex.map(function(a){return angular.isUndefined(m.$matches[a])?null:m.$matches[a].value})):(l.toggle?h.$setViewValue(b===h.$modelValue?c:b):h.$setViewValue(b),k.hide())}),m.$emit(l.prefixEvent+".select",b,a,k),angular.isDefined(l.onSelect)&&angular.isFunction(l.onSelect)&&l.onSelect(b,a,k)}},k.$updateActiveIndex=function(){l.multiple?angular.isArray(h.$modelValue)?m.$activeIndex=h.$modelValue.map(function(a){return k.$getIndex(a)}):m.$activeIndex=[]:angular.isDefined(h.$modelValue)&&m.$matches.length?m.$activeIndex=k.$getIndex(h.$modelValue):m.$activeIndex=-1},k.$isVisible=function(){return l.minLength&&h?m.$matches.length&&h.$viewValue.length>=l.minLength:m.$matches.length},k.$isActive=function(a){return l.multiple?-1!==m.$activeIndex.indexOf(a):m.$activeIndex===a},k.$getIndex=function(a){var b;for(b=m.$matches.length;b--&&!angular.equals(m.$matches[b].value,a););return b},k.$onMouseDown=function(a){if(a.preventDefault(),a.stopPropagation(),j){var b,c=angular.element(a.target);if("A"!==a.target.nodeName)for(var d=c.parent();!b&&d.length>0;)"A"===d[0].nodeName&&(b=d),d=d.parent();b?angular.element(b).triggerHandler("click"):c.triggerHandler("click")}},k.$onKeyDown=function(a){if(/(9|13|38|40)/.test(a.keyCode))return 9!==a.keyCode&&(a.preventDefault(),a.stopPropagation()),l.multiple&&9===a.keyCode?k.hide():l.multiple||13!==a.keyCode&&9!==a.keyCode?void(l.multiple||(38===a.keyCode&&m.$activeIndex>0?m.$activeIndex--:38===a.keyCode&&m.$activeIndex<0?m.$activeIndex=m.$matches.length-1:40===a.keyCode&&m.$activeIndex<m.$matches.length-1?m.$activeIndex++:angular.isUndefined(m.$activeIndex)&&(m.$activeIndex=0),m.$digest())):k.select(m.$activeIndex)},k.$isIE=function(){var a=b.navigator.userAgent;return a.indexOf("MSIE ")>0||a.indexOf("Trident/")>0||a.indexOf("Edge/")>0},k.$selectScrollFix=function(a){"UL"===d[0].activeElement.tagName&&(a.preventDefault(),a.stopImmediatePropagation(),a.target.focus())};var n=k.show;k.show=function(){n(),l.multiple&&k.$element.addClass("select-multiple"),g(function(){k.$element.on(j?"touchstart":"mousedown",k.$onMouseDown),l.keyboard&&e.on("keydown",k.$onKeyDown)},0,!1)};var o=k.hide;return k.hide=function(){!l.multiple&&angular.isUndefined(h.$modelValue)&&(m.$activeIndex=-1),k.$element.off(j?"touchstart":"mousedown",k.$onMouseDown),l.keyboard&&e.off("keydown",k.$onKeyDown),o(!0)},k}var i=/(ip[ao]d|iphone|android)/gi.test(b.navigator.userAgent),j="createTouch"in b.document&&i;return h.defaults=a,h}]}).directive("bsSelect",["$window","$parse","$q","$select","$parseOptions",function(a,b,c,d,e){var f=d.defaults;return{restrict:"EAC",require:"ngModel",link:function(a,b,c,g){var h={scope:a,placeholder:f.placeholder};angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","keyboard","html","animation","placeholder","allNoneButtons","maxLength","maxLengthHtml","allText","noneText","iconCheckmark","autoClose","id","sort","caretHtml","prefixClass","prefixEvent","toggle"],function(a){angular.isDefined(c[a])&&(h[a]=c[a])});var i=/^(false|0|)$/i;angular.forEach(["html","container","allNoneButtons","sort"],function(a){angular.isDefined(c[a])&&i.test(c[a])&&(h[a]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide","onSelect"],function(b){var d="bs"+b.charAt(0).toUpperCase()+b.slice(1);angular.isDefined(c[d])&&(h[b]=a.$eval(c[d]))});var j=b.attr("data-multiple");if(angular.isDefined(j)&&(i.test(j)?h.multiple=!1:h.multiple=j),"select"===b[0].nodeName.toLowerCase()){var k=b;k.css("display","none"),b=angular.element('<button type="button" class="btn btn-default"></button>'),k.after(b)}var l=e(c.bsOptions),m=d(b,g,h);m.$isIE()&&b[0].addEventListener("blur",m.$selectScrollFix);var n=l.$match[7].replace(/\|.+/,"").trim();a.$watch(n,function(b,c){l.valuesFn(a,g).then(function(a){m.update(a),g.$render()})},!0),a.$watch(c.ngModel,function(a,b){m.$updateActiveIndex(),g.$render()},!0),g.$render=function(){var a,c;h.multiple&&angular.isArray(g.$modelValue)?(a=g.$modelValue.map(function(a){return-1!==(c=m.$getIndex(a))&&m.$scope.$matches[c].label}).filter(angular.isDefined),a=a.length>(h.maxLength||f.maxLength)?a.length+" "+(h.maxLengthHtml||f.maxLengthHtml):a.join(", ")):(c=m.$getIndex(g.$modelValue),a=-1!==c&&m.$scope.$matches[c].label),b.html((a||h.placeholder)+(h.caretHtml||f.caretHtml))},h.multiple&&(g.$isEmpty=function(a){return!a||0===a.length}),a.$on("$destroy",function(){m&&m.destroy(),h=null,m=null})}}}]),angular.module("mgcrea.ngStrap.scrollspy",["mgcrea.ngStrap.helpers.debounce","mgcrea.ngStrap.helpers.dimensions"]).provider("$scrollspy",function(){var a=this.$$spies={},c=this.defaults={debounce:150,throttle:100,offset:100};this.$get=["$window","$document","$rootScope","dimensions","debounce","throttle",function(d,e,f,g,h,i){function j(a,b){return a[0].nodeName&&a[0].nodeName.toLowerCase()===b.toLowerCase()}function k(e){var k=angular.extend({},c,e);k.element||(k.element=n);var o=j(k.element,"body"),p=o?l:k.element,q=o?"window":k.id;if(a[q])return a[q].$$count++,a[q];var r,s,t,u,v,w,x,y,z={},A=z.$trackedElements=[],B=[];return z.init=function(){this.$$count=1,u=h(this.checkPosition,k.debounce),v=i(this.checkPosition,k.throttle),p.on("click",this.checkPositionWithEventLoop),l.on("resize",u),p.on("scroll",v),w=h(this.checkOffsets,k.debounce),r=f.$on("$viewContentLoaded",w),s=f.$on("$includeContentLoaded",w),w(),q&&(a[q]=z)},z.destroy=function(){--this.$$count>0||(p.off("click",this.checkPositionWithEventLoop),l.off("resize",u),p.off("scroll",v),r(),s(),q&&delete a[q])},z.checkPosition=function(){if(B.length){if(y=(o?d.pageYOffset:p.prop("scrollTop"))||0,x=Math.max(d.innerHeight,m.prop("clientHeight")),y<B[0].offsetTop&&t!==B[0].target)return z.$activateElement(B[0]);for(var a=B.length;a--;)if(!angular.isUndefined(B[a].offsetTop)&&null!==B[a].offsetTop&&t!==B[a].target&&!(y<B[a].offsetTop||B[a+1]&&y>B[a+1].offsetTop))return z.$activateElement(B[a])}},z.checkPositionWithEventLoop=function(){setTimeout(z.checkPosition,1)},z.$activateElement=function(a){if(t){var b=z.$getTrackedElement(t);b&&(b.source.removeClass("active"),j(b.source,"li")&&j(b.source.parent().parent(),"li")&&b.source.parent().parent().removeClass("active"))}t=a.target,a.source.addClass("active"),j(a.source,"li")&&j(a.source.parent().parent(),"li")&&a.source.parent().parent().addClass("active")},z.$getTrackedElement=function(a){return A.filter(function(b){return b.target===a})[0]},z.checkOffsets=function(){angular.forEach(A,function(a){var c=b.querySelector(a.target);a.offsetTop=c?g.offset(c).top:null,k.offset&&null!==a.offsetTop&&(a.offsetTop-=1*k.offset)}),B=A.filter(function(a){return null!==a.offsetTop}).sort(function(a,b){return a.offsetTop-b.offsetTop}),u()},z.trackElement=function(a,b){A.push({target:a,source:b})},z.untrackElement=function(a,b){for(var c,d=A.length;d--;)if(A[d].target===a&&A[d].source===b){c=d;break}A.splice(c,1)},z.activate=function(a){A[a].addClass("active")},z.init(),z}var l=angular.element(d),m=angular.element(e.prop("documentElement")),n=angular.element(d.document.body);return k}]}).directive("bsScrollspy",["$rootScope","debounce","dimensions","$scrollspy",function(a,b,c,d){return{restrict:"EAC",link:function(a,b,c){var e={scope:a};angular.forEach(["offset","target"],function(a){angular.isDefined(c[a])&&(e[a]=c[a])});var f=d(e);f.trackElement(e.target,b),a.$on("$destroy",function(){f&&(f.untrackElement(e.target,b),f.destroy()),e=null,f=null})}}}]).directive("bsScrollspyList",["$rootScope","debounce","dimensions","$scrollspy",function(a,b,c,d){return{restrict:"A",compile:function(a,b){var c=a[0].querySelectorAll("li > a[href]");angular.forEach(c,function(a){var b=angular.element(a);b.parent().attr("bs-scrollspy","").attr("data-target",b.attr("href"))})}}}]),angular.module("mgcrea.ngStrap.popover",["mgcrea.ngStrap.tooltip"]).provider("$popover",function(){var a=this.defaults={animation:"am-fade",customClass:"",container:!1,target:!1,placement:"right",templateUrl:"popover/popover.tpl.html",contentTemplate:!1,trigger:"click",keyboard:!0,html:!1,title:"",content:"",delay:0,autoClose:!1};this.$get=["$tooltip",function(b){function c(c,d){var e=angular.extend({},a,d),f=b(c,e);return e.content&&(f.$scope.content=e.content),f}return c}]}).directive("bsPopover",["$window","$sce","$popover",function(a,b,c){var d=a.requestAnimationFrame||a.setTimeout;return{restrict:"EAC",scope:!0,link:function(a,e,f){var g,h={scope:a};angular.forEach(["template","templateUrl","controller","controllerAs","contentTemplate","placement","container","delay","trigger","html","animation","customClass","autoClose","id","prefixClass","prefixEvent","bsEnabled"],function(a){angular.isDefined(f[a])&&(h[a]=f[a])});var i=/^(false|0|)$/i;angular.forEach(["html","container","autoClose"],function(a){angular.isDefined(f[a])&&i.test(f[a])&&(h[a]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide"],function(b){var c="bs"+b.charAt(0).toUpperCase()+b.slice(1);angular.isDefined(f[c])&&(h[b]=a.$eval(f[c]))});var j=e.attr("data-target");angular.isDefined(j)&&(i.test(j)?h.target=!1:h.target=j),angular.forEach(["title","content"],function(c){f[c]&&f.$observe(c,function(e,f){a[c]=b.trustAsHtml(e),angular.isDefined(f)&&d(function(){g&&g.$applyPlacement()})})}),f.bsPopover&&a.$watch(f.bsPopover,function(b,c){angular.isObject(b)?angular.extend(a,b):a.content=b,angular.isDefined(c)&&d(function(){g&&g.$applyPlacement()})},!0),f.bsShow&&a.$watch(f.bsShow,function(a,b){g&&angular.isDefined(a)&&(angular.isString(a)&&(a=!!a.match(/true|,?(popover),?/i)),!0===a?g.show():g.hide())}),f.bsEnabled&&a.$watch(f.bsEnabled,function(a){g&&angular.isDefined(a)&&(angular.isString(a)&&(a=!!a.match(/true|1|,?(popover),?/i)),!1===a?g.setEnabled(!1):g.setEnabled(!0))}),f.viewport&&a.$watch(f.viewport,function(a){g&&angular.isDefined(a)&&g.setViewport(a)}),g=c(e,h),a.$on("$destroy",function(){g&&g.destroy(),h=null,g=null})}}}]),angular.module("mgcrea.ngStrap.navbar",[]).provider("$navbar",function(){var a=this.defaults={activeClass:"active",routeAttr:"data-match-route",strict:!1};this.$get=function(){return{defaults:a}}}).directive("bsNavbar",["$window","$location","$navbar",function(a,b,c){var d=c.defaults;return{restrict:"A",link:function(a,c,e,f){var g=angular.copy(d);angular.forEach(Object.keys(d),function(a){angular.isDefined(e[a])&&(g[a]=e[a])}),a.$watch(function(){return b.path()},function(a,b){var d=c[0].querySelectorAll("li["+g.routeAttr+"]");angular.forEach(d,function(b){var c=angular.element(b),d=c.attr(g.routeAttr).replace("/","\\/");g.strict&&(d="^"+d+"$"),new RegExp(d,"i").test(a)?c.addClass(g.activeClass):c.removeClass(g.activeClass)})})}}}]),angular.module("mgcrea.ngStrap.modal",["mgcrea.ngStrap.core","mgcrea.ngStrap.helpers.dimensions"]).provider("$modal",function(){var a=this.defaults={animation:"am-fade",backdropAnimation:"am-fade",customClass:"",prefixClass:"modal",prefixEvent:"modal",placement:"top",templateUrl:"modal/modal.tpl.html",template:"",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0,size:null,zIndex:null};this.$get=["$window","$rootScope","$bsCompiler","$animate","$timeout","$sce","dimensions",function(c,d,e,f,g,h,i){function j(b){function c(){B.$emit(z.prefixEvent+".show",y),angular.isDefined(z.onShow)&&angular.isFunction(z.onShow)&&z.onShow(y)}function g(){B.$emit(z.prefixEvent+".hide",y),angular.isDefined(z.onHide)&&angular.isFunction(z.onHide)&&z.onHide(y),l(".modal").length<=0&&o.removeClass(z.prefixClass+"-open"),z.animation&&o.removeClass(z.prefixClass+"-with-"+z.animation)}function i(){z.backdrop&&(D.on("click",v),F.on("click",v),F.on("wheel",w))}function j(){z.backdrop&&(D.off("click",v),F.off("click",v),F.off("wheel",w))}function t(){z.keyboard&&D.on("keyup",y.$onKeyUp)}function u(){z.keyboard&&D.off("keyup",y.$onKeyUp)}function v(a){a.target===a.currentTarget&&("static"===z.backdrop?y.focus():y.hide())}function w(a){a.preventDefault()}function x(){y.$isShown&&null!==D&&(j(),u()),E&&(E.$destroy(),E=null),D&&(D.remove(),D=y.$element=null)}var y={},z=y.$options=angular.extend({},a,b),A=y.$promise=e.compile(z),B=y.$scope=z.scope&&z.scope.$new()||d.$new();z.element||z.container||(z.container="body"),z.zIndex&&(q=parseInt(z.zIndex,10),r=q-10),y.$id=z.id||z.element&&z.element.attr("id")||"",m(["title","content"],function(a){z[a]&&(B[a]=h.trustAsHtml(z[a]))}),B.$hide=function(){B.$$postDigest(function(){y.hide()})},B.$show=function(){B.$$postDigest(function(){y.show()})},B.$toggle=function(){B.$$postDigest(function(){y.toggle()})},y.$isShown=B.$isShown=!1;var C,D,E,F=angular.element('<div class="'+z.prefixClass+'-backdrop"/>');return F.css({position:"fixed",top:"0px",left:"0px",bottom:"0px",right:"0px"}),A.then(function(a){C=a,y.init()}),y.init=function(){z.show&&B.$$postDigest(function(){y.show()})},y.destroy=function(){x(),F&&(F.remove(),F=null),B.$destroy()},y.show=function(){if(!y.$isShown){var a,b;if(angular.isElement(z.container)?(a=z.container,b=z.container[0].lastChild?angular.element(z.container[0].lastChild):null):z.container?(a=l(z.container),b=a[0]&&a[0].lastChild?angular.element(a[0].lastChild):null):(a=null,b=z.element),D&&x(),E=y.$scope.$new(),D=y.$element=C.link(E,function(a,b){}),z.backdrop&&(D.css({"z-index":q+20*p}),F.css({"z-index":r+20*p}),p++),!B.$emit(z.prefixEvent+".show.before",y).defaultPrevented){angular.isDefined(z.onBeforeShow)&&angular.isFunction(z.onBeforeShow)&&z.onBeforeShow(y),D.css({display:"block"}).addClass(z.placement),z.customClass&&D.addClass(z.customClass),z.size&&s[z.size]&&angular.element(l(".modal-dialog",D[0])).addClass(s[z.size]),z.animation&&(z.backdrop&&F.addClass(z.backdropAnimation),D.addClass(z.animation)),z.backdrop&&f.enter(F,o,null),angular.version.minor<=2?f.enter(D,a,b,c):f.enter(D,a,b).then(c),y.$isShown=B.$isShown=!0,k(B);var d=D[0];n(function(){d.focus()}),o.addClass(z.prefixClass+"-open"),z.animation&&o.addClass(z.prefixClass+"-with-"+z.animation),i(),t()}}},y.hide=function(){y.$isShown&&(B.$emit(z.prefixEvent+".hide.before",y).defaultPrevented||(angular.isDefined(z.onBeforeHide)&&angular.isFunction(z.onBeforeHide)&&z.onBeforeHide(y),angular.version.minor<=2?f.leave(D,g):f.leave(D).then(g),z.backdrop&&(p--,f.leave(F)),y.$isShown=B.$isShown=!1,k(B),j(),u()))},y.toggle=function(){y.$isShown?y.hide():y.show()},y.focus=function(){D[0].focus()},y.$onKeyUp=function(a){27===a.which&&y.$isShown&&(y.hide(),a.stopPropagation())},y}function k(a){a.$$phase||a.$root&&a.$root.$$phase||a.$digest()}function l(a,c){return angular.element((c||b).querySelectorAll(a))}var m=angular.forEach,n=c.requestAnimationFrame||c.setTimeout,o=angular.element(c.document.body),p=0,q=1050,r=1040,s={lg:"modal-lg",sm:"modal-sm"};return j}]}).directive("bsModal",["$window","$sce","$parse","$modal",function(a,b,c,d){return{restrict:"EAC",scope:!0,link:function(a,c,e,f){var g={scope:a,element:c,show:!1};angular.forEach(["template","templateUrl","controller","controllerAs","contentTemplate","placement","backdrop","keyboard","html","container","animation","backdropAnimation","id","prefixEvent","prefixClass","customClass","modalClass","size","zIndex"],function(a){angular.isDefined(e[a])&&(g[a]=e[a])}),g.modalClass&&(g.customClass=g.modalClass);var h=/^(false|0|)$/i;angular.forEach(["backdrop","keyboard","html","container"],function(a){angular.isDefined(e[a])&&h.test(e[a])&&(g[a]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide"],function(b){var c="bs"+b.charAt(0).toUpperCase()+b.slice(1);angular.isDefined(e[c])&&(g[b]=a.$eval(e[c]))}),angular.forEach(["title","content"],function(c){e[c]&&e.$observe(c,function(d,e){a[c]=b.trustAsHtml(d)})}),e.bsModal&&a.$watch(e.bsModal,function(b,c){angular.isObject(b)?angular.extend(a,b):a.content=b},!0);var i=d(g);c.on(e.trigger||"click",i.toggle),a.$on("$destroy",function(){i&&i.destroy(),g=null,i=null})}}}]),angular.version.minor<3&&angular.version.dot<14&&angular.module("ng").factory("$$rAF",["$window","$timeout",function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame,d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]),angular.module("mgcrea.ngStrap.helpers.parseOptions",[]).provider("$parseOptions",function(){var a=this.defaults={regexp:/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/};this.$get=["$parse","$q",function(b,c){function d(d,e){function f(a,b){return a.map(function(a,c){var d,e,f={};return f[k]=a,d=j(b,f),e=n(b,f),{label:d,value:e,index:c}})}var g={},h=angular.extend({},a,e);g.$values=[];var i,j,k,l,m,n,o;return g.init=function(){g.$match=i=d.match(h.regexp),j=b(i[2]||i[1]),k=i[4]||i[6],l=i[5],m=b(i[3]||""),n=b(i[2]?i[1]:k),o=b(i[7])},g.valuesFn=function(a,b){return c.when(o(a,b)).then(function(b){return angular.isArray(b)||(b=[]),g.$values=b.length?f(b,a):[],g.$values})},g.displayValue=function(a){var b={};return b[k]=a,j(b)},g.init(),g}return d}]}),angular.module("mgcrea.ngStrap.helpers.dimensions",[]).factory("dimensions",function(){function b(a){var b=a.ownerDocument,e=a.offsetParent||b;if(d(e,"#document"))return b.documentElement;for(;e&&!d(e,"html")&&"static"===c.css(e,"position");)e=e.offsetParent;return e||b.documentElement}var c={},d=c.nodeName=function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()};return c.css=function(b,c,d){var e;return e=b.currentStyle?b.currentStyle[c]:a.getComputedStyle?a.getComputedStyle(b)[c]:b.style[c],!0===d?parseFloat(e)||0:e},c.offset=function(b){var c=b.getBoundingClientRect(),d=b.ownerDocument;return{width:c.width||b.offsetWidth,height:c.height||b.offsetHeight,top:c.top+(a.pageYOffset||d.documentElement.scrollTop)-(d.documentElement.clientTop||0),left:c.left+(a.pageXOffset||d.documentElement.scrollLeft)-(d.documentElement.clientLeft||0)}},c.setOffset=function(a,b,d){var e,f,g,h,i,j,k,l=c.css(a,"position"),m=angular.element(a),n={};"static"===l&&(a.style.position="relative"),i=c.offset(a),g=c.css(a,"top"),j=c.css(a,"left"),k=("absolute"===l||"fixed"===l)&&(g+j).indexOf("auto")>-1,k?(e=c.position(a),h=e.top,f=e.left):(h=parseFloat(g)||0,f=parseFloat(j)||0),angular.isFunction(b)&&(b=b.call(a,d,i)),null!==b.top&&(n.top=b.top-i.top+h),null!==b.left&&(n.left=b.left-i.left+f),"using"in b?b.using.call(m,n):m.css({top:n.top+"px",left:n.left+"px"})},c.position=function(a){var e,f,g={top:0,left:0};return"fixed"===c.css(a,"position")?f=a.getBoundingClientRect():(e=b(a),f=c.offset(a),d(e,"html")||(g=c.offset(e)),g.top+=c.css(e,"borderTopWidth",!0),g.left+=c.css(e,"borderLeftWidth",!0)),{width:a.offsetWidth,height:a.offsetHeight,top:f.top-g.top-c.css(a,"marginTop",!0),left:f.left-g.left-c.css(a,"marginLeft",!0)}},c.height=function(a,b){var d=a.offsetHeight;return b?d+=c.css(a,"marginTop",!0)+c.css(a,"marginBottom",!0):d-=c.css(a,"paddingTop",!0)+c.css(a,"paddingBottom",!0)+c.css(a,"borderTopWidth",!0)+c.css(a,"borderBottomWidth",!0),d},c.width=function(a,b){var d=a.offsetWidth;return b?d+=c.css(a,"marginLeft",!0)+c.css(a,"marginRight",!0):d-=c.css(a,"paddingLeft",!0)+c.css(a,"paddingRight",!0)+c.css(a,"borderLeftWidth",!0)+c.css(a,"borderRightWidth",!0),d},c}),angular.module("mgcrea.ngStrap.helpers.debounce",[]).factory("debounce",["$timeout",function(a){return function(b,c,d){var e=null;return function(){var f=this,g=arguments,h=d&&!e;return e&&a.cancel(e),e=a(function(){e=null,d||b.apply(f,g)},c,!1),h&&b.apply(f,g),e}}}]).factory("throttle",["$timeout",function(a){return function(b,c,d){var e=null;return d||(d={}),function(){var f=this,g=arguments;e||(!1!==d.leading&&b.apply(f,g),e=a(function(){e=null,!1!==d.trailing&&b.apply(f,g)},c,!1))}}}]),angular.module("mgcrea.ngStrap.helpers.dateParser",[]).provider("$dateParser",["$localeProvider",function(a){function b(){this.year=1970,this.month=0,this.day=1,this.hours=0,this.minutes=0,this.seconds=0,this.milliseconds=0}function c(){}function d(a){return!isNaN(parseFloat(a))&&isFinite(a)}function e(a,b){for(var c=a.length,d=b.toString().toLowerCase(),e=0;e<c;e++)if(a[e].toLowerCase()===d)return e;return-1}b.prototype.setMilliseconds=function(a){this.milliseconds=a},b.prototype.setSeconds=function(a){this.seconds=a},b.prototype.setMinutes=function(a){this.minutes=a},b.prototype.setHours=function(a){this.hours=a},b.prototype.getHours=function(){return this.hours},b.prototype.setDate=function(a){this.day=a},b.prototype.setMonth=function(a){this.month=a},b.prototype.setFullYear=function(a){this.year=a},b.prototype.fromDate=function(a){return this.year=a.getFullYear(),this.month=a.getMonth(),this.day=a.getDate(),this.hours=a.getHours(),this.minutes=a.getMinutes(),this.seconds=a.getSeconds(),this.milliseconds=a.getMilliseconds(),this},b.prototype.toDate=function(){return new Date(this.year,this.month,this.day,this.hours,this.minutes,this.seconds,this.milliseconds)};var f=b.prototype,g=this.defaults={format:"shortDate",strict:!1};this.$get=["$locale","dateFilter",function(a,h){return function(i){function j(a){return o(k(a))}function k(a){var b=l(a),c=b.replace(/''/g,"\\'"),d=/('(?:\\'|.)*?')/,e=c.split(d),f=Object.keys(v),g=[];return angular.forEach(e,function(a){if(m(a))a=n(a);else for(var b=0;b<f.length;b++)a=a.split(f[b]).join("${"+b+"}");g.push(a)}),g.join("")}function l(a){return a.replace(/\\/g,"[\\\\]").replace(/-/g,"[-]").replace(/\./g,"[.]").replace(/\*/g,"[*]").replace(/\+/g,"[+]").replace(/\?/g,"[?]").replace(/\$/g,"[$]").replace(/\^/g,"[^]").replace(/\//g,"[/]").replace(/\\s/g,"[\\s]")}function m(a){return/^'.*'$/.test(a)}function n(a){return a.replace(/^'(.*)'$/,"$1")}function o(a){for(var b=Object.keys(v),c=a,d=0;d<b.length;d++)c=c.split("${"+d+"}").join("("+v[b[d]]+")");return new RegExp("^"+c+"$",["i"])}function p(a){return q(k(a))}function q(a){for(var b,c,d,e,f=Object.keys(v),g=new RegExp("\\${(\\d+)}","g"),h=[];null!==(b=g.exec(a));)c=b[1],d=f[c],e=w[d],h.push(e);return h}var r,s,t=angular.extend({},g,i),u={},v={sss:"[0-9]{3}",ss:"[0-5][0-9]",s:t.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",mm:"[0-5][0-9]",m:t.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",HH:"[01][0-9]|2[0-3]",H:t.strict?"1?[0-9]|2[0-3]":"[01]?[0-9]|2[0-3]",hh:"[0][1-9]|[1][012]",h:t.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",a:"AM|PM",EEEE:a.DATETIME_FORMATS.DAY.join("|"),EEE:a.DATETIME_FORMATS.SHORTDAY.join("|"),dd:"0[1-9]|[12][0-9]|3[01]",d:t.strict?"[1-9]|[1-2][0-9]|3[01]":"0?[1-9]|[1-2][0-9]|3[01]",MMMM:a.DATETIME_FORMATS.MONTH.join("|"),MMM:a.DATETIME_FORMATS.SHORTMONTH.join("|"),MM:"0[1-9]|1[012]",M:t.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",yyyy:"[1]{1}[0-9]{3}|[2]{1}[0-9]{3}",yy:"[0-9]{2}",y:t.strict?"-?(0|[1-9][0-9]{0,3})":"-?0*[0-9]{1,4}"},w={sss:f.setMilliseconds,ss:f.setSeconds,s:f.setSeconds,mm:f.setMinutes,m:f.setMinutes,HH:f.setHours,H:f.setHours,hh:f.setHours,h:f.setHours,EEEE:c,EEE:c,dd:f.setDate,d:f.setDate,a:function(a){var b=this.getHours()%12;return this.setHours(a.match(/pm/i)?b+12:b)},MMMM:function(b){return this.setMonth(e(a.DATETIME_FORMATS.MONTH,b))},MMM:function(b){return this.setMonth(e(a.DATETIME_FORMATS.SHORTMONTH,b))},MM:function(a){return this.setMonth(1*a-1)},M:function(a){return this.setMonth(1*a-1)},yyyy:f.setFullYear,yy:function(a){return this.setFullYear(2e3+1*a)},y:function(a){return 1*a<=50&&2===a.length?this.setFullYear(2e3+1*a):this.setFullYear(1*a)}};return u.init=function(){u.$format=a.DATETIME_FORMATS[t.format]||t.format,r=j(u.$format),s=p(u.$format)},u.isValid=function(a){return angular.isDate(a)?!isNaN(a.getTime()):r.test(a)},u.parse=function(c,d,e,f){e&&(e=a.DATETIME_FORMATS[e]||e),angular.isDate(c)&&(c=h(c,e||u.$format,f));var g=e?j(e):r,i=e?p(e):s,k=g.exec(c);if(!k)return!1;for(var l=d&&!isNaN(d.getTime())?(new b).fromDate(d):(new b).fromDate(new Date(1970,0,1,0)),m=0;m<k.length-1;m++)i[m]&&i[m].call(l,k[m+1]);var n=l.toDate();return parseInt(l.day,10)===n.getDate()&&n},u.getDateForAttribute=function(a,b){var c;if("today"===b){var e=new Date;c=new Date(e.getFullYear(),e.getMonth(),e.getDate()+("maxDate"===a?1:0),0,0,0,"minDate"===a?0:-1)}else c=angular.isString(b)&&b.match(/^".+"$/)?new Date(b.substr(1,b.length-2)):d(b)?new Date(parseInt(b,10)):angular.isString(b)&&0===b.length?"minDate"===a?-1/0:1/0:new Date(b);return c},u.getTimeForAttribute=function(a,b){return"now"===b?(new Date).setFullYear(1970,0,1):angular.isString(b)&&b.match(/^".+"$/)?new Date(b.substr(1,b.length-2)).setFullYear(1970,0,1):d(b)?new Date(parseInt(b,10)).setFullYear(1970,0,1):angular.isString(b)&&0===b.length?"minTime"===a?-1/0:1/0:u.parse(b,new Date(1970,0,1,0))},u.daylightSavingAdjust=function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},u.timezoneOffsetAdjust=function(a,b,c){return a?(b&&"UTC"===b&&(a=new Date(a.getTime()),a.setMinutes(a.getMinutes()+(c?-1:1)*a.getTimezoneOffset())),a):null},u.init(),u}}]}]),angular.module("mgcrea.ngStrap.helpers.dateFormatter",[]).service("$dateFormatter",["$locale","dateFilter",function(a,b){function c(a){return/(h+)([:\.])?(m+)([:\.])?(s*)[ ]?(a?)/i.exec(a).slice(1)}this.getDefaultLocale=function(){return a.id},this.getDatetimeFormat=function(b,c){return a.DATETIME_FORMATS[b]||b},this.weekdaysShort=function(b){return a.DATETIME_FORMATS.SHORTDAY},this.hoursFormat=function(a){return c(a)[0]},this.minutesFormat=function(a){return c(a)[2]},this.secondsFormat=function(a){return c(a)[4]},this.timeSeparator=function(a){return c(a)[1]},this.showSeconds=function(a){return!!c(a)[4]},this.showAM=function(a){return!!c(a)[5]},this.formatDate=function(a,c,d,e){return b(a,c,e)}}]),angular.module("mgcrea.ngStrap.core",[]).service("$bsCompiler",d),angular.module("mgcrea.ngStrap.dropdown",["mgcrea.ngStrap.tooltip"]).provider("$dropdown",function(){var a=this.defaults={animation:"am-fade",prefixClass:"dropdown",prefixEvent:"dropdown",placement:"bottom-left",templateUrl:"dropdown/dropdown.tpl.html",trigger:"click",container:!1,keyboard:!0,html:!1,delay:0};this.$get=["$window","$rootScope","$tooltip","$timeout",function(b,c,d,e){function f(b,f){function i(a){if(a.target!==b[0])return a.target!==b[0]&&j.hide()}var j={},k=angular.extend({},a,f);j.$scope=k.scope&&k.scope.$new()||c.$new(),j=d(b,k);var l=b.parent();j.$onKeyDown=function(a){if(/(38|40)/.test(a.keyCode)){a.preventDefault(),a.stopPropagation();var b=angular.element(j.$element[0].querySelectorAll("li:not(.divider) a"));if(b.length){var c;angular.forEach(b,function(a,b){h&&h.call(a,":focus")&&(c=b)}),38===a.keyCode&&c>0?c--:40===a.keyCode&&c<b.length-1?c++:angular.isUndefined(c)&&(c=0),b.eq(c)[0].focus()}}};var m=j.show;j.show=function(){m(),e(function(){k.keyboard&&j.$element&&j.$element.on("keydown",j.$onKeyDown),g.on("click",i)},0,!1),l.hasClass("dropdown")&&l.addClass("open")};var n=j.hide;j.hide=function(){j.$isShown&&(k.keyboard&&j.$element&&j.$element.off("keydown",j.$onKeyDown),g.off("click",i),l.hasClass("dropdown")&&l.removeClass("open"),n())};var o=j.destroy;return j.destroy=function(){g.off("click",i),o()},j}var g=angular.element(b.document.body),h=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector;return f}]}).directive("bsDropdown",["$window","$sce","$dropdown",function(a,b,d){return{restrict:"EAC",scope:!0,compile:function(a,b){if(!b.bsDropdown){for(var e=a[0].nextSibling;e&&1!==e.nodeType;)e=e.nextSibling;e&&e.className.split(" ").indexOf("dropdown-menu")>=0&&(b.template=e.outerHTML,b.templateUrl=c,e.parentNode.removeChild(e))}return function(a,c,e){var f={scope:a};angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","keyboard","html","animation","id","autoClose"],function(a){angular.isDefined(b[a])&&(f[a]=b[a])});var g=/^(false|0|)$/i
;angular.forEach(["html","container"],function(a){angular.isDefined(e[a])&&g.test(e[a])&&(f[a]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide"],function(b){var c="bs"+b.charAt(0).toUpperCase()+b.slice(1);angular.isDefined(e[c])&&(f[b]=a.$eval(e[c]))}),e.bsDropdown&&a.$watch(e.bsDropdown,function(b,c){a.content=b},!0);var h=d(c,f);e.bsShow&&a.$watch(e.bsShow,function(a,b){h&&angular.isDefined(a)&&(angular.isString(a)&&(a=!!a.match(/true|,?(dropdown),?/i)),!0===a?h.show():h.hide())}),a.$on("$destroy",function(){h&&h.destroy(),f=null,h=null})}}}}]),angular.module("mgcrea.ngStrap.button",[]).provider("$button",function(){var a=this.defaults={activeClass:"active",toggleEvent:"click"};this.$get=function(){return{defaults:a}}}).directive("bsCheckboxGroup",function(){return{restrict:"A",require:"ngModel",compile:function(a,b){a.attr("data-toggle","buttons"),a.removeAttr("ng-model");var c=a[0].querySelectorAll('input[type="checkbox"]');angular.forEach(c,function(a){var c=angular.element(a);c.attr("bs-checkbox",""),c.attr("ng-model",b.ngModel+"."+c.attr("value"))})}}}).directive("bsCheckbox",["$button","$$rAF",function(a,b){var c=a.defaults,d=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(a,e,f,g){var h=c,i="INPUT"===e[0].nodeName,j=i?e.parent():e,k=!angular.isDefined(f.trueValue)||f.trueValue;d.test(f.trueValue)&&(k=a.$eval(f.trueValue));var l=!!angular.isDefined(f.falseValue)&&f.falseValue;d.test(f.falseValue)&&(l=a.$eval(f.falseValue)),("boolean"!=typeof k||"boolean"!=typeof l)&&(g.$parsers.push(function(a){return a?k:l}),g.$formatters.push(function(a){return angular.equals(a,k)})),g.$render=function(){var a=!!g.$viewValue;b(function(){i&&(e[0].checked=a),j.toggleClass(h.activeClass,a)})},e.bind(h.toggleEvent,function(){a.$apply(function(){i||g.$setViewValue(!j.hasClass("active")),g.$render()})})}}}]).directive("bsRadioGroup",function(){return{restrict:"A",require:"ngModel",compile:function(a,b){a.attr("data-toggle","buttons"),a.removeAttr("ng-model");var c=a[0].querySelectorAll('input[type="radio"]');angular.forEach(c,function(a){angular.element(a).attr("bs-radio",""),angular.element(a).attr("ng-model",b.ngModel)})}}}).directive("bsRadio",["$button","$$rAF",function(a,b){var c=a.defaults,d=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(a,e,f,g){var h,i=c,j="INPUT"===e[0].nodeName,k=j?e.parent():e;f.$observe("value",function(b){h="boolean"!=typeof b&&d.test(b)?a.$eval(b):b,g.$render()}),g.$render=function(){var a=angular.equals(g.$viewValue,h);b(function(){j&&(e[0].checked=a),k.toggleClass(i.activeClass,a)})},e.bind(i.toggleEvent,function(){a.$apply(function(){g.$setViewValue(h),g.$render()})})}}}]),angular.module("mgcrea.ngStrap.datepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.helpers.dateFormatter","mgcrea.ngStrap.tooltip"]).provider("$datepicker",function(){var a=this.defaults={animation:"am-fade",prefixClass:"datepicker",placement:"bottom-left",templateUrl:"datepicker/datepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!1,dateType:"date",dateFormat:"shortDate",timezone:null,modelDateFormat:null,dayFormat:"dd",monthFormat:"MMM",yearFormat:"yyyy",monthTitleFormat:"MMMM yyyy",yearTitleFormat:"yyyy",strictFormat:!1,autoclose:!1,minDate:-1/0,maxDate:1/0,startView:0,minView:0,startWeek:0,daysOfWeekDisabled:"",hasToday:!1,hasClear:!1,iconLeft:"glyphicon glyphicon-chevron-left",iconRight:"glyphicon glyphicon-chevron-right"};this.$get=["$window","$document","$rootScope","$sce","$dateFormatter","datepickerViews","$tooltip","$timeout",function(b,c,d,e,f,g,h,i){function j(b,c,d){function e(a){a.selected=j.$isSelected(a.date)}function f(){b[0].focus()}var j=h(b,angular.extend({},a,d)),m=d.scope,n=j.$options,o=j.$scope;n.startView&&(n.startView-=n.minView);var p=g(j);j.$views=p.views;var q=p.viewDate;o.$mode=n.startView,o.$iconLeft=n.iconLeft,o.$iconRight=n.iconRight,o.$hasToday=n.hasToday,o.$hasClear=n.hasClear;var r=j.$views[o.$mode];o.$select=function(a,b){b||j.select(a)},o.$selectPane=function(a){j.$selectPane(a)},o.$toggleMode=function(){j.setMode((o.$mode+1)%j.$views.length)},o.$setToday=function(){n.autoclose?(j.setMode(0),j.select(new Date)):j.select(new Date,!0)},o.$clear=function(){n.autoclose?(j.setMode(0),j.select(null)):j.select(null,!0)},j.update=function(a){angular.isDate(a)&&!isNaN(a.getTime())&&(j.$date=a,r.update.call(r,a)),j.$build(!0)},j.updateDisabledDates=function(a){n.disabledDateRanges=a;for(var b=0,c=o.rows.length;b<c;b++)angular.forEach(o.rows[b],j.$setDisabledEl)},j.select=function(a,b){angular.isDate(a)?angular.isDate(c.$dateValue)&&!isNaN(c.$dateValue.getTime())||(c.$dateValue=new Date(a)):c.$dateValue=null,!o.$mode||b?(c.$setViewValue(angular.copy(a)),c.$render(),n.autoclose&&!b&&i(function(){j.hide(!0)})):(angular.extend(q,{year:a.getFullYear(),month:a.getMonth(),date:a.getDate()}),j.setMode(o.$mode-1),j.$build())},j.setMode=function(a){o.$mode=a,r=j.$views[o.$mode],j.$build()},j.$build=function(a){!0===a&&r.built||(!1!==a||r.built)&&r.build.call(r)},j.$updateSelected=function(){for(var a=0,b=o.rows.length;a<b;a++)angular.forEach(o.rows[a],e)},j.$isSelected=function(a){return r.isSelected(a)},j.$setDisabledEl=function(a){a.disabled=r.isDisabled(a.date)},j.$selectPane=function(a){var b=r.steps,c=new Date(Date.UTC(q.year+(b.year||0)*a,q.month+(b.month||0)*a,1));angular.extend(q,{year:c.getUTCFullYear(),month:c.getUTCMonth(),date:c.getUTCDate()}),j.$build()},j.$onMouseDown=function(a){if(a.preventDefault(),a.stopPropagation(),l){var b=angular.element(a.target);"button"!==b[0].nodeName.toLowerCase()&&(b=b.parent()),b.triggerHandler("click")}},j.$onKeyDown=function(a){if(/(38|37|39|40|13)/.test(a.keyCode)&&!a.shiftKey&&!a.altKey){if(a.preventDefault(),a.stopPropagation(),13===a.keyCode)return void(o.$mode?o.$apply(function(){j.setMode(o.$mode-1)}):j.hide(!0));r.onKeyDown(a),m.$digest()}};var s=j.init;j.init=function(){if(k&&n.useNative)return b.prop("type","date"),void b.css("-webkit-appearance","textfield");l&&(b.prop("type","text"),b.attr("readonly","true"),b.on("click",f)),s()};var t=j.destroy;j.destroy=function(){k&&n.useNative&&b.off("click",f),t()};var u=j.show;j.show=function(){!l&&b.attr("readonly")||b.attr("disabled")||(u(),i(function(){j.$isShown&&(j.$element.on(l?"touchstart":"mousedown",j.$onMouseDown),n.keyboard&&b.on("keydown",j.$onKeyDown))},0,!1))};var v=j.hide;return j.hide=function(a){j.$isShown&&(j.$element.off(l?"touchstart":"mousedown",j.$onMouseDown),n.keyboard&&b.off("keydown",j.$onKeyDown),v(a))},j}var k=/(ip[ao]d|iphone|android)/gi.test(b.navigator.userAgent),l="createTouch"in b.document&&k;return a.lang||(a.lang=f.getDefaultLocale()),j.defaults=a,j}]}).directive("bsDatepicker",["$window","$parse","$q","$dateFormatter","$dateParser","$datepicker",function(a,b,c,d,e,f){var g=/(ip[ao]d|iphone|android)/gi.test(a.navigator.userAgent);return{restrict:"EAC",require:"ngModel",link:function(a,b,c,h){function i(a){return a&&a.length?a:null}function j(a){if(angular.isDate(a)){var b=isNaN(n.$options.minDate)||a.getTime()>=n.$options.minDate,c=isNaN(n.$options.maxDate)||a.getTime()<=n.$options.maxDate,d=b&&c;h.$setValidity("date",d),h.$setValidity("min",b),h.$setValidity("max",c),d&&(h.$dateValue=a)}}function k(){return!h.$dateValue||isNaN(h.$dateValue.getTime())?"":p(h.$dateValue,l.dateFormat)}var l={scope:a};angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","html","animation","autoclose","dateType","dateFormat","timezone","modelDateFormat","dayFormat","strictFormat","startWeek","startDate","useNative","lang","startView","minView","iconLeft","iconRight","daysOfWeekDisabled","id","prefixClass","prefixEvent","hasToday","hasClear"],function(a){angular.isDefined(c[a])&&(l[a]=c[a])});var m=/^(false|0|)$/i;angular.forEach(["html","container","autoclose","useNative","hasToday","hasClear"],function(a){angular.isDefined(c[a])&&m.test(c[a])&&(l[a]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide"],function(b){var d="bs"+b.charAt(0).toUpperCase()+b.slice(1);angular.isDefined(c[d])&&(l[b]=a.$eval(c[d]))});var n=f(b,h,l);l=n.$options,g&&l.useNative&&(l.dateFormat="yyyy-MM-dd");var o=l.lang,p=function(a,b){return d.formatDate(a,b,o)},q=e({format:l.dateFormat,lang:o,strict:l.strictFormat});c.bsShow&&a.$watch(c.bsShow,function(a,b){n&&angular.isDefined(a)&&(angular.isString(a)&&(a=!!a.match(/true|,?(datepicker),?/i)),!0===a?n.show():n.hide())}),angular.forEach(["minDate","maxDate"],function(a){angular.isDefined(c[a])&&c.$observe(a,function(b){n.$options[a]=q.getDateForAttribute(a,b),isNaN(n.$options[a])||n.$build(!1),j(h.$dateValue)})}),angular.isDefined(c.dateFormat)&&c.$observe("dateFormat",function(a){n.$options.dateFormat=a}),a.$watch(c.ngModel,function(a,b){n.update(h.$dateValue)},!0),angular.isDefined(c.disabledDates)&&a.$watch(c.disabledDates,function(a,b){a=i(a),b=i(b),a&&n.updateDisabledDates(a)}),h.$parsers.unshift(function(a){var b;if(!a)return h.$setValidity("date",!0),null;var c=q.parse(a,h.$dateValue);return!c||isNaN(c.getTime())?void h.$setValidity("date",!1):(j(c),"string"===l.dateType?(b=q.timezoneOffsetAdjust(c,l.timezone,!0),p(b,l.modelDateFormat||l.dateFormat)):(b=q.timezoneOffsetAdjust(h.$dateValue,l.timezone,!0),"number"===l.dateType?b.getTime():"unix"===l.dateType?b.getTime()/1e3:"iso"===l.dateType?b.toISOString():new Date(b)))}),h.$formatters.push(function(a){var b;return b=angular.isUndefined(a)||null===a?NaN:angular.isDate(a)?a:"string"===l.dateType?q.parse(a,null,l.modelDateFormat):"unix"===l.dateType?new Date(1e3*a):new Date(a),h.$dateValue=q.timezoneOffsetAdjust(b,l.timezone),k()}),h.$render=function(){b.val(k())},a.$on("$destroy",function(){n&&n.destroy(),l=null,n=null})}}}]).provider("datepickerViews",function(){function a(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c}function b(a,b){return(a%b+b)%b}this.$get=["$dateFormatter","$dateParser","$sce",function(c,d,e){return function(f){var g=f.$scope,h=f.$options,i=h.lang,j=function(a,b){return c.formatDate(a,b,i)},k=d({format:h.dateFormat,lang:i,strict:h.strictFormat}),l=c.weekdaysShort(i),m=l.slice(h.startWeek).concat(l.slice(0,h.startWeek)),n=e.trustAsHtml('<th class="dow text-center">'+m.join('</th><th class="dow text-center">')+"</th>"),o=f.$date||(h.startDate?k.getDateForAttribute("startDate",h.startDate):new Date),p={year:o.getFullYear(),month:o.getMonth(),date:o.getDate()},q=[{format:h.dayFormat,split:7,steps:{month:1},update:function(a,b){!this.built||b||a.getFullYear()!==p.year||a.getMonth()!==p.month?(angular.extend(p,{year:f.$date.getFullYear(),month:f.$date.getMonth(),date:f.$date.getDate()}),f.$build()):a.getDate()===p.date&&1!==a.getDate()||(p.date=f.$date.getDate(),f.$updateSelected())},build:function(){var c=new Date(p.year,p.month,1),d=c.getTimezoneOffset(),e=new Date(+c-864e5*b(c.getDay()-h.startWeek,7)),i=e.getTimezoneOffset(),l=k.timezoneOffsetAdjust(new Date,h.timezone).toDateString();i!==d&&(e=new Date(+e+6e4*(i-d)));for(var m,o=[],q=0;q<42;q++)m=k.daylightSavingAdjust(new Date(e.getFullYear(),e.getMonth(),e.getDate()+q)),o.push({date:m,isToday:m.toDateString()===l,label:j(m,this.format),selected:f.$date&&this.isSelected(m),muted:m.getMonth()!==p.month,disabled:this.isDisabled(m)});g.title=j(c,h.monthTitleFormat),g.showLabels=!0,g.labels=n,g.rows=a(o,this.split),g.isTodayDisabled=this.isDisabled(new Date),this.built=!0},isSelected:function(a){return f.$date&&a.getFullYear()===f.$date.getFullYear()&&a.getMonth()===f.$date.getMonth()&&a.getDate()===f.$date.getDate()},isDisabled:function(a){var b=a.getTime();if(b<h.minDate||b>h.maxDate)return!0;if(-1!==h.daysOfWeekDisabled.indexOf(a.getDay()))return!0;if(h.disabledDateRanges)for(var c=0;c<h.disabledDateRanges.length;c++)if(b>=h.disabledDateRanges[c].start&&b<=h.disabledDateRanges[c].end)return!0;return!1},onKeyDown:function(a){if(f.$date){var b,c=f.$date.getTime();37===a.keyCode?b=new Date(c-864e5):38===a.keyCode?b=new Date(c-6048e5):39===a.keyCode?b=new Date(c+864e5):40===a.keyCode&&(b=new Date(c+6048e5)),this.isDisabled(b)||f.select(b,!0)}}},{name:"month",format:h.monthFormat,split:4,steps:{year:1},update:function(a,b){this.built&&a.getFullYear()===p.year?a.getMonth()!==p.month&&(angular.extend(p,{month:f.$date.getMonth(),date:f.$date.getDate()}),f.$updateSelected()):(angular.extend(p,{year:f.$date.getFullYear(),month:f.$date.getMonth(),date:f.$date.getDate()}),f.$build())},build:function(){for(var b,c=[],d=0;d<12;d++)b=new Date(p.year,d,1),c.push({date:b,label:j(b,this.format),selected:f.$isSelected(b),disabled:this.isDisabled(b)});g.title=j(b,h.yearTitleFormat),g.showLabels=!1,g.rows=a(c,this.split),this.built=!0},isSelected:function(a){return f.$date&&a.getFullYear()===f.$date.getFullYear()&&a.getMonth()===f.$date.getMonth()},isDisabled:function(a){return+new Date(a.getFullYear(),a.getMonth()+1,0)<h.minDate||a.getTime()>h.maxDate},onKeyDown:function(a){if(f.$date){var b=f.$date.getMonth(),c=new Date(f.$date);37===a.keyCode?c.setMonth(b-1):38===a.keyCode?c.setMonth(b-4):39===a.keyCode?c.setMonth(b+1):40===a.keyCode&&c.setMonth(b+4),this.isDisabled(c)||f.select(c,!0)}}},{name:"year",format:h.yearFormat,split:4,steps:{year:12},update:function(a,b){!this.built||b||parseInt(a.getFullYear()/20,10)!==parseInt(p.year/20,10)?(angular.extend(p,{year:f.$date.getFullYear(),month:f.$date.getMonth(),date:f.$date.getDate()}),f.$build()):a.getFullYear()!==p.year&&(angular.extend(p,{year:f.$date.getFullYear(),month:f.$date.getMonth(),date:f.$date.getDate()}),f.$updateSelected())},build:function(){for(var b,c=p.year-p.year%(3*this.split),d=[],e=0;e<12;e++)b=new Date(c+e,0,1),d.push({date:b,label:j(b,this.format),selected:f.$isSelected(b),disabled:this.isDisabled(b)});g.title=d[0].label+"-"+d[d.length-1].label,g.showLabels=!1,g.rows=a(d,this.split),this.built=!0},isSelected:function(a){return f.$date&&a.getFullYear()===f.$date.getFullYear()},isDisabled:function(a){return+new Date(a.getFullYear()+1,0,0)<h.minDate||a.getTime()>h.maxDate},onKeyDown:function(a){if(f.$date){var b=f.$date.getFullYear(),c=new Date(f.$date);37===a.keyCode?c.setYear(b-1):38===a.keyCode?c.setYear(b-4):39===a.keyCode?c.setYear(b+1):40===a.keyCode&&c.setYear(b+4),this.isDisabled(c)||f.select(c,!0)}}}];return{views:h.minView?Array.prototype.slice.call(q,h.minView):q,viewDate:p}}}]}),angular.module("mgcrea.ngStrap.collapse",[]).provider("$collapse",function(){var a=this.defaults={animation:"am-collapse",disallowToggle:!1,activeClass:"in",startCollapsed:!1,allowMultiple:!1},b=this.controller=function(b,c,d){function e(a){for(var b=i.$targets.$active,c=0;c<b.length;c++)a<b[c]&&(b[c]=b[c]-1),b[c]===i.$targets.length&&(b[c]=i.$targets.length-1)}function f(a){return-1!==i.$targets.$active.indexOf(a)}function g(a){var b=i.$targets.$active.indexOf(a);-1!==b&&i.$targets.$active.splice(b,1)}function h(a){i.$options.allowMultiple||i.$targets.$active.splice(0,1),-1===i.$targets.$active.indexOf(a)&&i.$targets.$active.push(a)}var i=this;i.$options=angular.copy(a),angular.forEach(["animation","disallowToggle","activeClass","startCollapsed","allowMultiple"],function(a){angular.isDefined(d[a])&&(i.$options[a]=d[a])});var j=/^(false|0|)$/i;angular.forEach(["disallowToggle","startCollapsed","allowMultiple"],function(a){angular.isDefined(d[a])&&j.test(d[a])&&(i.$options[a]=!1)}),i.$toggles=[],i.$targets=[],i.$viewChangeListeners=[],i.$registerToggle=function(a){i.$toggles.push(a)},i.$registerTarget=function(a){i.$targets.push(a)},i.$unregisterToggle=function(a){var b=i.$toggles.indexOf(a);i.$toggles.splice(b,1)},i.$unregisterTarget=function(a){var b=i.$targets.indexOf(a);i.$targets.splice(b,1),i.$options.allowMultiple&&g(a),e(b),i.$viewChangeListeners.forEach(function(a){a()})},i.$targets.$active=i.$options.startCollapsed?[]:[0],i.$setActive=b.$setActive=function(a){angular.isArray(a)?i.$targets.$active=a:!i.$options.disallowToggle&&f(a)?g(a):h(a),i.$viewChangeListeners.forEach(function(a){a()})},i.$activeIndexes=function(){return i.$options.allowMultiple?i.$targets.$active:1===i.$targets.$active.length?i.$targets.$active[0]:-1}};this.$get=function(){var c={};return c.defaults=a,c.controller=b,c}}).directive("bsCollapse",["$window","$animate","$collapse",function(a,b,c){return{require:["?ngModel","bsCollapse"],controller:["$scope","$element","$attrs",c.controller],link:function(a,b,c,d){var e=d[0],f=d[1];e&&(f.$viewChangeListeners.push(function(){e.$setViewValue(f.$activeIndexes())}),e.$formatters.push(function(a){if(angular.isArray(a))f.$setActive(a);else{var b=f.$activeIndexes();angular.isArray(b)?-1===b.indexOf(1*a)&&f.$setActive(1*a):b!==1*a&&f.$setActive(1*a)}return a}))}}}]).directive("bsCollapseToggle",function(){return{require:["^?ngModel","^bsCollapse"],link:function(a,b,c,d){var e=d[1];b.attr("data-toggle","collapse"),e.$registerToggle(b),a.$on("$destroy",function(){e.$unregisterToggle(b)}),b.on("click",function(){if(!c.disabled){var d=c.bsCollapseToggle&&"bs-collapse-toggle"!==c.bsCollapseToggle?c.bsCollapseToggle:e.$toggles.indexOf(b);e.$setActive(1*d),a.$apply()}})}}}).directive("bsCollapseTarget",["$animate",function(a){return{require:["^?ngModel","^bsCollapse"],link:function(b,c,d,e){function f(){var b=g.$targets.indexOf(c),d=g.$activeIndexes(),e="removeClass";angular.isArray(d)?-1!==d.indexOf(b)&&(e="addClass"):b===d&&(e="addClass"),a[e](c,g.$options.activeClass)}var g=e[1];c.addClass("collapse"),g.$options.animation&&c.addClass(g.$options.animation),g.$registerTarget(c),b.$on("$destroy",function(){g.$unregisterTarget(c)}),g.$viewChangeListeners.push(function(){f()}),f()}}}]),angular.module("mgcrea.ngStrap.aside",["mgcrea.ngStrap.modal"]).provider("$aside",function(){var a=this.defaults={animation:"am-fade-and-slide-right",prefixClass:"aside",prefixEvent:"aside",placement:"right",templateUrl:"aside/aside.tpl.html",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$modal",function(b){function c(c){var d=angular.extend({},a,c);return b(d)}return c}]}).directive("bsAside",["$window","$sce","$aside",function(a,b,c){return{restrict:"EAC",scope:!0,link:function(a,d,e,f){var g={scope:a,element:d,show:!1};angular.forEach(["template","templateUrl","controller","controllerAs","contentTemplate","placement","backdrop","keyboard","html","container","animation"],function(a){angular.isDefined(e[a])&&(g[a]=e[a])});var h=/^(false|0|)$/i;angular.forEach(["backdrop","keyboard","html","container"],function(a){angular.isDefined(e[a])&&h.test(e[a])&&(g[a]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide"],function(b){var c="bs"+b.charAt(0).toUpperCase()+b.slice(1);angular.isDefined(e[c])&&(g[b]=a.$eval(e[c]))}),angular.forEach(["title","content"],function(c){e[c]&&e.$observe(c,function(d,e){a[c]=b.trustAsHtml(d)})}),e.bsAside&&a.$watch(e.bsAside,function(b,c){angular.isObject(b)?angular.extend(a,b):a.content=b},!0);var i=c(g);d.on(e.trigger||"click",i.toggle),a.$on("$destroy",function(){i&&i.destroy(),g=null,i=null})}}}]),angular.module("mgcrea.ngStrap.alert",["mgcrea.ngStrap.modal"]).provider("$alert",function(){var a=this.defaults={animation:"am-fade",prefixClass:"alert",prefixEvent:"alert",placement:null,templateUrl:"alert/alert.tpl.html",container:!1,element:null,backdrop:!1,keyboard:!0,show:!0,duration:!1,type:!1,dismissable:!0};this.$get=["$modal","$timeout",function(b,c){function d(d){var e={},f=angular.extend({},a,d);e=b(f),e.$scope.dismissable=!!f.dismissable,f.type&&(e.$scope.type=f.type);var g=e.show;return f.duration&&(e.show=function(){g(),c(function(){e.hide()},1e3*f.duration)}),e}return d}]}).directive("bsAlert",["$window","$sce","$alert",function(a,b,c){return{restrict:"EAC",scope:!0,link:function(a,d,e,f){var g={scope:a,element:d,show:!1};angular.forEach(["template","templateUrl","controller","controllerAs","placement","keyboard","html","container","animation","duration","dismissable"],function(a){angular.isDefined(e[a])&&(g[a]=e[a])});var h=/^(false|0|)$/i;angular.forEach(["keyboard","html","container","dismissable"],function(a){angular.isDefined(e[a])&&h.test(e[a])&&(g[a]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide"],function(b){var c="bs"+b.charAt(0).toUpperCase()+b.slice(1);angular.isDefined(e[c])&&(g[b]=a.$eval(e[c]))}),a.hasOwnProperty("title")||(a.title=""),angular.forEach(["title","content","type"],function(c){e[c]&&e.$observe(c,function(d,e){a[c]=b.trustAsHtml(d)})}),e.bsAlert&&a.$watch(e.bsAlert,function(b,c){angular.isObject(b)?angular.extend(a,b):a.content=b},!0);var i=c(g);d.on(e.trigger||"click",i.toggle),a.$on("$destroy",function(){i&&i.destroy(),g=null,i=null})}}}]),angular.module("mgcrea.ngStrap.affix",["mgcrea.ngStrap.helpers.dimensions","mgcrea.ngStrap.helpers.debounce"]).provider("$affix",function(){var a=this.defaults={offsetTop:"auto",inlineStyles:!0,setWidth:!0};this.$get=["$window","debounce","dimensions",function(b,c,d){function e(e,h){function i(a,b,c){var d=j(),e=k();return d<=r?"top":null!==a?d+a<=b.top?"middle":"bottom":null!==s&&b.top+c+p>=e-s?"bottom":"middle"}function j(){return n[0]===b?b.pageYOffset:n[0].scrollTop}function k(){return n[0]===b?b.document.body.scrollHeight:n[0].scrollHeight}var l={},m=angular.extend({},a,h),n=m.target,o=!1,p=0,q=0,r=0,s=0,t=null,u=null,v=e.parent();if(m.offsetParent)if(m.offsetParent.match(/^\d+$/))for(var w=0;w<1*m.offsetParent-1;w++)v=v.parent();else v=angular.element(m.offsetParent);return l.init=function(){this.$parseOffsets(),q=d.offset(e[0]).top+p,o=m.setWidth&&!e[0].style.width,n.on("scroll",this.checkPosition),n.on("click",this.checkPositionWithEventLoop),g.on("resize",this.$debouncedOnResize),this.checkPosition(),this.checkPositionWithEventLoop()},l.destroy=function(){n.off("scroll",this.checkPosition),n.off("click",this.checkPositionWithEventLoop),g.off("resize",this.$debouncedOnResize)},l.checkPositionWithEventLoop=function(){setTimeout(l.checkPosition,1)},l.checkPosition=function(){var a=j(),b=d.offset(e[0]),c=d.height(e[0]),g=i(u,b,c);t!==g&&(t=g,"top"===g?(u=null,o&&e.css("width",""),m.inlineStyles&&(e.css("position",m.offsetParent?"":"relative"),e.css("top",""))):"bottom"===g?(u=m.offsetUnpin?-1*m.offsetUnpin:b.top-a,o&&e.css("width",""),m.inlineStyles&&(e.css("position",m.offsetParent?"":"relative"),e.css("top",m.offsetParent?"":f[0].offsetHeight-s-c-q+"px"))):(u=null,o&&e.css("width",e[0].offsetWidth+"px"),m.inlineStyles&&(e.css("position","fixed"),e.css("top",p+"px"))),e.removeClass("affix affix-top affix-bottom").addClass("affix"+("middle"!==g?"-"+g:"")))},l.$onResize=function(){l.$parseOffsets(),l.checkPosition()},l.$debouncedOnResize=c(l.$onResize,50),l.$parseOffsets=function(){var a=e[0].style.position,b=e[0].style.top;m.inlineStyles&&(e.css("position",m.offsetParent?"":"relative"),e.css("top","")),m.offsetTop&&("auto"===m.offsetTop&&(m.offsetTop="+0"),m.offsetTop.match(/^[-+]\d+$/)?(p=1*-m.offsetTop,r=m.offsetParent?d.offset(v[0]).top+1*m.offsetTop:d.offset(e[0]).top-d.css(e[0],"marginTop",!0)+1*m.offsetTop):r=1*m.offsetTop),m.offsetBottom&&(s=m.offsetParent&&m.offsetBottom.match(/^[-+]\d+$/)?k()-(d.offset(v[0]).top+d.height(v[0]))+1*m.offsetBottom+1:1*m.offsetBottom),m.inlineStyles&&(e.css("position",a),e.css("top",b))},l.init(),l}var f=angular.element(b.document.body),g=angular.element(b);return e}]}).directive("bsAffix",["$affix","$window","$timeout",function(a,b,c){return{restrict:"EAC",require:"^?bsAffixTarget",link:function(d,e,f,g){var h={scope:d,target:g?g.$element:angular.element(b)};angular.forEach(["offsetTop","offsetBottom","offsetParent","offsetUnpin","inlineStyles","setWidth"],function(a){if(angular.isDefined(f[a])){var b=f[a];/true/i.test(b)&&(b=!0),/false/i.test(b)&&(b=!1),h[a]=b}});var i;c(function(){i=a(e,h)}),d.$on("$destroy",function(){i&&i.destroy(),h=null,i=null})}}}]).directive("bsAffixTarget",function(){return{controller:["$element",function(a){this.$element=a}]}}),angular.module("mgcrea.ngStrap",["mgcrea.ngStrap.modal","mgcrea.ngStrap.aside","mgcrea.ngStrap.alert","mgcrea.ngStrap.button","mgcrea.ngStrap.select","mgcrea.ngStrap.datepicker","mgcrea.ngStrap.timepicker","mgcrea.ngStrap.navbar","mgcrea.ngStrap.tooltip","mgcrea.ngStrap.popover","mgcrea.ngStrap.dropdown","mgcrea.ngStrap.typeahead","mgcrea.ngStrap.scrollspy","mgcrea.ngStrap.affix","mgcrea.ngStrap.tab","mgcrea.ngStrap.collapse"])}(window,document),function(a,b,c){"use strict";angular.module("mgcrea.ngStrap.alert").run(["$templateCache",function(a){a.put("alert/alert.tpl.html",'<div class="alert" ng-class="[type ? \'alert-\' + type : null]"><button type="button" class="close" ng-if="dismissable" ng-click="$hide()">&times;</button> <span ng-if="title"><strong ng-bind="title"></strong>&nbsp;<span ng-bind-html="content"></span> </span><span ng-if="!title" ng-bind-html="content"></span></div>')}]),angular.module("mgcrea.ngStrap.aside").run(["$templateCache",function(a){a.put("aside/aside.tpl.html",'<div class="aside" tabindex="-1" role="dialog"><div class="aside-dialog"><div class="aside-content"><div class="aside-header" ng-show="title"><button type="button" class="close" ng-click="$hide()">&times;</button><h4 class="aside-title" ng-bind="title"></h4></div><div class="aside-body" ng-bind="content"></div><div class="aside-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>')}]),angular.module("mgcrea.ngStrap.datepicker").run(["$templateCache",function(a){a.put("datepicker/datepicker.tpl.html",'<div class="dropdown-menu datepicker" ng-class="\'datepicker-mode-\' + $mode" style="max-width: 320px"><table style="table-layout: fixed; height: 100%; width: 100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$selectPane(-1)"><i class="{{$iconLeft}}"></i></button></th><th colspan="{{ rows[0].length - 2 }}"><button tabindex="-1" type="button" class="btn btn-default btn-block text-strong" ng-click="$toggleMode()"><strong style="text-transform: capitalize" ng-bind="title"></strong></button></th><th><button tabindex="-1" type="button" class="btn btn-default pull-right" ng-click="$selectPane(+1)"><i class="{{$iconRight}}"></i></button></th></tr><tr ng-if="showLabels" ng-bind-html="labels"></tr></thead><tbody><tr ng-repeat="(i, row) in rows" height="{{ 100 / rows.length }}%"><td class="text-center" ng-repeat="(j, el) in row"><button tabindex="-1" type="button" class="btn btn-default" style="width: 100%" ng-class="{\'btn-primary\': el.selected, \'btn-info btn-today\': el.isToday && !el.selected}" ng-click="$select(el.date, el.disabled)" ng-disabled="el.disabled"><span ng-class="{\'text-muted\': el.muted}" ng-bind="el.label"></span></button></td></tr></tbody><tfoot><tr><td colspan="{{ rows[0].length }}"><div class="btn-group btn-group-justified" role="group"><div class="btn-group" role="group" ng-if="$hasToday"><button type="button" class="btn btn-default today" ng-click="$setToday()" ng-disabled="isTodayDisabled"><strong style="text-transform: capitalize">Today</strong></button></div><div class="btn-group" role="group" ng-if="$hasClear"><button type="button" class="btn btn-default clear" ng-click="$clear()"><strong style="text-transform: capitalize">Clear</strong></button></div></div></td></tr></tfoot></table></div>')}]),angular.module("mgcrea.ngStrap.dropdown").run(["$templateCache",function(a){a.put("dropdown/dropdown.tpl.html",'<ul tabindex="-1" class="dropdown-menu" role="menu" ng-show="content && content.length"><li role="presentation" ng-class="{divider: item.divider, active: item.active}" ng-repeat="item in content"><a role="menuitem" tabindex="-1" ng-href="{{item.href}}" ng-if="!item.divider && item.href" target="{{item.target || \'\'}}" ng-bind="item.text"></a> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-if="!item.divider && item.click" ng-click="$eval(item.click);$hide()" ng-bind="item.text"></a></li></ul>')}]),angular.module("mgcrea.ngStrap.modal").run(["$templateCache",function(a){a.put("modal/modal.tpl.html",'<div class="modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-header" ng-show="title"><button type="button" class="close" aria-label="Close" ng-click="$hide()"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" ng-bind="title"></h4></div><div class="modal-body" ng-bind="content"></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>')}]),angular.module("mgcrea.ngStrap.popover").run(["$templateCache",function(a){a.put("popover/popover.tpl.html",'<div class="popover" tabindex="-1"><div class="arrow"></div><h3 class="popover-title" ng-bind="title" ng-show="title"></h3><div class="popover-content" ng-bind="content"></div></div>')}]),angular.module("mgcrea.ngStrap.select").run(["$templateCache",function(a){a.put("select/select.tpl.html",'<ul tabindex="-1" class="select dropdown-menu" ng-show="$isVisible()" role="select"><li ng-if="$showAllNoneButtons"><div class="btn-group" style="margin-bottom: 5px; margin-left: 5px"><button type="button" class="btn btn-default btn-xs" ng-click="$selectAll()">{{$allText}}</button> <button type="button" class="btn btn-default btn-xs" ng-click="$selectNone()">{{$noneText}}</button></div></li><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $isActive($index)}"><a role="menuitem" tabindex="-1" ng-click="$select($index, $event)"><i class="{{$iconCheckmark}} pull-right" ng-if="$isMultiple && $isActive($index)"></i> <span ng-bind="match.label"></span></a></li></ul>')}]),angular.module("mgcrea.ngStrap.tab").run(["$templateCache",function(a){a.put("tab/tab.tpl.html",'<ul class="nav" ng-class="$navClass" role="tablist"><li role="presentation" ng-repeat="$pane in $panes track by $index" ng-class="[ $isActive($pane, $index) ? $activeClass : \'\', $pane.disabled ? \'disabled\' : \'\' ]"><a role="tab" data-toggle="tab" ng-click="!$pane.disabled && $setActive($pane.name || $index)" data-index="{{ $index }}" ng-bind-html="$pane.title" aria-controls="$pane.title" href=""></a></li></ul><div ng-transclude class="tab-content"></div>')}]),angular.module("mgcrea.ngStrap.timepicker").run(["$templateCache",function(a){
a.put("timepicker/timepicker.tpl.html",'<div class="dropdown-menu timepicker" style="min-width: 0px;width: auto"><table height="100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 0)"><i class="{{ $iconUp }}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 1)"><i class="{{ $iconUp }}"></i></button></th><th ng-if="showSeconds">&nbsp;</th><th ng-if="showSeconds"><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 2)"><i class="{{ $iconUp }}"></i></button></th></tr></thead><tbody><tr ng-repeat="(i, row) in rows"><td class="text-center"><button tabindex="-1" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[0].selected}" ng-click="$select(row[0].date, 0)" ng-disabled="row[0].disabled"><span ng-class="{\'text-muted\': row[0].muted}" ng-bind="row[0].label"></span></button></td><td><span ng-bind="i == midIndex ? timeSeparator : \' \'"></span></td><td class="text-center"><button tabindex="-1" ng-if="row[1].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[1].selected}" ng-click="$select(row[1].date, 1)" ng-disabled="row[1].disabled"><span ng-class="{\'text-muted\': row[1].muted}" ng-bind="row[1].label"></span></button></td><td ng-if="showSeconds"><span ng-bind="i == midIndex ? timeSeparator : \' \'"></span></td><td ng-if="showSeconds" class="text-center"><button tabindex="-1" ng-if="row[2].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[2].selected}" ng-click="$select(row[2].date, 2)" ng-disabled="row[2].disabled"><span ng-class="{\'text-muted\': row[2].muted}" ng-bind="row[2].label"></span></button></td><td ng-if="showAM">&nbsp;</td><td ng-if="showAM"><button tabindex="-1" ng-show="i == midIndex - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !!isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">AM</button> <button tabindex="-1" ng-show="i == midIndex + 1 - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">PM</button></td></tr></tbody><tfoot><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 0)"><i class="{{ $iconDown }}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 1)"><i class="{{ $iconDown }}"></i></button></th><th ng-if="showSeconds">&nbsp;</th><th ng-if="showSeconds"><button ng-if="showSeconds" tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 2)"><i class="{{ $iconDown }}"></i></button></th></tr></tfoot></table></div>')}]),angular.module("mgcrea.ngStrap.tooltip").run(["$templateCache",function(a){a.put("tooltip/tooltip.tpl.html",'<div class="tooltip in" ng-show="title"><div class="tooltip-arrow"></div><div class="tooltip-inner" ng-bind="title"></div></div>')}]),angular.module("mgcrea.ngStrap.typeahead").run(["$templateCache",function(a){a.put("typeahead/typeahead.tpl.html",'<ul tabindex="-1" class="typeahead dropdown-menu" ng-show="$isVisible()" role="select"><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $index == $activeIndex}"><a role="menuitem" tabindex="-1" ng-click="$select($index, $event)" ng-bind="match.label"></a></li></ul>')}])}(window,document),function(a,b){"function"==typeof define&&define.amd?define(["angular-schema-form"],b):"object"==typeof exports?module.exports=b(require("angular-schema-form")):a.angularSchemaFormDynamicSelect=b(a.schemaForm)}(this,function(a){angular.module("schemaForm").run(["$templateCache",function(a){a.put("directives/decorators/bootstrap/strap/strapmultiselect.html",'<div ng-controller="dynamicSelectController" class="form-group {{form.htmlClass}}"\n     ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess()}">\n    <label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label>\n\n    <div class="form-group {{form.fieldHtmlClass}}" ng-init="populateTitleMap(form)">\n        <button type="button" class="btn btn-default" sf-changed="form" schema-validate="form" ng-model="$$value$$"\n                data-placeholder="{{form.placeholder || form.schema.placeholder || (\'placeholders.select\')}}"\n                data-html="1"\n                data-multiple="1"  data-multiple="1" data-max-length="{{form.options.inlineMaxLength}}"\n                data-max-length-html="{{form.options.inlineMaxLengthHtml}}"\n                bs-options="item.value as item.name for item in form.titleMap | selectFilter:this:$$value$$:&quot;$$value$$&quot;"\n                bs-select>\n        </button>\n        <span class="help-block">{{ (hasError() && errorMessage(schemaError())) || form.description}}</span>\n    </div>\n</div>\n'),a.put("directives/decorators/bootstrap/strap/strapselect.html",'<div ng-controller="dynamicSelectController" class="select-controller form-group {{form.htmlClass}}"\n     ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess()}">\n    <label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label>\n\n    <div class="form-group {{form.fieldHtmlClass}}" ng-init="populateTitleMap(form)">\n        <button ng-if="(form.options.multiple == \'true\') || (form.options.multiple == true)"\n                type="button" class="btn btn-default" sf-changed="form" schema-validate="form" ng-model="$$value$$"\n                data-placeholder="{{form.placeholder || form.schema.placeholder || (\'placeholders.select\')}}"\n                data-html="1" data-multiple="1" data-max-length="{{form.options.inlineMaxLength}}"\n                data-max-length-html="{{form.options.inlineMaxLengthHtml}}"\n                bs-options="item.value as item.name for item in form.titleMap | selectFilter:this:$$value$$:&quot;$$value$$&quot;"\n                bs-select>\n        </button>\n        <button ng-if="!((form.options.multiple == \'true\') || (form.options.multiple == true))"\n                type="button" class="btn btn-default" sf-changed="form" schema-validate="form" ng-model="$$value$$"\n                data-placeholder="{{form.placeholder || form.schema.placeholder || (\'placeholders.select\')}}"\n                data-html="1"\n                bs-options="item.value as item.name for item in form.titleMap | selectFilter:this:$$value$$:&quot;$$value$$&quot;"\n                bs-select>\n        </button>\n        <span class="help-block">{{ (hasError() && errorMessage(schemaError())) || form.description}} </span>\n    </div>\n</div>\n\n')}]),angular.module("schemaForm").run(["$templateCache",function(a){a.put("directives/decorators/bootstrap/uiselect/uiselect.html",'<div ng-controller="dynamicSelectController" class="form-group"\n     ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess(), \'has-feedback\': form.feedback !== false}"\n         ng-init="insideModel=$$value$$;">\n    <label class="control-label" ng-show="showTitle()">{{form.title}}</label>\n\n    <div class="form-group">\n        <ui-select ng-model="select_model.selected"\n                   ng-if="!(form.options.tagging||false)" theme="bootstrap" ng-disabled="form.disabled"\n                   on-select="$$value$$=$item.value" class="{{form.options.uiClass}}">\n            <ui-select-match\n                    placeholder="{{form.placeholder || form.schema.placeholder || (\'placeholders.select\' | translate)}}">\n                {{select_model.selected.name}}\n            </ui-select-match>\n            <ui-select-choices refresh="populateTitleMap(form, $select.search)"\n                               refresh-delay="form.options.refreshDelay" group-by="form.options.groupBy"\n                               repeat="item in form.titleMap | propsFilter: {name: $select.search, description: (form.options.searchDescriptions===true ? $select.search : \'NOTSEARCHINGFORTHIS\') }">\n                <div ng-bind-html="item.name | highlight: $select.search"></div>\n                <div ng-if="item.description">\n                    <span ng-bind-html="\'<small>\' + (\'\'+item.description | highlight: (form.options.searchDescriptions===true ? $select.search : \'NOTSEARCHINGFORTHIS\'))+ \'</small>\'"></span>\n                </div>\n            </ui-select-choices>\n        </ui-select>\n        <ui-select ng-controller="dynamicSelectController" ng-model="select_model.selected"\n                   ng-if="(form.options.tagging||false) && !(form.options.groupBy || false)"\n                   tagging="form.options.tagging||false" tagging-label="form.options.taggingLabel"\n                   tagging-tokens="form.options.taggingTokens"\n                   theme="bootstrap" ng-disabled="form.disabled" on-select="$$value$$=$item.value"\n                   class="{{form.options.uiClass}}">\n            <ui-select-match\n                    placeholder="{{form.placeholder || form.schema.placeholder || (\'placeholders.select\' | translate)}}">\n                {{select_model.selected.name}}&nbsp;\n                <small>{{(select_model.selected.isTag===true ? form.options.taggingLabel : \'\')}}</small>\n            </ui-select-match>\n            \x3c!--repeat code because tagging does not display properly under group by but is still useful --\x3e\n            <ui-select-choices refresh="populateTitleMap(form, $select.search))"\n                               refresh-delay="form.options.refreshDelay"\n                               repeat="item in form.titleMap | propsFilter: {name: $select.search, description: (form.options.searchDescription===true ? $select.search : \'NOTSEARCHINGFORTHIS\') }">\n                <div ng-if="item.isTag"\n                     ng-bind-html="\'<div>\' + (item.name   | highlight: $select.search) + \' \' + form.options.taggingLabel + \'</div><div class=&quot;divider&quot;></div>\'"></div>\n                <div ng-if="!item.isTag" ng-bind-html="item.name + item.isTag| highlight: $select.search"></div>\n                <div ng-if="item.description">\n                    <span ng-bind-html="\'<small>\' + (\'\'+item.description | highlight: (form.options.searchDescriptions===true ? $select.search : \'NOTSEARCHINGFORTHIS\')) + \'</small>\'"></span>\n                </div>\n            </ui-select-choices>\n        </ui-select>\n\n        \x3c!--repeat code because tagging does not display properly under group by but is still useful --\x3e\n\n        <ui-select ng-controller="dynamicSelectController" ng-model="select_model.selected"\n                   ng-if="(form.options.tagging||false) && (form.options.groupBy || false)"\n                   tagging="form.options.tagging||false" tagging-label="form.options.taggingLabel"\n                   tagging-tokens="form.options.taggingTokens"\n                   theme="bootstrap" ng-disabled="form.disabled" on-select="$$value$$=$item.value"\n                   class="{{form.options.uiClass}}">\n            <ui-select-match\n                    placeholder="{{form.placeholder || form.schema.placeholder || (\'placeholders.select\' | translate)}}">\n                {{select_model.selected.name}}&nbsp;\n                <small>{{(select_model.selected.isTag===true ? form.options.taggingLabel : \'\')}}</small>\n            </ui-select-match>\n            <ui-select-choices group-by="form.options.groupBy"\n                               refresh="populateTitleMap(form, $select.search)"\n                               refresh-delay="form.options.refreshDelay"\n                               repeat="item in form.titleMap | propsFilter: {name: $select.search, description: (form.options.searchDescription===true ? $select.search : \'NOTSEARCHINGFORTHIS\') }">\n                <div ng-if="item.isTag"\n                     ng-bind-html="\'<div>\' + (item.name  | highlight: $select.search) + \' \' + form.options.taggingLabel + \'</div><div class=&quot;divider&quot;></div>\'"></div>\n                <div ng-if="!item.isTag" ng-bind-html="item.name + item.isTag| highlight: $select.search"></div>\n                <div ng-if="item.description">\n                    <span ng-bind-html="\'<small>\' + (\'\'+item.description | highlight: (form.options.searchDescriptions===true ? $select.search : \'NOTSEARCHINGFORTHIS\')) + \'</small>\'"></span>\n                </div>\n            </ui-select-choices>\n        </ui-select>\n\n        <input type="hidden" toggle-single-model sf-changed="form" ng-model="insideModel" schema-validate="form"/>\n    <span ng-if="form.feedback !== false"\n          class="form-control-feedback"\n          ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }"></span>\n\n        <div class="help-block"\n             ng-show="(hasError() && errorMessage(schemaError())) || form.description"\n             ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div>\n    </div>\n</div>\n'),a.put("directives/decorators/bootstrap/uiselect/uiselectmultiple.html",'\n<div class="form-group" ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess(), \'has-feedback\': form.feedback !== false}"\n        ng-controller="dynamicSelectController" ng-init="$$value$$=$$value$$||[];uiMultiSelectInitInternalModel($$value$$)">\n  <label class="control-label" ng-show="showTitle()">{{form.title}}</label>\n  <div class="form-group">\n    <ui-select first-item-active="false" skip-focusser="true" remove-selected="true" limit="{{form.options.limit}}" multiple autofocus="true"  close-on-select="{{form.options.closeOnSelect}}" append-to-body="true" sortable-options="{{form.sortableOptions}}" ng-model="internalModel" theme="bootstrap"\n               on-select="$$value$$.push($item.value)" on-remove="$$value$$.splice($$value$$.indexOf($item.value), 1)"\n               class="{{form.options.uiClass}}">\n      <ui-select-match placeholder="{{form.placeholder || form.schema.placeholder || (\'placeholders.select\' | translate)}}">{{$item.name}}</ui-select-match>\n      <ui-select-choices first-item-active="false" skip-focusser="true" remove-selected="true" repeat="item in form.titleMap | propsFilter: {name: $select.search} | limitTo: form.options.limitTo"\n         refresh="populateTitleMap(form, $select.search)"\n         refresh-delay="form.options.refreshDelay"\n         group-by="form.options.groupBy">\n        <div ng-bind-html="item.name | highlight: $select.search"></div>\n      </ui-select-choices>\n    </ui-select>\n    <span ng-if="form.feedback !== false"\n      class="form-control-feedback"\n      ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }"></span>\n    <div class="help-block"\n      ng-show="(hasError() && errorMessage(schemaError())) || form.description"\n      ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div>\n  </div>\n</div>\n')}]),angular.module("schemaForm").config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(a,b,c){var d=function(b,d,e){if("string"===d.type&&"enum"in d){var f=a.stdFormObj(b,d,e);return f.key=e.path,f.type="strapselect",e.lookup[c.stringify(e.path)]=f,f}};a.defaults.string.unshift(d),b.addMapping("bootstrapDecorator","strapselect","directives/decorators/bootstrap/strap/strapselect.html"),b.addMapping("bootstrapDecorator","strapmultiselect","directives/decorators/bootstrap/strap/strapmultiselect.html"),b.addMapping("bootstrapDecorator","strapselectdynamic","directives/decorators/bootstrap/strap/strapselect.html"),b.addMapping("bootstrapDecorator","strapmultiselectdynamic","directives/decorators/bootstrap/strap/strapmultiselect.html"),b.addMapping("bootstrapDecorator","uiselect","directives/decorators/bootstrap/uiselect/uiselect.html"),b.addMapping("bootstrapDecorator","uiselectmultiple","directives/decorators/bootstrap/uiselect/uiselectmultiple.html")}]).directive("toggleSingleModel",function(){return{require:"ngModel",restrict:"A",scope:{},replace:!0,controller:["$scope",function(a){a.$parent.$watch("select_model.selected",function(){void 0!=a.$parent.select_model.selected&&(a.$parent.insideModel=a.$parent.select_model.selected.value,a.$parent.ngModel.$setViewValue(a.$parent.select_model.selected.value))})}]}}).directive("multipleOn",function(){return{link:function(a,b,c){a.$watch(function(){return b.attr("multiple-on")},function(a){if("true"==a){var c=angular.element(b).scope().$$childTail;c.$isMultiple=!0,c.options.multiple=!0,c.$select.$element.addClass("select-multiple")}else angular.element(b).scope().$$childTail.$isMultiple=!1})}}}).filter("whereMulti",function(){return function(a,b,c){var d=[];return angular.isArray(c)&&void 0!==a?c.forEach(function(c){for(var e=0;e<a.length;e++)if(c==a[e][b]){d.push(a[e]);break}}):d=a,d}}).filter("propsFilter",function(){return function(a,b){var c=[],d=0;return angular.isArray(a)?a.forEach(function(a){for(var e=!1,f=Object.keys(b),g=0;g<f.length;g++){var h=f[g];if(a.hasOwnProperty(h)){var i=b[h].toLowerCase();if(0===a[h].toString().toLowerCase().indexOf(i)||-1!==a[h].toString().toLowerCase().indexOf(" "+i)&&d<150){d++,e=!0;break}}}e&&c.push(a)}):c=a,c}}),angular.module("schemaForm").controller("dynamicSelectController",["$scope","$http","$timeout",function(a,b,c){a.form.options||(a.form.options={}),a.select_model={},console.log("Setting options."+a.form.options.toString()),a.form.options.scope=a,a.triggerTitleMap=function(){console.log("listener triggered"),a.form.titleMap.push({value:"345890u340598u3405u9",name:"34095u3p4ouij"}),c(function(){a.form.titleMap.pop()})},a.initFiltering=function(b){a.form.options.filterTriggers&&a.form.options.filterTriggers.forEach(function(b){a.$parent.$watch(b,a.triggerTitleMap)}),a.localModelType=Object.prototype.toString.call(b),a.filteringInitialized=!0},a.finalizeTitleMap=function(b,c,d){if(b.titleMap=[],d&&"map"in d&&d.map){var e=d.map.nameProperty.length-1,f=d.map.separatorValue?d.map.separatorValue:" - ";c.forEach(function(a){if(a.value=a[d.map.valueProperty],"string"!=typeof d.map.nameProperty){var c="";for(var g in d.map.nameProperty)c+=a[d.map.nameProperty[g]],g!=e&&(c+=f);a.name=c}else a.name=a[d.map.nameProperty];b.titleMap.push(a)})}else c.forEach(function(a){"text"in a&&(a.name=a.text)}),b.titleMap=c;a.insideModel&&void 0===a.select_model.selected&&(a.select_model.selected=a.find_in_titleMap(a.insideModel)),a.internalModel&&(console.log("Call uiMultiSelectInitInternalModel"),a.uiMultiSelectInitInternalModel(a.externalModel))},a.clone=function(b){if(null==b||"object"!=typeof b)return b;var c=b.constructor();for(var d in b)b[d]!=a&&b.hasOwnProperty(d)&&(c[d]=a.clone(b[d]));return c},a.getCallback=function(b){if("string"==typeof b){var c=a.$parent.evalExpr(b);if("function"==typeof c)return c;throw"A callback string must match name of a function in the parent scope"}if("function"==typeof b)return b;throw"A callback must either be a string matching the name of a function in the parent scope or a direct function reference"},a.getOptions=function(b,c){return b.httpPost&&b.httpPost.optionsCallback?(newOptionInstance=a.clone(b),a.getCallback(b.httpPost.optionsCallback)(newOptionInstance,c)):b.httpGet&&b.httpGet.optionsCallback?(newOptionInstance=a.clone(b),a.getCallback(b.httpGet.optionsCallback)(newOptionInstance,c)):b},a.test=function(a){a.titleMap.pop()},a.populateTitleMap=function(c,d){if(c.schema&&"enum"in c.schema)c.titleMap=[],c.schema.enum.forEach(function(a){c.titleMap.push({value:a,name:a})});else if(c.options)if(c.options.callback)c.titleMap=a.getCallback(c.options.callback)(c.options,d),a.finalizeTitleMap(c,c.titleMap,c.options),console.log("callback items: ",c.titleMap);else{if(c.options.asyncCallback)return a.getCallback(c.options.asyncCallback)(c.options,d).then(function(b){a.finalizeTitleMap(c,b.data,c.options),console.log("asyncCallback items",c.titleMap)},function(a,b){alert("Loading select items failed(Options: '"+String(c.options)+"\nError: "+b)});if(c.options.httpPost){var e=a.getOptions(c.options,d);return b.post(e.httpPost.url,e.httpPost.parameter).then(function(b){a.finalizeTitleMap(c,b.data,e),console.log("httpPost items",c.titleMap)},function(a,b){alert("Loading select items failed (URL: '"+String(e.httpPost.url)+"' Parameter: "+String(e.httpPost.parameter)+"\nError: "+b)})}if(c.options.httpGet){var e=a.getOptions(c.options,d);return b.get(e.httpGet.url,e.httpGet.parameter).then(function(b){a.finalizeTitleMap(c,b.data,e),console.log("httpGet items",c.titleMap)},function(a,b){alert("Loading select items failed (URL: '"+String(e.httpGet.url)+"\nError: "+b)})}}else console.log("dynamicSelectController.populateTitleMap(key:"+c.key+") : No options set, needed for dynamic selects")},a.find_in_titleMap=function(b){for(i=0;i<a.form.titleMap.length;i++)if(a.form.titleMap[i].value==b)return{value:a.form.titleMap[i].value,name:a.form.titleMap[i].name}},a.uiMultiSelectInitInternalModel=function(b){console.log("$scope.externalModel: Key: "+a.form.key.toString()+" Model: "+b.toString()),a.externalModel=b,a.internalModel=[],a.form.titleMap&&void 0!==b&&angular.isArray(b)&&b.forEach(function(b){a.internalModel.push(a.find_in_titleMap(b))})}}]),angular.module("schemaForm").filter("selectFilter",[function(a){return function(a,b,c,d){if(!angular.isDefined(a)||!angular.isDefined(b.form.options)||!angular.isDefined(b.form.options.filter)||""==b.form.options.filter)return a;console.log("----- In filtering for "+b.form.key+"("+b.form.title+"), model value: "+JSON.stringify(c)+"----"),console.log("Filter:"+b.form.options.filter),b.filteringInitialized||(console.log("Initialize filter"),b.initFiltering(c));var e=[];return angular.forEach(a,function(a){b.$eval(b.form.options.filter,{item:a})?e.push(a):c&&("[object Array]"==b.localModelType&&c.indexOf(a.value)>-1?c.splice(c.indexOf(a.value),1):c==a.value&&(console.log("Setting model of type "+b.localModelType+"to null."),c=null))}),"[object Array]"!=b.localModelType||c||(console.log("Resetting model of type "+b.localModelType+" to []."),b.$eval(d+"=[]")),console.log("----- Exiting filter for "+b.form.title+"-----"),e}}])});var underscore=angular.module("underscore",[]);underscore.factory("_",["$window",function(a){return a._}]),angular.module("WsClient",["ngWebSocket","ngCookies","underscore"]).provider("wsClient",function(){var a=this,b="wss://api-onset.scriptrapps.io/",c=null,d=null,e=null,f=null,g=null,h={},i=0,j={};this.setBaseUrl=function(a){b=a},this.setPublishChannel=function(a){c=a},this.setSubscribeChannel=function(a){console.log(a),d=a},this.getSubscribeChannel=function(){return d},this.setToken=function(a){e=a};var k=function(){f=b+(e?"/"+e:"")},l=function(a){return i+=1,i>1e4&&(i=0),i},m=function(a,b){return g+"-"+(b?b+"_"+a:a)},n=function(a,b){return b?b+"_"+a:a},o=function(a,b){return g+"-"+(b?b+"_"+a:a)};this.$get=["$websocket","$cookies","$q","$rootScope","_",function(b,e,i,p,q){e.get("token")&&this.setToken(e.get("token")),k();var r=b(f),s={},t=i.defer(),u=i.defer(),v=i.defer();r.onOpen(function(){w(d)}),r.onMessage(function(a){try{var b=JSON.parse(a.data);console.log("Received message data from websocket: ",b),"connected."==b.result&&(g=b.id,t&&t.resolve()),"failure"==b.status&&"429"==b.statusCode&&(0==$("body").find(".alert-transport").length&&$("body").append('<div class="alert alert-danger alert-dismissable alert-transport" style="position: absolute; z-index: 1000; top: 0; width: 600px; left: 30%; text-align: center">You have reached you requests rate limit. For more info check the <a href="https://www.scriptr.io/documentation#documentation-ratelimitingRateLimiting" target="blank">documentation.</a><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button></div>'),console.error("You have reached your requests rate limit. For more info check the documentation. https://www.scriptr.io/documentation#documentation-ratelimitingRateLimiting")),s.data=b,y(b),z(b)}catch(b){console.log("Error when parsing message received over socket",a,b)}}),r.onClose(function(a){console.log("Socket Closed",a),v.resolve(),console.log("Trying to reconnect closed socket."),r.reconnect()}),r.onError(function(a){console.log("Socket Error",a),u.resolve()});var w=function(a){if(a)if("string"==typeof a)r.send(JSON.stringify({method:"Subscribe",params:{channel:a}}));else if("Array"==a.constructor.name)for(var b=0;b<a.length;b++)r.send(JSON.stringify({method:"Subscribe",params:{channel:a[b]}}))},x=function(a){if(a)if("string"==typeof a)r.send(JSON.stringify({method:"Unsubscribe",params:{channel:a}}));else if("Array"==a.constructor.name)for(var b=0;b<a.length;b++)r.send(JSON.stringify({method:"Unscubscribe",params:{channel:a[b]}}))},y=function(a){var b=a.id;b&&h.hasOwnProperty(b)?(console.log("Execute registered call back for received socket message.",h[b]),p.$apply(h[b].cb.resolve(a.result)),delete h[b]):console.log("No callbacks registerd for received socket message.")},z=function(a){var b=a.id;if(b&&j.hasOwnProperty("subscribeToAll")){console.log("Execute registered call back for received socket message.",j.subscribeToAll);for(var c=j.subscribeToAll,d=0;d<c.length;d++)c[d].cb(a.result)}else if(b&&j.hasOwnProperty(b)){console.log("Execute registered call back for received socket message.",j[b]);for(var c=j[b],d=0;d<c.length;d++)c[d].cb(a.result)}else console.log("No subscribers registerd for received socket message.")};return{getMessage:function(){return s},getStatus:function(){return r.readyState},subscribe:function(a,b,c){if(d){var b={time:new Date,cb:b};c&&(b.id=c),j[a]?j[a].push(b):j[a]=[b]}},unsubscribe:function(a,b,c){if(!a)return void console.log("prefix is mandatory to unsubscribe.");if(console.log("---",j[a]),d)if(!a||b||c){var e={};b&&(e.cb=b),c&&(e.id=c),j[a]=q.difference(j[a],q.where(j[a],e))}else j[a]=[];console.log("+++",j[a])},publish:function(a,b,d){var e=c;if(d&&(e=d),e){var f=i.defer(),g=l(),j=m(g,b);return h[j]={time:new Date,cb:f},a.id=j,console.log("Sending publish message",a),r.send({method:"Publish",params:{channel:e,message:JSON.stringify(a)}}),f.promise}console.log("No channel is defined, message won't be sent.",a)},call:function(a,b,c){var d=i.defer(),e={method:a,params:{body:JSON.stringify(b)}},f=l(),g=o(f,c);return h[g]={time:new Date,cb:d},e.id=n(f,c),console.log("Sending call api request over socket.",e),r.send(e),d.promise},updateSubscriptionChannel:function(b){x(a.getSubscribeChannel()),a.setSubscribeChannel(b),w(b)},updatePublishingChannel:function(b){a.setPublishChannel(b)},closeSocket:function(a){a?r.close(a):r.close(!1)},onReady:t.promise,onError:u.promise,onClose:v.promise}}]}),angular.module("HttpClient",["ngCookies"]).provider("httpClient",function(){var a="",b=null,c="";this.setBaseUrl=function(b){a=b,console.log(a)},this.setToken=function(a){b=a,console.log(b)};var d=function(b){c=a+"/"+b,console.log(c)};this.$get=["$cookies","$q","$http",function(a,e,f){a.get("token")&&(b=a.get("token"));var g=function(a,b,c){return a&&a[b]||(a||(a={}),a[b]=c),a},h=function(a,h){var i=e.defer();return d(a),h.url=c,b&&(h.headers=g(h.headers,"Authorization","Bearer "+b)),f(h).then(function(a){if(a.data&&a.data.response){var b=a.data.response;"200"==b.metadata.statusCode&&"success"==b.metadata.status?b.result&&b.result.metadata?"200"==b.result.statusCode&&"success"==b.result.status?i.resolve(b.result.result,a):i.reject(b.result.metadata,a):i.resolve(b.result,a):i.reject(b.metadata,a)}},function(a){console.log("ERROR",a),"429"==a.status&&(0==$("body").find(".alert-transport").length&&$("body").append('<div class="alert alert-danger alert-dismissable alert-transport" style="position: absolute; z-index: 1000; top: 0; width: 600px; left: 30%; text-align: center">You have reached you requests rate limit. For more info check the <a href="https://www.scriptr.io/documentation#documentation-ratelimitingRateLimiting" target="blank">documentation.</a><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button></div>'),console.error("You have reached your requests rate limit. For more info check the documentation. https://www.scriptr.io/documentation#documentation-ratelimitingRateLimiting")),i.reject(a)}),i.promise};return{get:function(a,b){var c={method:"GET"};return c.params=b,h(a,c)},post:function(a,b,c,d){var e={method:"POST"};return e.data=b,c&&(e.headers=c),c&&c["Content-Type"]||(e.headers=g(e.headers,"Content-Type","application/json")),d&&(e.headers["Content-Type"]=void 0,e.transformRequest=angular.identity),h(a,e)}}}]});var cachedTemplates=["$templateCache",function(a){"use strict";a.put("/UIComponents/dashboard/frontend/components/ACL/ACL.html",'<div class=acl-wrapper ng-click="$ctrl.showAccessControlList = true"><span class=acl-btn ng-class="($ctrl.users.length == 1 && $ctrl.users[0].code == \'anonymous\') ? \'unlocked\' : \'locked\'"><a ng-click=$ctrl.openModal() href=javascript:void(0); uib-tooltip={{$ctrl.accessType}} tooltip-placement=right><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAARCAYAAADZsVyDAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkExOUI1NTNCNDc3MzExRTY4OEY2ODFFOTcxN0Q4QkIxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkExOUI1NTNDNDc3MzExRTY4OEY2ODFFOTcxN0Q4QkIxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTE5QjU1Mzk0NzczMTFFNjg4RjY4MUU5NzE3RDhCQjEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTE5QjU1M0E0NzczMTFFNjg4RjY4MUU5NzE3RDhCQjEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6vZpebAAAB2UlEQVR42rSUv0sCYRjH37vu0BNNdG2Qk1ocEk53F1tapdnlqECac2hIbkloFOL8F8IlwqUmQZwOsUHBIZMWRSQHFVTyeh55kzc9Ray+8OX96eee93mfVy6TyRBQCOwh2+kDbCQSiR+TAlgHn5LfKQs+Yyf4P4ASKwZP/kkCbQ2aq23koXdkCU6Cn7cER8FPq8CoS7rpiG6MbgBN1uv1fbfbTVRVXQm+Z6JOriu/Vqt1gK3L5bIPBgMVTNLp9LmmaYN+v/+IaRUscmWsq2v4obfdbl9Mp1NpPB7P51Op1N1wOCROp/MN9sgsGGF+2vdbXQjKbreL4E+EdLvd+TyOUYFAwBeLxXaEhSInTCqWVC6X8RQnDofjcBZJKGTG43ETIuR1XTebzSbX6/VIPp+/EhaK3E+hN1YRy7LsbTQaynd0kUiEwEeIJEkkHA7PwHCZ6GsWbDD9V6u6Nk1zz2az7UJ+fZPJRAQQHn221ul0OGzxIzzPGwKTX4MCo7RdfgkejwF+qFartzAM5nI5DoAIJbVabQZWFOWlWCyGBeboGwnTMBqN5uNCocCx66VSScYYODjexk+MeQT4j0hEUXyHlGjYDwaDWqVSOaZFkN0WTJiy1Gn/iF34EmAAsBK5Pr0LIbQAAAAASUVORK5CYII=" alt=restrictions> <i class="fa fa-lock acl-icon-locked red"></i> <i class="fa fa-unlock-alt acl-icon acl-icon-unlocked light-green"></i></a></span></div>'),
a.put("/UIComponents/dashboard/frontend/components/ACL/myModalContent.html",'<div class=acl-controls><div class=modal-header><h3 class=modal-title>Access Control List</h3></div><div class=modal-body><div ng-if=$ctrl.show uib-alert ng-class="\'alert-\' + ( $ctrl.message.type || \'warning\')  + \' m10\'" close=$ctrl.closeAlert() dismiss-on-timeout=5000>{{$ctrl.message.content}}</div><h5 class=text-info>List of groups and devices allowed to run the script <a href=javascript:void(0); class=text-primary uib-popover-html=$ctrl.popoverContent popover-placement=right><i class="fa fa-question-circle"></i></a></h5><div ng-show=$ctrl.showMsg class="col-xs-12 center-div alert fadeIn animated alert-info"><div class="col-xs-9 pdl0"><div class="mt8 ml10"><span>Access permission to the "anonymous" predefined group allows anyone to serve the file. Adding it to your access control list will automatically remove any other groups or devices. Are you sure you want to continue?</span></div></div><div class="col-xs-3 pdr0 text-right"><button ng-click=$ctrl.removeAnonymousAccess() type=button class="btn btn-default btn-sm mr5">No</button> <button ng-click=$ctrl.addAnonymousAccess() type=button class="btn btn-primary btn-sm">Yes</button></div></div><scriptr-autocomplete id=devicesList placeholder="Select a user/group" pause=400 hide-list=false search-fields=code default-set-object=$ctrl.defaultSetObject selected-object=$ctrl.onSelect title-field=code objects=$ctrl.users clear-selected=true description-field=description image-field=pic list-selected-object=true minlength=0 text-no-results="No results" text-searching=Searching... transport=https on-format-data=$ctrl.callback api=UIComponents/dashboard/frontend/examples/list/getDevices input-class="form-control form-control-small"></scriptr-autocomplete><div class=clearfix></div><div class="italic text-muted fnt12 mt10"><i class="fa fa-info-circle" aria-hidden=true></i><span id=permissionsNote> Note that removing scriptr device from the access control list will prevent you from serving the file from the IDE.</span></div></div><div class=modal-footer><button type=button class="btn btn-default" ng-click=$ctrl.onCancel()>Close</button> <button type=button class="btn btn-warning" ng-click=$ctrl.updateFileACL()>Save changes</button></div></div>'),a.put("/UIComponents/dashboard/frontend/components/chart/chart.html",'<div class="text-center loading" ng-hide=$ctrl.datas><i class="fa fa-spinner fa-spin fa-3x"></i></div><div ng-show=$ctrl.noResults class="alert alert-danger m10">No data to display</div><div ng-if=$ctrl.datas><div ng-if="$ctrl.type == \'line\'" style="height: 100%; width: 100%" line-data=$ctrl.datas line-xkey={{$ctrl.xkey}} line-ykeys=$ctrl.ykeys line-labels=$ctrl.labels line-colors=$ctrl.colors line-line-width=$ctrl.lineWidth line-point-size=$ctrl.pointSize line-point-fill-colors=$ctrl.pointFillColors line-point-stroke-colors=$ctrl.pointStrokeColors line-ymax=$ctrl.ymax line-ymin=$ctrl.ymin line-smooth=$ctrl.smooth line-hide-hover=$ctrl.hideHover line-hover-callback="$ctrl.hoverCallback(index, options, content, row)" line-parse-time=$ctrl.parseTime line-units=$ctrl.units line-post-units=$ctrl.postUnits line-pre-units=$ctrl.preUnits line-line-date-format=$ctrl.dateFormat(x) line-x-labels=$ctrl.xlabels line-x-label-format=$ctrl.xlabelFormat(x) line-x-label-angle=$ctrl.xlabelAngle line-y-label-format=$ctrl.ylabelFormat(y) line-goals=$ctrl.goals line-goal-stroke-width=$ctrl.goalStrokeWidth line-goal-line-colors=$ctrl.goalLineColors line-events=$ctrl.events line-event-stroke-width=$ctrl.eventStrokeWidth line-event-line-colors=$ctrl.eventLineColors line-continuous-line=$ctrl.continuousLine line-axes=$ctrl.axes line-grid=$ctrl.grid line-grid-text-color=$ctrl.gridTextColor line-grid-text-size=$ctrl.gridTextSize , line-grid-text-family=$ctrl.gridTextFamily line-grid-text-weight=$ctrl.gridTextWeight line-fill-opacity=$ctrl.fillOpacity line-resize=$ctrl.resize line-chart></div><div ng-if="$ctrl.type == \'bar\'" style="height: 100%; width: 100%" bar-data=$ctrl.datas bar-x={{$ctrl.xkey}} bar-y=$ctrl.ykeys bar-labels=$ctrl.labels bar-colors=$ctrl.colors bar-resize=$ctrl.resize bar-stacked=$ctrl.stacked bar-hide-hover=$ctrl.hideHover bar-hover-callback="$ctrl.hoverCallback(index, options, content, row)" bar-grid=$ctrl.grid bar-grid-text-color=$ctrl.gridTextColor bar-grid-text-size=$ctrl.gridTextSize , bar-grid-text-family=$ctrl.gridTextFamily bar-grid-text-weight=$ctrl.gridTextWeight bar-axes=$ctrl.axes bar-ymax=$ctrl.ymax bar-ymin=$ctrl.ymin bar-goals=$ctrl.goals bar-goal-stroke-width=$ctrl.goalStrokeWidth bar-goal-line-colors=$ctrl.goalLineColors bar-x-label-angle=$ctrl.xlabelAngle bar-y-label-format=$ctrl.ylabelFormat(y) bar-parse-time=$ctrl.parseTime bar-events=$ctrl.events bar-event-stroke-width=$ctrl.eventStrokeWidth bar-event-line-colors=$ctrl.eventLineColors bar-post-units=$ctrl.postUnits bar-pre-units=$ctrl.preUnits bar-chart></div><div ng-if="$ctrl.type == \'area\'" style="height: 100%; width: 100%" area-chart line-colors=$ctrl.colors area-data=$ctrl.datas area-xkey={{$ctrl.xkey}} area-ykeys=$ctrl.ykeys area-labels=$ctrl.labels area-line-width=$ctrl.lineWidth area-point-size=$ctrl.pointSize area-point-fill-colors=$ctrl.pointFillColors area-point-stroke-colors=$ctrl.pointStrokeColors area-ymax=$ctrl.ymax area-ymin=$ctrl.ymin area-smooth=$ctrl.smooth area-hide-hover=$ctrl.hideHover area-hover-callback="$ctrl.hoverCallback(index, options, content, row)" area-parse-time=$ctrl.parseTime area-units=$ctrl.units area-post-units=$ctrl.postUnits area-pre-units=$ctrl.preUnits area-area-date-format=$ctrl.dateFormat(x) area-x-labels=$ctrl.xlabels area-x-label-format=$ctrl.xlabelFormat(x) area-x-label-angle=$ctrl.xlabelAngle area-y-label-format=$ctrl.ylabelFormat(y) area-goals=$ctrl.goals area-goal-stroke-width=$ctrl.goalStrokeWidth area-goal-line-colors=$ctrl.goalLineColors area-events=$ctrl.events area-event-stroke-width=$ctrl.eventStrokeWidth area-event-line-colors=$ctrl.eventLineColors area-continuous-line=$ctrl.continuousLine area-axes=$ctrl.axes area-grid=$ctrl.grid area-grid-text-color=$ctrl.gridTextColor area-grid-text-size=$ctrl.gridTextSize , area-grid-text-family=$ctrl.gridTextFamily area-grid-text-weight=$ctrl.gridTextWeight area-fill-opacity=$ctrl.fillOpacity area-resize=$ctrl.resize area-behave-like-line=$ctrl.behaveLikeLine></div><div ng-if="$ctrl.type == \'donut\'" style="height: 100%; width: 100%" donut-data=$ctrl.datas donut-label-color=$ctrl.labelColor donut-background-color=$ctrl.backgroundColor donut-colors=$ctrl.colors donut-formatter=$ctrl.donutFormatter(y,data) donut-resize=$ctrl.resize donut-chart></div></div>'),a.put("/UIComponents/dashboard/frontend/components/gauge/gauge.html",'<div style="width: {{$ctrl.width}}%; height: {{$ctrl.height}}{{$ctrl.heightUnit}}" class=gauge><div value={{$ctrl.gaugeValue}} value-font-color={{$ctrl.valueFontColor}} min={{$ctrl.min}} max={{$ctrl.max}} hide-min-max={{$ctrl.hideMinMax}} hide-value={{$ctrl.hideValue}} show-inner-shadow={{$ctrl.showInnerShadow}} gauge-color={{$ctrl.gaugeColor}} shadow-opacity={{$ctrl.shadowOpacity}} shadow-size={{$ctrl.shadowSize}} custom-sectors={{$ctrl.customSectors}} label={{$ctrl.label}} label-font-color={{$ctrl.labelFontColor}} start-animation-type={{$ctrl.startAnimationType}} refresh-animation-type={{$ctrl.refreshAnimationType}} counter={{$ctrl.counter}} value-font-family={{$ctrl.valueFontFamily}} relative-gauge-size={{$ctrl.relativeGaugeSize}} value-min-font-size={{$ctrl.valueMinFontSize}} label-min-font-size={{$ctrl.labelMinFontSize}} min-label-min-font-size={{$ctrl.minLabelMinFontSize}} max-label-min-font-size={{$ctrl.maxLabelMinFontSize}} gauge-width-scale={{$ctrl.gaugeWidthScale}} shadow-vertical-offset={{$ctrl.shadowVerticalOffset}} level-colors={{$ctrl.levelColors}} no-gradient={{$ctrl.noGradient}} start-animation-time={{$ctrl.startAnimationTime}} refresh-animation-time={{$ctrl.refreshAnimationTime}} donut={{$ctrl.donut}} donut-start-angle={{$ctrl.donutStartAngle}} reverse={{$ctrl.reverse}} decimals={{$ctrl.decimals}} symbol={{$ctrl.symbol}} format-number={{$ctrl.formatNumber}} human-friendly={{$ctrl.humanFriendly}} human-friendly-decimal={{$ctrl.humanFriendlyDecimal}} on-animation-end={{$ctrl.onAnimationEnd}} pointer={{$ctrl.pointer}} justgage></div></div>'),a.put("/UIComponents/dashboard/frontend/components/grid/grid.html",'<div class=filter-bar><div class={{$ctrl.class}}><form><div ng-show="$ctrl.enableClientSideFilter && $ctrl.mode == \'normal\'" class="form-group col-xs-12 col-sm-4 pdr0"><div class=form-group><input class=form-control ng-change=$ctrl.onFilterChanged() ng-model=$ctrl.quickFilterValue placeholder="Client filter"></div></div><div ng-show="$ctrl.enableServerSideFilter && $ctrl.mode == \'infinite\'" class="form-group col-xs-12 col-sm-4 pdr0"><div class=form-group><input class=form-control ng-change=$ctrl.onServerFilterChanged() ng-model=$ctrl.serverFilterText placeholder="Server filter"></div></div><div class="col-xs-12 col-sm-4 pull-right text-right"><button ng-hide={{$ctrl.enableDeleteRow}} ng-click=$ctrl.openConfirmationPopUp() class="btn btn-default mt4" tooltip-placement=left uib-tooltip="Delete selected row"><i class="fa fa-close" aria-hidden=true></i></button> <button ng-hide={{$ctrl.enableAddRow}} ng-click=$ctrl.onAddRow() class="btn btn-warning mt4" tooltip-placement=bottom uib-tooltip="Insert row"><i class="fa fa-plus" aria-hidden=true></i></button></div></form></div></div><div class=col-xs-12 ng-show=$ctrl.showError><div class=alert ng-class="\'alert-\' + ( $ctrl.message.type || \'warning\')">{{$ctrl.message.content}}</div></div><div class=clearfix></div><div class="col-xs-12 onset-grid-wrapper"><div ag-grid=$ctrl.gridOptions class=ag-bootstrap ng-style=$ctrl.style></div></div>'),a.put("/UIComponents/dashboard/frontend/components/grid/popup.html",'<div class=modal-header><h3 class=modal-title>Delete</h3></div><div class=modal-body>Are you sure you want to delete the selected row(s)?</div><div class=modal-footer><button class="btn btn-warning" type=button ng-click=$ctrl.onCancel()>No</button> <button class="btn btn-warning" type=button ng-click=$ctrl.onSubmit()>Yes</button></div>'),a.put("/UIComponents/dashboard/frontend/components/list/autocomplete.html",'<div><span ng-show=$ctrl.showList ng-hide=$ctrl.hideObjects class=script-wrap ng-if=$ctrl.listSelectedObject ng-repeat="obj in $ctrl.objects track by $index"><span style="position: relative"><span class=script-text uib-tooltip={{obj[$ctrl.titleField]}} tooltip-placement=bottom><i class="mr5 text-primary {{obj.icon}}"></i> {{obj[$ctrl.titleField]}}</span> <a ng-if="obj[$ctrl.titleField] != \'nobody\'" href=javascript:void(0); ng-click=$ctrl.addObjectToList(obj) uib-tooltip=Remove tooltip-placement=right><i class="fa fa-close"></i></a></span></span><div class=clearfix></div><div class="text-center loading" ng-show=!$ctrl.showList><i class="fa fa-spinner fa-spin fa-3x"></i></div><angucomplete-alt ng-show=$ctrl.showList id={{$ctrl.id}} placeholder={{$ctrl.placeholder}} default-set-object=$ctrl.defaultSetObject pause={{$ctrl.pause}} hide-objects=$ctrl.hideObjects list-selected-object=$ctrl.listSelectedObject objects=$ctrl.objects selected-object=$ctrl.selectedObject local-data=$ctrl.localData image-field={{$ctrl.imageField}} search-fields={{$ctrl.searchFields}} title-field={{$ctrl.titleField}} description-field={{$ctrl.descriptionField}} image-field={{$ctrl.imageField}} minlength={{$ctrl.minlength}} input-class={{$ctrl.inputClass}} match-class={{$ctrl.matchClass}} maxlength={{$ctrl.maxlength}} selected-object-data=$ctrl.selectedObjectData input-name={{$ctrl.inputName}} clear-selected={{$ctrl.clearSelected}} override-suggestions={{$ctrl.overrideSuggestions}} field-required=$ctrl.fieldRequired field-required-class={{$ctrl.fieldRequiredClass}} initial-value=$ctrl.initialValue input-changed=$ctrl.inputChanged auto-match=$ctrl.autoMatch focus-in=$ctrl.focusIn focus-out=$ctrl.focusOut disable-input=$ctrl.disableInput focus-first=$ctrl.focusFirst field-tabindex={{$ctrl.fieldTabindex}} text-searching={{$ctrl.textSearching}} text-no-results={{$ctrl.textNoResults}}></div>'),a.put("/UIComponents/dashboard/frontend/components/thermometer/thermometer.html","<div ng-style=$ctrl.style><tg-thermometer-vertical value={{$ctrl.value}} unit={{$ctrl.unit}} percent={{$ctrl.percent}} sectors=$ctrl.sectors ticks=$ctrl.ticks height={{$ctrl.height}} mercury-color=$ctrl.mercuryColor></tg-thermometer-vertical></div>"),a.put("/UIComponents/dashboard/frontend/components/thermometer/tg_thermometer_vertical.html",'<div style="height: calc(100% - 30px)" class=tg-thermometer><div class=draw-a></div><div class=draw-b><div style="width: 6px;position: absolute;\n            left: 0;\n            right: 0;\n            width: 10px;\n            top: 0;\n            margin: auto;\n            height: 20px;\n            border-radius: 10px 10px 0 0;background-color: {{mercuryColor}}"></div><div style="width: 14px;height: 14px; position: absolute;\n            left: 0;\n            right: 0;\n            top: 0;\n            bottom: 0;\n            margin: auto;\n            width: 24px;\n            height: 24px;\n            border-radius: 50%; background-color: {{mercuryColor}}"></div></div><div class=meter><div class=statistics><div class=percent style="bottom: calc({{val.percent}}% - 2px)" ng-repeat="val in ticks track by $index">{{val.tick}}{{unit}}</div></div><div style="height: {{percent}}%; background-color: {{mercuryColor}}" class=mercury><div class=percent-current>{{value}}{{unit}}</div><div class=mask><div class=bg-color style="height: calc({{height}}% - 57px); background: {{mercuryColor}}"></div></div></div></div></div>'),a.put("/UIComponents/dashboard/frontend/components/odometer/odometer.html","<div ng-style=$ctrl.style><span odometer=$ctrl.odometerValue odometer-options=$ctrl.odometerOptions></span></div>"),a.put("/UIComponents/dashboard/frontend/components/searchBox/searchBox.html",'<div class=row><div class="col-xs-12 side-search"><i class="fa fa-search" aria-hidden=true></i> <input class="form-control input-sm" ng-keyup=$ctrl.onFilterChanged() ng-model=$ctrl.searchValue placeholder={{$ctrl.searchText}}></div></div><div class=row><div class=model-title>Data streams</div><div ng-show="!$ctrl.searching && !$ctrl.noResults"><abn-tree tree-data=$ctrl.treeData tree-control=$ctrl.treeControl icon-leaf={{$ctrl.iconLeaf}} icon-expand={{$ctrl.iconExpand}} icon-collapse={{$ctrl.iconCollapse}} on-select=$ctrl.onSelect(branch) expand-level=$ctrl.expandLevel initial-selection=$ctrl.initialSelection children-tag=sensors label-tag=$ctrl.labelTag></abn-tree></div><div ng-show=$ctrl.noResults class="col-xs-12 alert mb0"><span class="alert col-xs-12 alert-danger mb0">No Streams found</span></div><div class="text-center loading" ng-show=$ctrl.searching><i class="fa fa-spinner fa-spin fa-2x"></i></div><div class=model-title>Calculated Channels</div><div class="col-xs-12 mt10 fnt13"><a href=""><i class="fa fa-plus-circle" aria-hidden=true></i> Add new calculated channels</a></div></div>'),a.put("/UIComponents/dashboard/frontend/components/speedometer/speedometer.html","<div></div>"),a.put("/UIComponents/dashboard/frontend/components/message/message.html","<ng-display-box ng-model=$ctrl.data type={{$ctrl.type}}></ng-display-box>"),a.put("/UIComponents/dashboard/frontend/components/dygraphs/dygraphs.html",'<div class="text-center loading" ng-hide=$ctrl.datas><i class="fa fa-spinner fa-spin fa-3x"></i></div><div class=padder10><div ng-show=$ctrl.noResults class="alert alert-danger">No data to display</div></div><div ng-if=$ctrl.datas><ng-dygraphs data=$ctrl.datas options=$ctrl.options legend=$ctrl.legend></ng-dygraphs></div>'),a.put("/UIComponents/dashboard/frontend/components/displayCount/displayCount.html",'<div ng-style=$ctrl.style><div ng-if="$ctrl.widgetLayout == \'vertical\'" style="border: {{$ctrl.borderSize}}px solid {{$ctrl.borderColor}}"><div class=vertical-count-media style="background: {{$ctrl.numberBackgroundColor}}; font-size: {{$ctrl.numberFontSize}}px; font-weight: {{$ctrl.numberFontWeight}}; font-family:{{$ctrl.numberFontFamily}}; color: {{$ctrl.numberTextColor}}; text-align: {{$ctrl.numberTextAlignment}}">{{$ctrl.data}}</div><div class=vertical-count-media style="background: {{$ctrl.messageBackgroundColor}}; font-size: {{$ctrl.messageFontSize}}px; font-weight: {{$ctrl.messageFontWeight}}; font-family:{{$ctrl.messageFontFamily}};color: {{$ctrl.messageTextColor}}; text-align: {{$ctrl.messageTextAlignment}}">{{$ctrl.message}}</div></div><div ng-if="$ctrl.widgetLayout == \'horizontal\'" style="border: {{$ctrl.borderSize}}px solid {{$ctrl.borderColor}}"><div ng-if="$ctrl.numberCellSize == \'small\'" class="media horizontal-count-media"><div class="media-left media-middle pull-none col-xs-3" style="background: {{$ctrl.numberBackgroundColor}}; font-family:{{$ctrl.numberFontFamily}}; font-size: {{$ctrl.numberFontSize}}px; font-weight: {{$ctrl.numberFontWeight}}; color: {{$ctrl.numberTextColor}}; text-align: {{$ctrl.numberTextAlignment}}">{{$ctrl.data}}</div><div class="media-body media-middle" style="background: {{$ctrl.messageBackgroundColor}}"><span style="color: {{$ctrl.messageTextColor}}; font-size: {{$ctrl.messageFontSize}}px; font-weight: {{$ctrl.messageFontWeight}}; font-family:{{$ctrl.messageFontFamily}}; text-align: {{$ctrl.messageTextAlignment}}">{{$ctrl.message}}</span></div></div><div ng-if="$ctrl.numberCellSize == \'medium\'" class="media horizontal-count-media"><div class="media-left media-middle pull-none col-xs-6" style="background: {{$ctrl.numberBackgroundColor}}; font-family:{{$ctrl.numberFontFamily}}; font-size: {{$ctrl.numberFontSize}}px; font-weight: {{$ctrl.numberFontWeight}}; color: {{$ctrl.numberTextColor}}; text-align: {{$ctrl.numberTextAlignment}}">{{$ctrl.data}}</div><div class="media-body media-middle" style="background: {{$ctrl.messageBackgroundColor}}"><span style="color: {{$ctrl.messageTextColor}}; font-size: {{$ctrl.messageFontSize}}px; font-weight: {{$ctrl.messageFontWeight}}; font-family:{{$ctrl.messageFontFamily}}; text-align: {{$ctrl.messageTextAlignment}}">{{$ctrl.message}}</span></div></div><div ng-if="$ctrl.numberCellSize == \'large\'" class="media horizontal-count-media"><div class="media-left media-middle pull-none col-xs-10" style="background: {{$ctrl.numberBackgroundColor}}; font-family:{{$ctrl.numberFontFamily}}; font-size: {{$ctrl.numberFontSize}}px; font-weight: {{$ctrl.numberFontWeight}}; color: {{$ctrl.numberTextColor}}; text-align: {{$ctrl.numberTextAlignment}}">{{$ctrl.data}}</div><div class="media-body media-middle" style="background: {{$ctrl.messageBackgroundColor}}"><span style="color: {{$ctrl.messageTextColor}}; font-size: {{$ctrl.messageFontSize}}px; font-weight: {{$ctrl.messageFontWeight}}; font-family:{{$ctrl.messageFontFamily}}; text-align: {{$ctrl.messageTextAlignment}}">{{$ctrl.message}}</span></div></div><div ng-if="$ctrl.numberCellSize == \'\'" class="media horizontal-count-media"><div class="media-left media-middle pull-none" style="background: {{$ctrl.numberBackgroundColor}}; font-family:{{$ctrl.numberFontFamily}}; font-size: {{$ctrl.numberFontSize}}px; font-weight: {{$ctrl.numberFontWeight}}; color: {{$ctrl.numberTextColor}}; text-align: {{$ctrl.numberTextAlignment}}">{{$ctrl.data}}</div><div class="media-body media-middle" style="background: {{$ctrl.messageBackgroundColor}}"><span style="color: {{$ctrl.messageTextColor}}; font-size: {{$ctrl.messageFontSize}}px; font-weight: {{$ctrl.messageFontWeight}}; font-family:{{$ctrl.messageFontFamily}}; text-align: {{$ctrl.messageTextAlignment}}">{{$ctrl.message}}</span></div></div></div></div>'),a.put("/UIComponents/dashboard/frontend/components/plotly/plotly.html",'<div ng-style="$ctrl.style">\n    <angular-plotly\n                    plotly-data="$ctrl.data"\n                    plotly-options="$ctrl.options"\n                    plotly-layout="$ctrl.layout"\n    </angular-plotly>\n</div>'),a.put("layout/frontend/components/onsetmenu/menu.html",'<div class=navigation><ul ng-show="!$ctrl.webVersion || ($ctrl.webVersion && !$ctrl.menuOpened)"><li class=menu-logo><div class=logo-small><img src=//cdn.rawgit.com/scriptrdotio/onset-static-resources/930831d9/images/hobolink-logo-icon.png></div></li><li ng-repeat="item in $ctrl.menuArray track by $index" class=has-sub ng-class="(($ctrl.opened == true && $ctrl.firstLoad == false && $ctrl.webVersion == true) || ($ctrl.webVersion == false && $ctrl.opened == false)) ? \'close-hover\' : \'\'" ng-click=$ctrl.openCloseChild($event) ng-mouseleave=$ctrl.closeChild($event)><a ng-href="{{item.subChildren.length == 0 ? item.route : \'javascript: void(0);\'}}"><div class=menu-item-wrap><span class=menu-img-icon><img src={{item.icon}}></span></div></a><ul><li ng-repeat="subItem in item.subChildren"><a href={{subItem.route}}>{{subItem.title}}</a></li></ul></li></ul><ul ng-show="$ctrl.webVersion && $ctrl.menuOpened"><li class=menu-logo><div class=logo-large><img src=//cdn.rawgit.com/scriptrdotio/onset-static-resources/57001675/images/hobolink-logo-white.png></div><div class=logo-small><img src=//cdn.rawgit.com/scriptrdotio/onset-static-resources/930831d9/images/hobolink-logo-icon.png></div><div class=clearfix></div></li><li ng-repeat="item in $ctrl.menuArray track by $index"><a class=menu-item-wrap ng-click=$ctrl.changeIsCollapsed($index) ng-href="{{item.subChildren.length == 0 ? item.route : \'javascript: void(0);\'}}"><span class=menu-img-icon><img src={{item.icon}}> </span><span class=menu-text>{{item.title}}</span></a><div uib-collapse=isCollapsed{{$index}} class=desktop-sub><div ng-repeat="subItem in item.subChildren"><a href={{subItem.route}}>{{subItem.title}}</a></div></div><div class=clearfix></div></li></ul><div class=clearfix></div><div class=menu-bottom-section><div><a href=#/logout>Log out</a></div><div><a href="">Help</a></div><div>Hello! <span class=logged-in-as-user>{{$ctrl.user}}</span></div></div></div>'),a.put("/UIComponents/dashboardBuilder/javascript/components/box.html",'<div class=box-wrapper><div class=box><div class="box-header col-xs-12"><div class="box-label pull-left" uib-tooltip={{$ctrl.widget.options.boxLabel}}>{{$ctrl.widget.options.boxLabel}}</div><div class="box-header-btns pull-right"><a title="Configure this widget" ng-if=$ctrl.widget.form ng-click=$ctrl.openSettings($ctrl.widget) ng-show=$ctrl.isEdit><img src=//cdn.rawgit.com/scriptrdotio/onset-static-resources/2a8afcdb/images/blue-wrench.svg> </a><a title="Remove this widget" ng-click=$ctrl.remove($ctrl.widget) ng-show=$ctrl.isEdit><img src=//cdn.rawgit.com/scriptrdotio/onset-static-resources/2a8afcdb/images/blue-bin.svg class=bin-img></a></div></div><div class=clearfix></div><div class=box-content></div></div></div>'),a.put("/UIComponents/dashboardBuilder/javascript/components/dashboard.html",'<div>\n    \x3c!-- begin left side --\x3e\n    <div ng-show="$ctrl.isEdit" class="left-dashboard">\n        <div class="col-xs-12 devices-models-tree" id="stickDiv">\n            <scriptr-searchbox \n                               transport="wss"\n                               search-text="Search"\n                               load-tree = "$ctrl.loadTree"\n                               icon-expand = "{{$ctrl.iconExpand || \'fa expand-collapse fa-caret-right\'}} "\n                               icon-collapse = "{{$ctrl.iconCollapse || \'fa expand-collapse fa-caret-right\'}}"\n                               tree-search-criteria = "{{$ctrl.treeSearchCriteria}}"\n                               api=\'{{$ctrl.devicesModel}}\'\n                               children-tag="sensors"\n                               label-tag="label" \n                               widgets-config= "$ctrl.widgetsConfig"\n                               on-select= "$ctrl.addWidget(sectionData)"\n                               </scriptr-searchbox>\n        </div>\n    </div>\n    \x3c!-- end left side --\x3e\n\n    \x3c!-- begin dashboard content --\x3e\n    <div class="dashboard-content">\n        \n        \x3c!-- begin page header --\x3e\n        <div class="page-header col-xs-12" ng-if="!$ctrl.isInIde">\n            <div ng-if="$ctrl.show" uib-alert ng-class="\'alert-\' + ( $ctrl.message.type || \'warning\')  + \' m10\'" close="$ctrl.closeAlert()" dismiss-on-timeout="5000">{{$ctrl.message.content}}</div>\n            <form name="scriptForm" ng-submit="$ctrl.saveDashboard(scriptForm)">\n                <div class="form-group col-xs-12 col-md-10 input-wrapper">\n                    <div class="pull-left back-to-panel"><a class="btn-block btn btn-primary" ng-href="#/dashboardsList"><i class="fa fa-arrow-left" aria-hidden="true"></i></a></div> \n                    \n\t\t\t\t\t\x3c!-- begin view mode --\x3e\n                    <div class="col-xs-12 col-md-7" ng-show="!$ctrl.isEdit">\n                        <div class="row">\n                            <div class="col-xs-12 col-md-1 p0">\n                              <div class="view-mode-img-wrap">\n                                <div class="view-mode-img"><img ng-src="{{!$ctrl.model.image && \'//cdn.rawgit.com/scriptrdotio/onset-static-resources/a923190a/images/default-icon.svg\' || $ctrl.model.image}}" />\n                                </div>\n                              </div>\n                            </div>\n                        \t<div class="col-xs-12 col-md-7 mt5">{{$ctrl.model.dashboardName}}</div>\n                        </div>\n                    </div>\n                    \n                    \x3c!--- begin edit mode --\x3e\n                    <div class="col-xs-12 col-md-7" ng-show="$ctrl.isEdit">\n                        <div ng-if="!$ctrl.isInIde" sf-options="$ctrl.frmGlobalOptions" sf-schema="$ctrl.schema" sf-form="$ctrl.form" sf-model="$ctrl.model" ></div>\n                    </div>\n                    <div class="col-xs-6 col-md-1 cancel-btn" ng-show="$ctrl.isEdit">\n                        <button class="btn btn-primary btn-block" type="button" ng-click="$ctrl.disableEditMode()">Cancel</button>\n                    </div>\n                    <div class="col-xs-6 col-md-1 save-btn" ng-show="$ctrl.isEdit">\n                        <button class="btn btn-primary btn-block" type="submit" ng-if="!$ctrl.isInIde">Save</button>\n                    </div>\n                </div>\n                <div class="col-xs-12 col-md-2 text-right action-buttons" ng-if="!$ctrl.isInIde">\n                    <a ng-if="!$ctrl.isInIde" class="btn btn-primary radius4 presentation-icon" ng-show="false && !$ctrl.isEdit" ng-click="$ctrl.viewDasboard()"><img src="//cdn.rawgit.com/scriptrdotio/onset-static-resources/6309fad6/images/presentation.svg" /></a>\n\n                    <div class="btn-group" uib-dropdown dropdown-append-to-body>\n                        <button id="btn-append-to-body" type="button" class="btn btn-primary wrench-icon radius4" uib-dropdown-toggle>\n                            <img src="//cdn.rawgit.com/scriptrdotio/onset-static-resources/4a93b9b6/images/wrench.svg" class="svg"/> <span class="caret"></span>\n                        </button>\n                        <ul class="dropdown-menu dropdown-menu-right header-sub" uib-dropdown-menu role="menu" aria-labelledby="btn-append-to-body">\n                            <li role="menuitem" ng-show="!$ctrl.isEdit"><a ng-click="$ctrl.enableEditDashboard()">Edit dashboard</a></li>\n                            <li role="menuitem" ng-show="$ctrl.isEdit && !$ctrl.isNew"><a ng-click="$ctrl.deleteDashboardConfirmation()">Delete dashboard</a></li>  \n                            <li role="menuitem" ng-show="$ctrl.isEdit"><a ng-click="$ctrl.clear()">Clear dashboard</a></li>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </form>\n    \t</div>\n   \t \t\x3c!-- end page header --\x3e\n    \n    \x3c!-- begin view mode dropdown --\x3e\n    <div class="col-xs-12 strip-container" ng-show="!$ctrl.isEdit">\n       <div sf-options="$ctrl.frmGlobalOptions" sf-schema="$ctrl.metric_schema" sf-form="$ctrl.metric_form" sf-model="$ctrl.metric_model" ></div>\n    </div>\n    \x3c!-- end view mode dropdown --\x3e\n    \n    \n    \t\x3c!-- begin slick wrap --\x3e\n        <div class="col-xs-12 pdl0 slick-wrap">\n            \x3c!-- begin carousel options --\x3e\n            <div>\n                <div class="slick-container dark-grey-bg" ng-show="$ctrl.isEdit" ng-class="!$ctrl.isInIde ? \'col-xs-12\' : \'col-sm-11 col-xs-9\'">\n                    <slick \n                           settings="$ctrl.slickConfig"\n                           infinite="true" \n                           slides-to-show="$ctrl.widgetsConfig.length"\n                           slides-to-scroll="0"\n                           ng-if="$ctrl.isEdit && $ctrl.dataLoaded" \n                           init-onload="false"\n                           data="$ctrl.dataLoaded"\n                           >\n                        <div class="slick-item" ng-repeat="item in $ctrl.widgetsConfig" ng-if="item.show != false">\n                            <span >\n                                <a ng-click="$ctrl.addWidget(item)"  uib-tooltip="{{ item.label }}" tooltip-placement="auto" tooltip-append-to-body="true">\n                                    <img ng-if="item.imgSrc" ng-src="{{ item.imgSrc }}" class="{{item.imgCls}}" alt="{{ item.label}}" />\n                                    <i ng-if="item.iconSrc" class="{{ item.iconSrc }}" aria-hidden="true" alt="{{ item.label}}" /></i>\n                                \x3c!--  span class="slick-label">{{ item.label }}</span --\x3e\n                                </a>\n                            </span>\n                        </div>\n                    </slick>\n                </div>\n                <div ng-if="$ctrl.isInIde" class="dashboard-config col-sm-1 col-xs-3 pull-right text-center">\n                    <a ng-click="$ctrl.clear()" uib-tooltip="Clear widgets" tooltip-placement="bottom"><i class="fa fa-eraser" aria-hidden="true"></i></a>\n                    <a ng-click="$ctrl.setTransportSettings()" uib-tooltip="Settings" tooltip-placement="bottom"><i class="fa fa-cog" aria-hidden="true"></i></a>\n                </div>\n                <div class="clearfix"></div>\n            </div>\n            \x3c!-- end carousel options --\x3e\n\n            <div class="clearfix"></div>\n\n            \x3c!-- begin gridster --\x3e\n            <div gridster="$ctrl.gridsterOptions" class="builder" ng-class="!$ctrl.isEdit ? \'gridster-viewmode\' : \'\'">\n                <ul>\n                    <li gridster-item="widget" ng-repeat="widget in $ctrl.dashboard.widgets">\n                        <box widget="widget" is-edit="$ctrl.isEdit"></box>\n                    </li>\n                </ul>\n            </div>\n            \x3c!-- end gridster --\x3e\n        </div>\n    \x3c!-- end slick wrap --\x3e\n    </div>\n</div>\n\x3c!-- end dashboard content --\x3e\n'),
a.put("/UIComponents/dashboardBuilder/javascript/components/dashboardsList.html",'<div><div><div class="col-xs-12 col-sm-5 col-md-6 col-lg-8 search-bar mb5"><i class="fa fa-search" aria-hidden=true></i> <input type=textfield ng-model=query placeholder="Search all dashboards" class=form-control></div><div class="col-xs-12 col-sm-4 col-md-3 col-lg-2 mb5"><a class="btn btn-primary add-btn btn-block" ng-href=#/newDashboard ng-click=$ctrl.checkCreateDashboardEligibility($event)>Create new dashboard</a></div><div class="col-xs-12 col-sm-3 col-md-3 col-lg-2 view-options mb5"><label>View:</label><span><a ng-click="$ctrl.changeLayout(\'tile\')" ng-class="{ \'selected\': $ctrl.layout == \'tile\'}"><i class="fa fa-th" aria-hidden=true></i></a></span> <span><a ng-click="$ctrl.changeLayout(\'grid\')" ng-class="{ \'selected\': $ctrl.layout == \'grid\'}"><i class="fa fa-list" aria-hidden=true></i></a></span></div><div class=clearfix></div></div><div ng-show="$ctrl.layout == \'tile\'"><div class="col-xs-12 col-sm-6"><h3 class=page-title>Your Dashboards</h3></div><div class=clearfix></div><div ng-if=$ctrl.showPanelMsg class=col-xs-12><div uib-alert ng-class="\'alert-\' + ( $ctrl.message.type || \'warning\')" close=$ctrl.closeMsg() dismiss-on-timeout=5000>{{$ctrl.message.content}}</div></div><span class="col-xs-12 mb20 text-center" ng-show=$ctrl.noDashboards><div class=mb10>No Dashboards Found</div><img src=//cdn.rawgit.com/scriptrdotio/onset-static-resources/1f981ecf/images/no-dashboard-found.png class="img-reponsive center-block"></span><div class="text-center loading" ng-show=$ctrl.loading><i class="fa fa-spinner fa-spin fa-3x"></i></div><div ng-repeat="dashboard in $ctrl.customDashboards | filter:{ dashboardName: query  } track by $index  " class="col-xs-12 col-sm-12 col-md-4 mb20 listing-dashboard"><div index="{{scriptName = dashboard.dashboard}}" class=listing-box><div class="img-thumb col-xs-12"><div class=table-display><div class=cell-display><a ng-href=#/dockey/{{dashboard.key}}><img ng-if=!dashboard.viewFile class="img-responsive default-img" src=//cdn.rawgit.com/scriptrdotio/onset-static-resources/a923190a/images/default-icon.svg> <img ng-if="dashboard.viewFile != null" class=img-responsive src={{dashboard.viewFile}}></a></div></div></div><div class="listing-info col-xs-12"><h4 class="mt0 mb5"><a ng-href=#/dockey/{{dashboard.key}} uib-tooltip={{dashboard.dashboardName}} tooltip-placement=left tooltip-append-to-body=true>{{dashboard.dashboardName}}</a> <span class="hidden-md hidden-lg"><a ng-click=$ctrl.setFavoriteDashboard(dashboard.key) href="" uib-tooltip="Star this dashboard for easy access from the menu. You can star one dashboard at a time." tooltip-placement=right tooltip-append-to-body=true><i ng-class="dashboard.key == $ctrl.favDashboardKey ? \'fa fa-star\' : \'fa fa-star-o\'" aria-hidden=true></i></a></span></h4><span class="pull-left visible-md visible-lg star-rate"><a ng-click=$ctrl.setFavoriteDashboard(dashboard.key) href="" uib-tooltip="Star this dashboard for easy access from the menu. You can star one dashboard at a time." tooltip-placement=right tooltip-append-to-body=true><i ng-class="dashboard.key == $ctrl.favDashboardKey ? \'fa fa-star\' : \'fa fa-star-o\'" aria-hidden=true></i></a></span><div class=clearfix></div><div class="mb5 fnt13 listing-date">{{dashboard.lastModifiedDate | date:\'MMMM dd, yyyy HH:mm\'}}</div><div class=clearfix></div><div class=pull-left><span ng-show=false class="badge badge-warning mt5"><i class="fa fa-eye" aria-hidden=true></i> Public</span></div><div class=pull-right><a title="Configure this dashboard" ng-href=#/dockey/{{dashboard.key}}/edit><img class=icon-img src=//cdn.rawgit.com/scriptrdotio/onset-static-resources/2a8afcdb/images/blue-wrench.svg></a><a title="Remove this dashboard" ng-click="$ctrl.deleteDashboardConfirmation(dashboard.dashboard, dashboard.dashboardName, dashboard.key)" class=ml5><img class=icon-img src=//cdn.rawgit.com/scriptrdotio/onset-static-resources/2a8afcdb/images/blue-bin.svg></a></div></div><div class=clearfix></div></div></div></div><div ng-show="$ctrl.layout == \'grid\'"><div class=col-xs-12><h3 class=grid-title>Your Dashboards</h3></div><div class=clearfix></div><div ng-if=$ctrl.showPanelMsg class=col-xs-12><div uib-alert ng-class="\'alert-\' + ( $ctrl.message.type || \'warning\')" close=$ctrl.closeMsg() dismiss-on-timeout=5000>{{$ctrl.message.content}}</div></div><span class="col-xs-12 mb20 text-center" ng-show="$ctrl.noDashboards && !ctrl.loading"><div class="mb10 mt20">No Dashboards Found</div><img src=//cdn.rawgit.com/scriptrdotio/onset-static-resources/1f981ecf/images/no-dashboard-found.png class="img-reponsive center-block"></span><div class=col-xs-12 ng-show="!$ctrl.noDashboards && !$ctrl.loading"><div ag-grid=$ctrl.gridOptions style="clear: left;width: 100%" class="ag-bootstrap hobo-grid"></div></div></div></div>'),a.put("/UIComponents/dashboardBuilder/javascript/components/deletePopup.html",'<div class=modal-header><button type=button class=close ng-click=close()>&times;</button><h3 class=modal-title>Delete this dashboard?</h3></div><div class=modal-body>Are you sure you want to permanently delete the dashboard "{{name}}"?</div><div class=modal-footer><button class="btn btn-primary" type=button ng-click=close()>Cancel</button> <button class="btn btn-primary" type=button ng-click=ondeleteDashboard()>Delete Dashboard</button></div>'),a.put("/UIComponents/dashboardBuilder/javascript/components/confirmation.html",'<div class=modal-header><button type=button class=close ng-click=$ctrl.onCancel()>&times;</button><h4 class=modal-title>{{ $ctrl.data.title }}</h4></div><div class=modal-body>{{ $ctrl.data.body }}</div><div class=modal-footer><button type=reset ng-show=$ctrl.data.btnCancelTitle class="btn btn-primary" ng-click=$ctrl.onCancel()>{{ $ctrl.data.btnCancelTitle }}</button> <button type=submit ng-show=$ctrl.data.btnSubmitTitle ng-click=$ctrl.onSubmit() class="btn btn-primary">{{ $ctrl.data.btnSubmitTitle }}</button></div>'),a.put("/UIComponents/dashboardBuilder/javascript/components/myModalContent.html",'<div class=modal-header><button type=button class=close ng-click=$ctrl.onCancel()>&times;</button><h4 class=modal-title id=modal-title>{{$ctrl.widget.label}}</h4></div><form name=myForm ng-submit=$ctrl.onSubmit(myForm)><div class="modal-body white-bg"><div html-class=bls sf-options=$ctrl.frmGlobalOptions sf-schema=$ctrl.schema sf-form=$ctrl.form sf-model=$ctrl.model></div></div><div class=modal-footer><button type=reset class="btn btn-primary" ng-click=$ctrl.onCancel()>Cancel</button> <button type=submit class="btn btn-primary">Save</button></div></form>'),a.put("/UIComponents/dashboardBuilder/view/dashboard.html",'<dashboard load-tree=true tree-search-criteria="" devices-model=app/api/dashboard/GetDataStream></dashboard>'),a.put("/UIComponents/dashboardBuilder/view/dashboardTemplate.min","<script type=text/x-handlebars-template id=handlebar-template>&lt;html ng-app=&quot;myApp&quot;&gt;\n&lt;head&gt;\n\n    &lt;link rel=&quot;icon&quot; href=&quot;data:;base64,iVBORw0KGgo=&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css&quot; integrity=&quot;sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u&quot; crossorigin=&quot;anonymous&quot;&gt;\n    &lt;script src=&quot;//use.fontawesome.com/3d61d6959e.js&quot;&gt;&lt;/script&gt;\n\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;/UIComponents/build/external/css/components.min.css&quot;&gt;\n    \n    &lt;!-- JQUERY Material  To use jQuery, simply ensure it is loaded before the angular.js file. --&gt;\n    &lt;script src=&quot;/UIComponents/build/external/js/external_jquery_resources.min.js&quot;&gt;&lt;/script&gt;\n  \n    &lt;!-- Libraries --&gt;\n    &lt;script src=&quot;/UIComponents/build/external/js/external_libraries.min.js&quot;&gt;&lt;/script&gt;\t\n    &lt;script src=&quot;//maps.google.com/maps/api/js?key=AIzaSyBcPYghFh_BXz4dDz-TXTHbU2iV3Wbf57I&amp;libraries=drawing,visualization&quot;&gt;&lt;/script&gt;\n  \n    &lt;!-- NG material --&gt;\n    &lt;script src=&quot;/UIComponents/build/external/js/external_angular_resources_1.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;/UIComponents/build/external/js/external_angular_resources_2.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;/UIComponents/build/external/js/external_angular_resources_3.min.js&quot;&gt;&lt;/script&gt;\n  \n    &lt;!-- Directives --&gt;\n    &lt;script src=&quot;/UIComponents/build/external/js/directives_1.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;/UIComponents/build/external/js/directives_2.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;//cdnjs.cloudflare.com/ajax/libs/ag-grid/12.0.0/ag-grid.js?ignore=notused36&quot;&gt;&lt;/script&gt;\n  \n    &lt;!-- Components --&gt;\n    &lt;script src=&quot;/UIComponents/build/external/js/components.min.js&quot;&gt;&lt;/script&gt;\n    \n&lt;/head&gt; \n  \n  \n&lt;style&gt;\n.box {\n\t/**border: none!important;**/\n}\n  \n&lt;/style&gt;\n&lt;script&gt;\n\n(function() {\n  \n   $.urlParam = function(name){\n\t     var results = new RegExp('[\\?&amp;]' + name + '=([^&amp;#]*)').exec(window.location.href);\n\t     if (results==null){\n\t         return null;\n\t     }else{\n\t         return results[1] || 0;\n\t     }\n\t}\n\n\t$.getUrlVars = function() {\n\t\tvar vars = [], hash;\n\t\tvar hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&amp;');\n\t\tfor(var i = 0; i &lt; hashes.length; i++)\n\t\t{\n\t\t\thash = hashes[i].split('=');\n\t\t\tvars.push(hash[0]);\n\t\t\tvars[hash[0]] = hash[1];\n\t\t}\n\t\treturn vars;\n\t}\n      \n    var underscore = angular.module('underscore', []);\n\t\tunderscore.factory('_', ['$window', function($window) {\t\t\n  \t\treturn $window._; // assumes underscore has already been loaded on the page\t\t\n\t}]);\n    \n\n    var wssConfig = [&quot;wsClientProvider&quot;,function (wsClientProvider) {\n   \t \twsClientProvider.setBaseUrl(&quot;wss://&quot; + window.location.host + &quot;/&quot;);   \t \n        wsClientProvider.setToken($.urlParam(&quot;auth_token&quot;));\n        wsClientProvider.setPublishChannel(&quot;{{{transport.publishChannel}}}&quot;);\n        wsClientProvider.setSubscribeChannel(&quot;{{{transport.subscribeChannel}}}&quot;);\n    }];\n\n    var httpsConfig = [&quot;httpClientProvider&quot;,function (httpClientProvider) {\n   \t  httpClientProvider.setBaseUrl(&quot;https://&quot; + window.location.host);\n      httpClientProvider.setToken($.urlParam(&quot;auth_token&quot;));\n    }]\n\n     var myApp= angular.module(&quot;myApp&quot;, [&quot;underscore&quot; , &quot;WsClient&quot;, &quot;HttpClient&quot;, &quot;Chart&quot;, 'gridster', 'ui.bootstrap', 'ngRoute', 'Gauge', 'Speedometer', 'Odometer', 'Message', 'Map', 'Grid', 'toggle-switch', 'Slider', 'Button', 'IFrame', 'Accelerometer'])\n     \n     angular.module('myApp').run(cachedTemplates);  \n      \n     angular.module('myApp').config(wssConfig);\n     angular.module('myApp').config(httpsConfig);\n     \n     myApp.config(function($interpolateProvider, $locationProvider) {\n        $interpolateProvider.startSymbol('{[{');\n        $interpolateProvider.endSymbol('}]}');\n        $locationProvider.html5Mode({\n          enabled: true,\n          requireBase: false\n        });\n     });\n  \n  \n     myApp.controller('RootCtrl', function($scope, $interpolate, $location) {\n       var vm = this;\n       vm.gridsterOptions = {\n          pushing: false,\n          \n          minRows: 1, // the minimum height of the grid, in rows\n          maxRows: 100,\n          columns: 5, // the width of the grid, in columns\n          colWidth: 'auto', // can be an integer or 'auto'.  'auto' uses the pixel width of the element divided by 'columns'\n          rowHeight: 'match', // can be an integer or 'match'.  Match uses the colWidth, giving you square widgets.\n          margins: [10, 10], // the pixel distance between each widget\n          defaultSizeX: 2, // the default width of a gridster item, if not specifed\n          defaultSizeY: 1, // the default height of a gridster item, if not specified\n          mobileBreakPoint: 1024, // if the screen is not wider that this, remove the grid layout and stack the items\n          minColumns: 1,\n          resizable: {\n            enabled: false\n          },\n          draggable: {\n             enabled: false\n          }\n       };\n       \n        vm.init = function() {\n          {{#each urlParams}}\n           \tconsole.log(&quot;{{this}}&quot;, $location.search()[&quot;{{this}}&quot;])\n            vm.{{this}} = $location.search()[&quot;{{this}}&quot;]\n          {{/each}}\n        }\n        {{#each items}}\n           \t{{#if this.formatFunction}}   \n                vm.{{this.formatFunction}} = function(data){\n                  {{{this.formatFunctionValue}}}\n                }\n           \t{{/if}} \n        {{/each}}\n     });\n        \t\n})();\n  \n&lt;/script&gt;\n\n    &lt;body&gt;\n      &lt;div ng-controller=&quot;RootCtrl as vm&quot; ng-init=&quot;vm.init();&quot;&gt; \n\t\t&lt;div gridster=&quot;vm.gridsterOptions&quot;&gt;\n          &lt;ul&gt;\n             {{#each items}}\n                &lt;li class=&quot;myItem&quot; gridster-item='{sizeX: {{sizeX}}, sizeY: {{sizeY}}, col: {{col}} , row: {{row}} }'&gt;\n                    &lt;div class=&quot;box&quot;&gt;\n                        &lt;div class=&quot;box-content&quot;&gt;\n                          &lt;div  style=&quot;height: 30px;&quot; tooltip-placement=&quot;bottom&quot; uib-tooltip=&quot;{{this.options.boxLabel}}&quot; class=&quot;box-label&quot;&gt;{{this.options.boxLabel}}&lt;/div&gt;\n                          &lt;div  style=&quot;height: calc(100% - 30px)&quot; &gt; &lt;{{type}}\n                           \t      {{#buildAttr this.options }}\n                                        {{this}}\n                                  {{/buildAttr}}\n                                  {{#if this.formatFunction}}   \n                                  \t\ton-format-data='vm.{{this.formatFunction}}'\n                                  {{/if}} \n                           &gt;&lt;/{{type}}&gt; &lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/li&gt;\n             {{/each}}\n          &lt;/ul&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n  &lt;/body&gt;  \n&lt;/html&gt;<\/script>"),a.put("/UIComponents/dashboardBuilder/ide/dashboardTemplate_ide.min","<script type=text/x-handlebars-template id=handlebar-template>&lt;html ng-app=&quot;myApp&quot;&gt;\n&lt;head&gt;\n\n    &lt;link rel=&quot;icon&quot; href=&quot;data:;base64,iVBORw0KGgo=&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css&quot; integrity=&quot;sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u&quot; crossorigin=&quot;anonymous&quot;&gt;\n    &lt;script src=&quot;//use.fontawesome.com/3d61d6959e.js&quot;&gt;&lt;/script&gt;\n\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;//{{{staticdomain}}}/lib/UIComponents/build/ide/css//components.min.css&quot;&gt;\n    \n    &lt;script src=&quot;//maps.google.com/maps/api/js?key=AIzaSyBcPYghFh_BXz4dDz-TXTHbU2iV3Wbf57I&amp;libraries=drawing,visualization&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;//{{{staticdomain}}}/lib/UIComponents/build/ide/js/template_resources.min.js&quot;&gt;&lt;/script&gt;\n    \n&lt;/head&gt; \n  \n&lt;script&gt;\n\n(function() {  \n   $.urlParam = function(name){\n\t     var results = new RegExp('[\\?&amp;]' + name + '=([^&amp;#]*)').exec(window.location.href);\n\t     if (results==null){\n\t         return null;\n\t     }else{\n\t         return results[1] || 0;\n\t     }\n\t}\n\n\t$.getUrlVars = function() {\n\t\tvar vars = [], hash;\n\t\tvar hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&amp;');\n\t\tfor(var i = 0; i &lt; hashes.length; i++)\n\t\t{\n\t\t\thash = hashes[i].split('=');\n\t\t\tvars.push(hash[0]);\n\t\t\tvars[hash[0]] = hash[1];\n\t\t}\n\t\treturn vars;\n\t}\n\t  \n\n      \n    var underscore = angular.module('underscore', []);\n\t\tunderscore.factory('_', ['$window', function($window) {\t\t\n  \t\treturn $window._; // assumes underscore has already been loaded on the page\t\t\n\t}]);\n    \n\n    var wssConfig = [&quot;wsClientProvider&quot;,function (wsClientProvider) {\n   \t \twsClientProvider.setBaseUrl(&quot;wss://&quot; + window.location.host + &quot;/&quot;);   \t \n        wsClientProvider.setToken($.urlParam(&quot;auth_token&quot;));\n        wsClientProvider.setPublishChannel(&quot;{{{transport.publishChannel}}}&quot;);\n        wsClientProvider.setSubscribeChannel(&quot;{{{transport.subscribeChannel}}}&quot;);\n    }];\n\n    var httpsConfig = [&quot;httpClientProvider&quot;,function (httpClientProvider) {\n   \t  httpClientProvider.setBaseUrl(&quot;https://&quot; + window.location.host);\n      httpClientProvider.setToken($.urlParam(&quot;auth_token&quot;));\n    }]\n\n     var myApp= angular.module(&quot;myApp&quot;, [&quot;underscore&quot; , &quot;WsClient&quot;, &quot;HttpClient&quot;, &quot;Chart&quot;, 'gridster', 'ui.bootstrap', 'ngRoute', 'Gauge', 'Speedometer', 'Odometer', 'Message', 'Map', 'Grid', 'toggle-switch', 'Slider', 'Button', 'IFrame', 'Accelerometer', 'Thermometer'])\n     \n     angular.module('myApp').run(cachedTemplates);  \n      \n     angular.module('myApp').config(wssConfig);\n     angular.module('myApp').config(httpsConfig);\n     \n     myApp.config(function($interpolateProvider, $locationProvider) {\n        $interpolateProvider.startSymbol('{[{');\n        $interpolateProvider.endSymbol('}]}');\n        $locationProvider.html5Mode({\n          enabled: true,\n          requireBase: false\n        });\n     });\n  \n  \n     myApp.controller('RootCtrl', function($scope, $interpolate, $location) {\n       var vm = this;\n       vm.gridsterOptions = {\n          pushing: false,\n          \n          minRows: 1, // the minimum height of the grid, in rows\n          maxRows: 100,\n          columns: 5, // the width of the grid, in columns\n          colWidth: 'auto', // can be an integer or 'auto'.  'auto' uses the pixel width of the element divided by 'columns'\n          rowHeight: 'match', // can be an integer or 'match'.  Match uses the colWidth, giving you square widgets.\n          margins: [10, 10], // the pixel distance between each widget\n          defaultSizeX: 2, // the default width of a gridster item, if not specifed\n          defaultSizeY: 1, // the default height of a gridster item, if not specified\n          mobileBreakPoint: 1024, // if the screen is not wider that this, remove the grid layout and stack the items\n          minColumns: 1,\n          resizable: {\n            enabled: false\n          },\n          draggable: {\n             enabled: false\n          }\n       };\n       \n        vm.init = function() {\n          {{#each urlParams}}\n           \tconsole.log(&quot;{{this}}&quot;, $location.search()[&quot;{{this}}&quot;])\n            vm.{{this}} = $location.search()[&quot;{{this}}&quot;]\n          {{/each}}\n        }\n        {{#each items}}\n           \t{{#if this.formatFunction}}   \n                vm.{{this.formatFunction}} = function(data){\n                  {{this.formatFunctionValue}}\n                }\n           \t{{/if}} \n        {{/each}}\n     });\n        \t\n})();\n  \n&lt;/script&gt;\n\n    &lt;body&gt;\n      &lt;div ng-controller=&quot;RootCtrl as vm&quot; ng-init=&quot;vm.init();&quot;&gt; \n\t\t&lt;div gridster=&quot;vm.gridsterOptions&quot;&gt;\n          &lt;ul&gt;\n             {{#each items}}\n                &lt;li class=&quot;myItem&quot; gridster-item='{sizeX: {{sizeX}}, sizeY: {{sizeY}}, col: {{col}} , row: {{row}} }'&gt;\n                    &lt;div class=&quot;box&quot;&gt;\n                        &lt;div class=&quot;box-content&quot;&gt;\n                          &lt;div  style=&quot;height: 30px;&quot; tooltip-placement=&quot;bottom&quot; uib-tooltip=&quot;{{this.options.boxLabel}}&quot; class=&quot;box-label&quot;&gt;{{this.options.boxLabel}}&lt;/div&gt;\n                          &lt;div  style=&quot;height: calc(100% - 30px)&quot; &gt; &lt;{{type}}\n                           \t      {{#buildAttr this.options }}\n                                        {{this}}\n                                  {{/buildAttr}}\n                                  {{#if this.formatFunction}}   \n                                  \t\ton-format-data='vm.{{this.formatFunction}}'\n                                  {{/if}} \n                           &gt;&lt;/{{type}}&gt; &lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/li&gt;\n             {{/each}}\n          &lt;/ul&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n  &lt;/body&gt;  \n&lt;/html&gt;<\/script>"),a.put("/UIComponents/dashboardBuilder/view/dashboardsList.html","<dashboards-list></dashboards-list>")}];angular.module("Chart",["angular.morris"]),angular.element(document).ready(function(){Morris.Donut.prototype.resizeHandler=function(){return this.timeoutId=null,this.el&&this.el.width()>0&&this.el.height()>0?(this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()):null},Morris.Donut.prototype.setData=function(a){var b;return this.data=a,this.values=function(){var a,c,d,e;for(d=this.data,e=[],a=0,c=d.length;a<c;a++)b=d[a],e.push(parseFloat(b.value));return e}.call(this),this.el&&this.el.width()>0&&this.el.height()>0?this.redraw():null}}),angular.module("Chart").component("scriptrChart",{bindings:{onLoad:"&onLoad",resize:"<?",data:"<?",type:"@",xkey:"@",ykeys:"<?",stacked:"<?",labels:"<?",colors:"<?",api:"@",transport:"@",msgTag:"@",apiParams:"<?",onFormatData:"&",lineWidth:"@",pointSize:"@",pointFillColors:"@",pointStrokeColors:"@",ymax:"@",ymin:"@",smooth:"@",hideHover:"@",parseTime:"@",units:"@",postUnits:"@",preUnits:"@",xlabels:"@",xlabelAngle:"<?",goals:"@",goalStrokeWidth:"@",goalLineColors:"@",events:"@",eventStrokeWidth:"@",eventLineColors:"@",continuousLine:"@",axes:"@",grid:"@",gridTextColor:"@",gridTextSize:"@",gridTextFamily:"@",gridTextWeight:"@",fillOpacity:"@",resize:"@",behaveLikeLine:"@",labelColor:"@",donutFormatter:"&",backgroundColor:"@",hoverCallback:"&?",dateFormat:"&?",xlabelFormat:"&?",ylabelFormat:"&?"},templateUrl:"/UIComponents/dashboard/frontend/components/chart/chart.html",controller:["httpClient","wsClient","$scope","$timeout",function(a,b,c,d){var e=this;this.$onInit=function(){void 0===this.api&&void 0===this.msgTag&&(this.data&&0==this.data.length||null==this.data)&&(this.noResults=!0),this.colors=this.colors?this.colors:["#CC5464","#FCC717","#38B9D6","#1DBC68","#E90088"],this.stacked=!!this.stacked&&this.stacked,this.resize=!this.resize||this.resize,this.labelColor=this.labelColor?this.labelColor:"#eee",this.backgroundColor=this.backgroundColor?this.backgroundColor:"#fff",this.transport=this.transport?this.transport:"wss",this.msgTag=this.msgTag?this.msgTag:null,console.log(this.type,this.xlabelAngle)},this.$postLink=function(){f(this.transport),this.data&&!this.api?(e.timeout=!1,d(function(){e.consumeData(e.data)},2e3)):e.timeout=!0,c.$watch(function(a){if(a.$ctrl.data&&1==e.timeout)return a.$ctrl.data},function(a){a&&(e.datas=a,e.noResults=!1)})},this.$onDestroy=function(){console.log("destory chart",e.msgTag,c.$id),e.msgTag&&b.unsubscribe(e.msgTag,null,c.$id)};var f=function(d){"wss"==d?b.onReady.then(function(){e.msgTag&&b.subscribe(e.msgTag,e.consumeData.bind(e),c.$id),e.api&&b.call(e.api,e.apiParams,e.msgTag).then(function(a,b){e.consumeData(a)},function(a){console.log("reject published promise",a),e.consumeData()})}):"https"==d&&e.api&&a.get(e.api,e.apiParams).then(function(a,b){e.consumeData(a)},function(a){console.log("reject published promise",a),e.consumeData()})};this.consumeData=function(a,b){e.timeout=!0,"function"==typeof e.onFormatData()&&(a=e.onFormatData()(a)),a&&a.length>0&&"object"==typeof a?(this.datas=a,this.noResults=!1):(this.datas=[],this.noResults=!0)}}]}),angular.module("Odometer",["ui.odometer"]),angular.module("Odometer").component("scriptrOdometer",{bindings:{onLoad:"&onLoad",api:"@",enableResize:"<?",theme:"@",duration:"@",animation:"@",transport:"@",odometerValue:"<?",data:"<?",msgTag:"@",apiParams:"<?",size:"<?",onFormatData:"&"},templateUrl:"/UIComponents/dashboard/frontend/components/odometer/odometer.html",controller:["$scope","httpClient","wsClient","$element","$window","$timeout",function(a,b,c,d,e,f){var g=this;this.$onInit=function(){this.config={duration:this.duration?this.duration:1e3,animation:this.animation?this.animation:"count",theme:this.theme?this.theme:"car"},this.odometerOptions=this.config,this.odometerValue=this.odometerValue?this.odometerValue:this.data?this.data:0,this.size=this.size?this.size:1,this.enableResize=void 0===this.enableResize||this.enableResize,this.style={},this.style["font-size"]=this.size+"em",angular.element(e).on("resize",function(){return null!=g.timeoutId&&f.cancel(g.timeoutId),g.timeoutId=f(g.resize,100)}),this.transport=this.transport?this.transport:"wss",this.msgTag=this.msgTag?this.msgTag:null,h(this.transport)},g.resize=function(){g.timeoutId=null,g.enableResize&&(g.style["margin-top"]=d.parent().outerHeight(!0)/2-d.outerHeight(!0)/2)},this.$postLink=function(){f(g.resize,100),null!=g.timeoutId&&f.cancel(g.timeoutId),g.timeoutId=f(g.resize,100)},this.$onDestroy=function(){angular.element(e).off("resize"),g.msgTag&&c.unsubscribe(g.msgTag,null,a.$id),console.log("destory odometer")};var h=function(d){"wss"==d?c.onReady.then(function(){g.msgTag&&c.subscribe(g.msgTag,g.consumeData.bind(g),a.$id),g.api&&c.call(g.api,g.apiParams,g.msgTag).then(function(a,b){g.consumeData(a)},function(a){console.log("reject published promise",a),g.consumeData()})}):"https"==d&&g.api&&b.get(g.api,g.apiParams).then(function(a,b){g.consumeData(a)},function(a){console.log("reject published promise",a)})};this.consumeData=function(a,b){"function"==typeof g.onFormatData()&&(a=g.onFormatData()(a)),this.odometerValue=a}}]}),angular.module("Speedometer",["meterGauge"]),angular.module("Speedometer").component("scriptrSpeedometer",{bindings:{onLoad:"&onLoad",gaugeRadius:"<?",theme:"@",minValue:"<?",maxValue:"<?",needleVal:"<?",data:"<?",tickSpaceMinVal:"<?",tickSpaceMajVal:"<?",gaugeUnits:"@",tickColMaj:"@",tickColMin:"@",outerEdgeCol:"@",pivotCol:"@",innerCol:"@",unitsLabelCol:"@",tickLabelCol:"@",needleCol:"@",defaultFonts:"@",api:"@",transport:"@",msgTag:"@",apiParams:"<?",onFormatData:"&"},templateUrl:"/UIComponents/dashboard/frontend/components/speedometer/speedometer.html",controller:["httpClient","wsClient","$element","$window","$scope","$compile","$timeout",function(a,b,c,d,e,f,g){var h=this;this.$onInit=function(){this.speedoConfig={},"speed"==this.theme||void 0===this.theme?(this.speedoConfig.gaugeRadius=this.gaugeRadius?this.gaugeRadius:150,this.speedoConfig.minVal=this.minValue?this.minValue:0,this.speedoConfig.maxVal=this.maxValue?this.maxValue:220,this.speedoConfig.needleVal=this.needleVal?Math.round(this.needleVal):this.data?Math.round(this.data):0,this.speedoConfig.tickSpaceMinVal=this.tickSpaceMinVal?this.tickSpaceMinVal:10,this.speedoConfig.tickSpaceMajVal=this.tickSpaceMajVal?this.tickSpaceMajVal:20,this.speedoConfig.gaugeUnits=this.gaugeUnits?this.gaugeUnits:"kmh",this.speedoConfig.tickColMaj=this.tickColMaj?this.tickColMaj:"#C64DFF",this.speedoConfig.tickColMin=this.tickColMin?this.tickColMin:"#999999",this.speedoConfig.outerEdgeCol=this.outerEdgeCol?this.outerEdgeCol:"#f4f4f4",this.speedoConfig.pivotCol=this.pivotCol?this.pivotCol:"#434a54",this.speedoConfig.innerCol=this.innerCol?this.innerCol:"#ffffff",this.speedoConfig.unitsLabelCol=this.unitsLabelCol?this.unitsLabelCol:"#C64DFF",this.speedoConfig.tickLabelCol=this.tickLabelCol?this.tickLabelCol:"#656D78",this.speedoConfig.needleCol=this.needleCol?this.needleCol:"#C64DFF",this.speedoConfig.defaultFonts=this.defaultFonts?this.defaultFonts:""):"rpm"==this.theme&&(this.speedoConfig.gaugeRadius=this.gaugeRadius?this.gaugeRadius:120,this.speedoConfig.minVal=this.minValue?this.minValue:0,this.speedoConfig.maxVal=this.maxValue?this.maxValue:1e3,this.speedoConfig.needleVal=this.needleVal?Math.round(this.needleVal):this.data?Math.round(this.data):0,this.speedoConfig.tickSpaceMinVal=this.tickSpaceMinVal?this.tickSpaceMinVal:10,this.speedoConfig.tickSpaceMajVal=this.tickSpaceMajVal?this.tickSpaceMajVal:100,this.speedoConfig.gaugeUnits=this.gaugeUnits?this.gaugeUnits:"kmh",this.speedoConfig.tickColMaj=this.tickColMaj?this.tickColMaj:"#0194D9",this.speedoConfig.tickColMin=this.tickColMin?this.tickColMin:"#999999",this.speedoConfig.outerEdgeCol=this.outerEdgeCol?this.outerEdgeCol:"#ffffff",this.speedoConfig.pivotCol=this.pivotCol?this.pivotCol:"#434A54",this.speedoConfig.innerCol=this.innerCol?this.innerCol:"#ffffff",this.speedoConfig.unitsLabelCol=this.unitsLabelCol?this.unitsLabelCol:"#0194d9",this.speedoConfig.tickLabelCol=this.tickLabelCol?this.tickLabelCol:"#656D78",this.speedoConfig.needleCol=this.needleCol?this.needleCol:"#0194d9",this.speedoConfig.defaultFonts=this.defaultFonts?this.defaultFonts:""),this.speedoConfig.speedoTag=e.$id,this.transport=this.transport?this.transport:"wss",this.msgTag=this.msgTag?this.msgTag:null},this.calculateGaugeRadius=function(){h.timeoutId=null;var a=c.parent().height(),b=c.parent().width();h.speedoConfig.gaugeRadius=0==a?b/2:b>=a?a/2:b/2},this.$postLink=function(){g(function(){console.log("Calc"),h.gaugeRadius||(h.calculateGaugeRadius(),console.log("Gauge Size",h.speedoConfig.gaugeRadius),angular.element(d).on("resize",function(){null!=h.timeoutId&&g.cancel(h.timeoutId),h.timeoutId=g(h.calculateGaugeRadius,100)})),h.renderGauge(),e.$watch(function(a){return a.$ctrl.needleVal&&(h.speedoConfig.needleVal=a.$ctrl.needleVal),JSON.stringify(h.speedoConfig)},function(a){h.renderGauge()}),i(h.transport)},500)},this.$onDestroy=function(){this.gaugeRadius||angular.element(d).off("resize"),h.msgTag&&b.unsubscribe(h.msgTag,null,e.$id),console.log("destory speedo")},this.renderGauge=function(){angular.element(c).html(""),this.speedo=angular.element(document.createElement("meter-gauge")),this.speedo.attr("gaugeconfig",JSON.stringify(this.speedoConfig));var a=f(this.speedo)(e);angular.element(c).append(a)};var i=function(c){console.log("Gauge Size",h.speedoConfig.gaugeRadius),"wss"==c?b.onReady.then(function(){h.msgTag&&b.subscribe(h.msgTag,h.consumeData.bind(h),e.$id),h.api&&b.call(h.api,h.apiParams,h.msgTag).then(function(a,b){h.consumeData(a)},function(a){console.log("reject published promise",a),h.consumeData()})}):"https"==c&&h.api&&a.get(h.api,h.apiParams).then(function(a,b){h.consumeData(a)},function(a){console.log("reject published promise",a)})};this.consumeData=function(a,b){"function"==typeof h.onFormatData()&&(a=h.onFormatData()(a)),a=parseInt(a),a="number"==typeof a&&"NaN"!=a.toString()?a:0,this.speedoConfig.needleVal=Math.round(a)}}]}),angular.module("SearchBox",["angularBootstrapNavTree"]).component("scriptrSearchbox",{bindings:{treeControl:"<?",treeData:"<?",searchText:"@",iconLeaf:"@",paramName:"@",iconExpand:"@",iconCollapse:"@",onSelect:"&onSelect",expandLevel:"@",initialSelection:"@",apiParams:"<?",loadTree:"<?",treeSearchCriteria:"@",transport:"@",api:"@",onFormatData:"&",childrenTag:"@",labelTag:"@",widgetsConfig:"<?"},templateUrl:"/UIComponents/dashboard/frontend/components/searchBox/searchBox.html",controller:["wsClient","httpClient","$timeout",function(a,b,c){var d=this;this.iconExpand=this.iconExpand?this.iconExpand:null,this.$onInit=function(){this.iconLeaf=this.iconLeaf&&"$ctrl.iconLeaf"!=this.iconLeaf?this.iconLeaf:"icon-file  glyphicon glyphicon-file  fa fa-file",
this.iconExpand=this.iconExpand&&"$ctrl.iconExpand"!=this.iconExpand?this.iconExpand:"icon-plus  glyphicon glyphicon-plus  fa fa-plus",this.iconCollapse=this.iconCollapse&&"$ctrl.iconCollapse"!=this.iconCollapse?this.iconCollapse:"icon-minus glyphicon glyphicon-minus fa fa-minus",this.paramName=this.paramName?this.paramName:"criteria",this.searchText=this.searchText?this.searchText:"Type to search",this.treeData=this.treeData?this.treeData:[],this.iconLeaf=this.iconLeaf?this.iconLeaf:null,this.transport=this.transport?this.transport:"wss",this.loadTree&&(this.searching=!0,e(this.transport))},this.onFilterChanged=function(){if(null!=this.searchValue&&""!=this.searchValue){this.searching=!0;for(var a=angular.copy(this.originalData),b=[],c=0;c<a.length;c++){var d=a[c],e=d.sensors;if(-1==d.label.toLowerCase().indexOf(this.searchValue.toLowerCase())){for(var f=!1,g=[],h=0;h<e.length;h++){-1==e[h].label.toLowerCase().indexOf(this.searchValue.toLowerCase())?g.push(h):f=!0}for(var i=g.length-1,h=i;h>=0;h--)e.splice(g[h],1);f||b.push(c)}}for(var i=b.length-1,c=i;c>=0;c--)a.splice(b[c],1)}else a=angular.copy(this.originalData);this.consumeData(a,null,!0)};var e=function(c){var e={};if(d.apiParams)for(var f in d.apiParams)e[f]=d.apiParams[f];"wss"==c?a.onReady.then(function(){a.subscribe(d.msgTag,d.consumeData.bind(d)),d.api&&a.call(d.api,e,d.msgTag).then(function(a,b){d.consumeData(a)},function(a){console.log("reject published promise",a),d.consumeData()})}):"https"==c&&d.api&&b.get(d.api,e).then(function(a,b){},function(a){d.consumeData(),console.log("reject published promise",a)})};this.consumeData=function(a,b,c){if("function"==typeof d.onFormatData()&&(a=d.onFormatData()(a)),!c&&a&&"string"!=typeof a){window.localStorage.setItem("dataStream",angular.copy(JSON.stringify(a.dataStream))),window.localStorage.setItem("dataMapping",angular.copy(JSON.stringify(a.dataMapping))),a=a.dataStream;for(var e=d.widgetsConfig,f={},g=0;g<e.length;g++)f[e[g].name]=e[g];for(var h=0;h<a.length;h++)if(a[h].sensors)for(var i=0;i<a[h].sensors.length;i++){var j=a[h].sensors[i].sectionData;a[h].sensors[i].sectionData=angular.copy(f[j]),a[h].sensors[i].sectionData.selectedStreamLabel=angular.copy(a[h].sensors[i].label),a[h].sensors[i].sectionData.selectedStreamValue=angular.copy(a[h].sensors[i].serial_number+a[h].sensors[i].channel_number+a[h].sensors[i].data_type_id),f[j].imgSrc&&(a[h].sensors[i].imgSrc=f[j].imgSrc)}}console.log("display tree"),window.localStorage.getItem("streamData",a),"object"==typeof a&&a.length>0?(this.treeData=a,this.noResults=!1):(this.treeData=[],this.noResults=!0),this.originalData||(this.originalData=angular.copy(this.treeData)),this.searching=!1}}]}),angular.module("Gauge",["frapontillo.gage"]),angular.module("Gauge").component("scriptrGauge",{bindings:{onLoad:"&onLoad",api:"@",transport:"@",msgTag:"@",apiParams:"<?",valueFontColor:"@",min:"@",max:"@",hideMinMax:"@",hideValue:"@",showInnerShadow:"<?",gaugeColor:"@",gaugeValue:"<?",data:"<?",customSectors:"<?",shadowSize:"@",shadowOpacity:"@",label:"@",labelFontColor:"@",startAnimationType:"@",refreshAnimationType:"@",valueFontFamily:"@",relativeGaugeSize:"@",valueMinFontSize:"@",hideMinMax:"@",labelMinFontSize:"@",minLabelMinFontSize:"@",maxLabelMinFontSize:"@",gaugeWidthScale:"@",shadowVerticalOffset:"@",levelColors:"@",noGradient:"@",startAnimationTime:"@",refreshAnimationTime:"@",donut:"@",donutStartAngle:"@",reverse:"@",decimals:"@",symbol:"@",formatNumber:"@",humanFriendly:"@",humanFriendlyDecimal:"@",textRenderer:"&",onAnimationEnd:"&",pointer:"<?",onFormatData:"&",heightUnit:"@",counter:"@",width:"@",height:"@"},templateUrl:"/UIComponents/dashboard/frontend/components/gauge/gauge.html",controller:["$scope","httpClient","wsClient",function(a,b,c){var d=this;this.$onInit=function(){this.gaugeValue=this.gaugeValue?this.gaugeValue:this.data?this.data:0,this.heightUnit=this.heightUnit?this.heightUnit:"px",this.customSectors=this.customSectors?this.customSectors:{percents:!0,ranges:[{color:"#A3CD3B",lo:0,hi:25},{color:"#FF4A43",lo:25,hi:100}]},this.valueFontColor=this.valueFontColor?this.valueFontColor:"#999",this.min=this.min?this.min:0,this.max=this.max?this.max:100,this.hideMinMax=!!this.hideMinMax&&this.hideMinMax,this.hideValue=!!this.hideValue&&this.hideValue,this.gaugeColor=this.gaugeColor?this.gaugeColor:"#e9e9e9",this.shadowSize=this.shadowSize?this.shadowSize:0,this.label=this.label?this.label:"",this.labelFontColor=this.labelFontColor?this.labelFontColor:"#666",this.startAnimationType=this.startAnimationType?this.startAnimationType:"linear",this.refreshAnimationType=this.refreshAnimationType?this.refreshAnimationType:"linear",this.counter=!this.counter||this.counter,this.transport=this.transport?this.transport:"wss",this.msgTag=this.msgTag?this.msgTag:null,e(this.transport)},this.$onDestroy=function(){console.log("destory gauge"),d.msgTag&&c.unsubscribe(d.msgTag,null,a.$id)};var e=function(e){"wss"==e?c.onReady.then(function(){d.msgTag&&c.subscribe(d.msgTag,d.consumeData.bind(d),a.$id),d.api&&c.call(d.api,d.apiParams,d.msgTag).then(function(a,b){d.consumeData(a)},function(a){console.log("reject published promise",a),d.consumeData()})}):"https"==e&&d.api&&b.get(d.api,d.apiParams).then(function(a,b){d.consumeData(a)},function(a){console.log("reject published promise",a)})};this.consumeData=function(a,b){"function"==typeof this.onFormatData()&&(a=this.onFormatData()(a)),a=parseInt(a),a="number"==typeof a&&"NaN"!=a.toString()?a:0,this.gaugeValue=a}}]}),angular.module("angular-scriptrui",[]).directive("ngDisplayBox",function(){return{restrict:"E",require:"ngModel",scope:{msg:"=ngModel",type:"@"},template:'<div class="alert alert-{{type}}" role="alert"><span ng-bind="msg"></span></div>',replace:!0}}),angular.module("Message",["angular-scriptrui"]),angular.module("Message").component("scriptrDisplaybox",{bindings:{data:"@",type:"@",api:"@",transport:"@",msgTag:"@",apiParams:"<?",onFormatData:"&"},templateUrl:"/UIComponents/dashboard/frontend/components/message/message.html",controller:["httpClient","wsClient",function(a,b){var c=this;this.$onInit=function(){this.data=this.data?this.data:"Waiting for info...",this.type=this.type?this.type:"info"},this.$postLink=function(){d(this.transport)};var d=function(d){"wss"==d?b.onReady.then(function(){b.subscribe(c.msgTag,c.consumeData.bind(c)),c.api&&b.call(c.api,c.apiParams,c.msgTag).then(function(a,b){c.consumeData(a)},function(a){console.log("reject published promise",a)})}):"https"==d&&c.api&&a.get(c.api,c.apiParams).then(function(a,b){c.consumeData(a)},function(a){console.log("reject published promise",a)})};this.consumeData=function(a,b){"function"==typeof c.onFormatData()&&(a=c.onFormatData()(a)),"object"==typeof a&&(a&&a.data&&"string"==typeof a.data&&(this.data=a.data),a&&a.type&&(this.type=a.type)),"string"==typeof a&&(this.data=a)}}]}),angular.module("Display",[]),angular.module("Display").component("scriptrDisplaycount",{bindings:{widgetLayout:"@",data:"@",message:"@",borderSize:"@",borderColor:"@",numberFontFamily:"@",numberFontSize:"@",numberCellSize:"@",numberFontWeight:"@",numberTextColor:"@",numberBackgroundColor:"@",numberTextAlignment:"@",messageFontFamily:"@",messageFontSize:"@",messageFontWeight:"@",messageTextColor:"@",messageBackgroundColor:"@",messageTextAlignment:"@",api:"@",enableResize:"<?",transport:"@",msgTag:"@",apiParams:"<?",onFormatData:"&"},templateUrl:"/UIComponents/dashboard/frontend/components/displayCount/displayCount.html",controller:["$scope","httpClient","wsClient","$element","$window","$timeout",function(a,b,c,d,e,f){var g=this;this.$onInit=function(){this.widgetLayout="vertical"==this.widgetLayout?this.widgetLayout:"horizontal",this.data=this.data?isNaN(this.data)?"0":this.data:"0",this.message=this.message?this.message:"Items",this.borderSize=this.borderSize?this.borderSize:"1",this.numberCellSize=this.numberCellSize?this.numberCellSize:"",this.borderColor=this.borderColor?this.borderColor:"#d7d7d7",this.numberFontFamily=this.numberFontFamily?this.numberFontFamily:"Arial",this.numberFontSize=this.numberFontSize?this.numberFontSize:"42",this.numberFontWeight=this.numberFontWeight?this.numberFontWeight:"600",this.numberTextColor=this.numberTextColor?this.numberTextColor:"#ffffff",this.numberTextAlignment=this.numberTextAlignment?this.numberTextAlignment:"center",this.numberBackgroundColor=this.numberBackgroundColor?this.numberBackgroundColor:"#3a87ad",this.messageFontFamily=this.messageFontFamily?this.messageFontFamily:"Arial",this.messageFontSize=this.messageFontSize?this.messageFontSize:"18",this.messageFontWeight=this.messageFontWeight?this.messageFontWeight:"600",this.messageTextColor=this.messageTextColor?this.messageTextColor:"#686868",this.messageBackgroundColor=this.messageBackgroundColor?this.messageBackgroundColor:"white",this.messageTextAlignment=this.messageTextAlignment?this.messageTextAlignment:"center",this.enableResize=void 0===this.enableResize||this.enableResize,angular.element(e).on("resize",function(){return null!=g.timeoutId&&f.cancel(g.timeoutId),g.timeoutId=f(g.resize,100)}),this.transport=this.transport?this.transport:"wss",this.msgTag=this.msgTag?this.msgTag:null,this.style={},h(this.transport)},g.resize=function(){g.timeoutId=null,g.enableResize&&(g.style["margin-top"]=d.parent().outerHeight(!0)/2-d.outerHeight(!0)/2)},this.$postLink=function(){f(g.resize,100),null!=g.timeoutId&&f.cancel(g.timeoutId),g.timeoutId=f(g.resize,100),h(this.transport)};var h=function(a){"wss"==a?c.onReady.then(function(){c.subscribe(g.msgTag,g.consumeData.bind(g)),g.api&&c.call(g.api,g.apiParams,g.msgTag).then(function(a,b){g.consumeData(a)},function(a){console.log("reject published promise",a)})}):"https"==a&&g.api&&b.get(g.api,g.apiParams).then(function(a,b){g.consumeData(a)},function(a){console.log("reject published promise",a)})};this.consumeData=function(a,b){"function"==typeof g.onFormatData()&&(a=g.onFormatData()(a)),this.data=a,"object"==typeof a&&a&&a.data&&"string"==typeof a.data&&(this.data=a.data),"string"==typeof a&&(this.data=a)}}]}),angular.module("Thermometer",["angularThermometer"]),angular.module("Thermometer").component("scriptrThermometer",{bindings:{onLoad:"&onLoad",api:"@",value:"<?",data:"<?",step:"<?",customSectors:"<?",outOfRangeColor:"@",ticks:"<?",percent:"@",unit:"@",height:"@",transport:"@",msgTag:"@",apiParams:"<?",onFormatData:"&"},templateUrl:"/UIComponents/dashboard/frontend/components/thermometer/thermometer.html",controller:["$scope","$window","$element","$timeout","httpClient","wsClient","_",function(a,b,c,d,e,f,g){var h=this;this.$onInit=function(){this.outOfRangeColor=this.outOfRangeColor?this.outOfRangeColor:"#5fc100",this.value=this.value?this.value>100?100:this.value:this.data?this.data:0,this.unit=this.unit?this.unit:"C",this.height=this.height?this.height:"100",this.customSectors&&(this.customSectors=g.reject(this.customSectors,g.isEmpty)),this.customSectors=this.customSectors&&this.customSectors.length>0?this.customSectors:[{color:"#005588",lo:0,hi:30},{color:"#aa241d",lo:30,hi:60},{color:"#ffa500",lo:60,hi:90}],this.mercuryColor=this.evaluateColor(this.value),this.step=this.step?this.step:"30";var a=this.getLowestTick(),c=this.getHighestTick(),e=parseInt(a);for(this.sectors=[],this.sectors.push(e);e<c;)e+=parseInt(this.step),this.sectors.push(e);this.sectors=this.sectors?this.sectors:[0,30,60,90],this.mercuryMax=g.max(this.sectors),this.minSectorValue=g.min(this.sectors),this.ticks=[];for(var f=0;f<this.sectors.length;f++){var j={};j.tick=this.sectors[f],j.percent=(this.sectors[f]-this.minSectorValue)*this.height/(this.mercuryMax-this.minSectorValue),this.ticks.push(j)}this.transport=this.transport?this.transport:"wss",this.msgTag=this.msgTag?this.msgTag:null,this.style={},angular.element(b).on("resize",function(){return null!=h.timeoutId&&d.cancel(h.timeoutId),h.timeoutId=d(h.resize,500)}),i(this.transport)},h.resize=function(){h.timeoutId=null,h.style["margin-top"]=10,h.style["margin-left"]=c.parent().outerWidth(!0)/2-50},this.$postLink=function(){d(h.resize,100),null!=h.timeoutId&&d.cancel(h.timeoutId),h.timeoutId=d(h.resize,100),a.$watch(function(a){return a.$ctrl.value},function(b){!isNaN(parseFloat(b))&&isFinite(b)&&(b=b>a.$ctrl.mercuryMax?a.$ctrl.mercuryMax:b,h.percent=parseInt((b-a.$ctrl.minSectorValue)*a.$ctrl.height/(a.$ctrl.mercuryMax-a.$ctrl.minSectorValue)))})},this.$onDestroy=function(){console.log("destory Thermometer"),h.msgTag&&f.unsubscribe(h.msgTag,null,a.$id)};var i=function(b){"wss"==b?f.onReady.then(function(){h.msgTag&&f.subscribe(h.msgTag,h.consumeData.bind(h),a.$id),h.api&&f.call(h.api,h.apiParams,h.msgTag).then(function(a,b){h.consumeData(a)},function(a){console.log("reject published promise",a),h.consumeData()})}):"https"==b&&h.api&&e.get(h.api,h.apiParams).then(function(a,b){h.consumeData(a)},function(a){console.log("reject published promise",a)})};this.consumeData=function(a,b){"function"==typeof this.onFormatData()&&(a=this.onFormatData()(a)),this.value=parseInt(a),this.mercuryColor=this.evaluateColor(a)},this.evaluateColor=function(a){var b=h.outOfRangeColor;return g.some(h.customSectors,function(c){if(c.lo<=a&&a<=c.hi)return b=c.color,!0}),b},this.getLowestTick=function(){return g.min(g.pluck(this.customSectors,"lo"))},this.getHighestTick=function(){return g.max(g.pluck(this.customSectors,"hi"))}}]}),agGrid.initialiseAgGridWithAngular1(angular),angular.module("Grid",["agGrid","ui.bootstrap"]),angular.module("Grid").component("scriptrGrid",{bindings:{onLoad:"&onLoad",columnsDefinition:"<columnsDefinition",rowHeight:"<?",enableServerSideSorting:"<?",enableServerSideFilter:"<?",refreshOnEdit:"<?",enableColResize:"<?",pagination:"@",enableDeleteRow:"<?",fixedHeight:"<?",enableAddRow:"<?",cellEditable:"<?",enableClientSideSorting:"<?",api:"@",onInsertRowScript:"@",onDeleteRowScript:"@",transport:"@",enableClientSideFilter:"<?",rowModelType:"@",rowModelSelection:"@",rowDeselection:"<?",onSelectionChanged:"&?",rowData:"<?",suppressFilter:"<?",gridHeight:"@",paginationPageSize:"<?",paginationOverflowSize:"<?",maxConcurrentDatasourceRequests:"<?",paginationInitialRowCount:"<?",maxPagesInCache:"<?",apiParams:"<?",deleteParams:"<?",addParams:"<?",editParams:"<?",onFormatData:"&",onCellValueChanged:"&",onCellClicked:"&",msgTag:"@",class:"@",defaultCellRenderer:"&",onGridReady:"&"},templateUrl:"/UIComponents/dashboard/frontend/components/grid/grid.html",controller:["$scope","$window","$uibModal","$timeout","wsClient","dataService",function(a,b,c,d,e,f){var g=this;g.broadcastData=null,this.dataSource={getRows:function(a){if(null!=g.broadcastData){if(null!=g.broadcastData.api)var b=g.broadcastData.api;else var b=g.api;if(null!=g.broadcastData.params&&(g.apiParams=g.broadcastData.params),null!=g.broadcastData.transport)var c=g.broadcastData.transport;else var c=g.transport}else var b=g.api,c=g.transport;var d=g.buildParams(a),e=null;"function"==typeof g.onFormatData()&&(e=function(a){return g.onFormatData()(a)}),f.getGridData(b,d,c,e).then(function(b,c){if(b&&b.documents){var d=b.documents,e=parseInt(b.count),f=g.cleanRows(d);if(a.successCallback(f,e),g.gridOptions.api.sizeColumnsToFit(),null==f||0==f.length){g.gridOptions.api.showNoRowsOverlay();angular.element(document.querySelector("#btNext")).attr("disabled","true")}else g.gridOptions.api.hideOverlay()}else a.failCallback(),g.gridOptions.api.showNoRowsOverlay()},function(a){console.log("reject",a)})}},this.$onDestroy=function(){g.msgTag&&e.unsubscribe(g.msgTag,null,a.$id),console.log("destory Grid")},this.cleanRows=function(a){Array.isArray(a)||(a=[a]);for(var b=!1,c=0;c<a.length;c++)for(row in a[c])if("key"!=row){b=!1;for(var d=0;d<g.gridOptions.columnDefs.length;d++)if(row==g.gridOptions.columnDefs[d].field){b=!0;break}b||delete a[c][row]}return a},this._createNewDatasource=function(){this.gridOptions.api.setDatasource(this.dataSource)},this.setGridPaginationIcons=function(){$("button[ref=btPrevious]").html('<img src="//cdn.rawgit.com/scriptrdotio/onset-static-resources/6309fad6/images/previous.png" />'),$("button[ref=btFirst]").html('<img src="//cdn.rawgit.com/scriptrdotio/onset-static-resources/6309fad6/images/first.png" />'),$("button[ref=btNext]").html('<img src="//cdn.rawgit.com/scriptrdotio/onset-static-resources/6309fad6/images/next.png" />'),$("button[ref=btLast]").html('<img src="//cdn.rawgit.com/scriptrdotio/onset-static-resources/6309fad6/images/last.png" />')},this.$onInit=function(){this.gridOptions={unSortIcon:!0,icons:{sortAscending:'<i class="fa fa-sort-up" aria-hidden="true"></i>',sortDescending:'<i class="fa fa-sort-desc" aria-hidden="true"></i>',sortUnSort:'<span class="unsort-state"><i class="fa fa-angle-up" aria-hidden="true"></i><i class="fa fa-angle-down" aria-hidden="true"></i></span>'},domLayout:"autoHeight",angularCompileRows:!0,rowHeight:this.rowHeight?this.rowHeight:25,enableSorting:void 0===this.enableClientSideSorting||this.enableClientSideSorting,enableServerSideSorting:void 0===this.enableServerSideSorting||this.enableServerSideSorting,enableServerSideFilter:void 0===this.enableServerSideFilter||this.enableServerSideFilter,enableColResize:void 0!==this.enableColResize&&this.enableColResize,enableFilter:!0,columnDefs:this.columnsDefinition,editType:"fullRow",pagination:void 0!==this.pagination&&this.pagination,cacheBlockSize:this.paginationPageSize?this.paginationPageSize:50,rowData:this.rowData?this.rowData:null,rowModelType:this.api?"infinite":"",rowSelection:this.rowModelSelection?this.rowModelSelection:"multiple",paginationPageSize:this.paginationPageSize?this.paginationPageSize:50,overlayLoadingTemplate:'<span class="ag-overlay-loading-center"><i class="fa fa-spinner fa-spin fa-fw fa-2x"></i> Please wait while your rows are loading</span>',defaultColDef:{filterParams:{apply:!0},suppressFilter:void 0!==this.suppressFilter&&this.suppressFilter,editable:void 0===this.cellEditable||this.cellEditable,cellRenderer:"function"==typeof this.defaultCellRenderer()?this.defaultCellRenderer():null},onSelectionChanged:function(){if(null!=g.onSelectionChanged&&"function"==typeof g.onSelectionChanged())return g.onSelectionChanged()(g.gridOptions,g.gridApi)},onCellClicked:function(){if(null!=g.onCellClicked&&"function"==typeof g.onCellClicked())return g.onCellClicked()(g.gridOptions,g.gridApi)},onRowValueChanged:function(a){g.cellEditable&&(null!=g.onCellValueChanged&&"function"==typeof g.onCellValueChanged()&&g.onCellValueChanged()(g.gridOptions),"infinite"==g.gridOptions.rowModelType&&(g.api?(g.gridOptions.api.showLoadingOverlay(),g._saveData(a)):(g.undoChanges(),g.showAlert("danger","No script defined for cell edit"))))},onGridReady:function(a){if(console.log("the grid is now ready"),d(function(){g.gridOptions.api=a.api,g.gridApi=a.api},3e3),"function"==typeof g.onGridReady()&&g.onGridReady()(g),a.api.filterManager.availableFilters.text.CONTAINS="startsWith",void 0===g.rowData||null==g.rowData||g.rowData&&0==g.rowData.length?g.api?g._createNewDatasource():a.api.setRowData([]):a.api.sizeColumnsToFit(),this.columnsDefinition)for(var b=0;b<this.columnsDefinition.length;b++)this.columnsDefinition[b].hasOwnProperty("type")&&"numeric"==this.columnsDefinition[b].type&&(this.columnsDefinition[b].filter="number");g.setGridPaginationIcons()},onGridSizeChanged:function(a){g.gridOptions.api.sizeColumnsToFit()}},this.fixedHeight=void 0===this.fixedHeight||this.fixedHeight,this.style={},this.fixedHeight&&(this.gridHeight=this.gridHeight?this.gridHeight:"500",this.style.clear="left",this.style.width="100%"),this.refreshOnEdit=void 0!==this.refreshOnEdit&&this.refreshOnEdit,this.transport=this.transport?this.transport:"wss",this.enableDeleteRow=1!=this.enableDeleteRow,this.enableAddRow=1!=this.enableAddRow,this.mode="infinite"==this.gridOptions.rowModelType?"infinite":"normal",g.msgTag&&f.subscribe(this.onServerCall,g.msgTag,a),a.$on("updateGridData",function(a,b){g.broadcastData=b,g._createNewDatasource()})},this.closeAlert=function(){this.show=!1},this.showAlert=function(a,b){g.message={type:a,content:b},g.showError=!0,d(function(){g.showError=!1},5e3)},this._saveData=function(a){if(a.data&&a.data.key){var b=a.data;if(b.action="edit",this.editParams)for(var c in this.editParams)b[c]=this.editParams[c];f.gridHelper(g.api,b).then(function(a,b){g.gridOptions.api.hideOverlay(),!a||"success"!=a.result&&"success"!=a.status?(g.undoChanges(),a&&a.errorDetail?g.showAlert("danger",a.errorDetail):g.showAlert("danger","An error has occured")):g.refreshOnEdit&&g.onServerCall(a)},function(a){g.gridOptions.api.hideOverlay(),console.log("reject",a),g.showAlert("danger","An error has occured")})}else{var b=a.data;if(b.action="add",this.addParams)for(var c in this.addParams)b[c]=this.addParams[c];f.gridHelper(g.api,a.data).then(function(a,b){g.gridOptions.api.hideOverlay(),!a||"success"!=a.result&&"success"!=a.status?(g.undoChanges(),a&&a.errorDetail?g.showAlert("danger",a.errorDetail):g.showAlert("danger","An error has occured")):g.refreshOnEdit&&g.onServerCall(a)},function(a){g.gridOptions.api.hideOverlay(),console.log("reject",a),g.showAlert("danger","An error has occured")})}},this.onAddRow=function(){for(var a={},b=0;b<g.gridOptions.columnDefs.length;b++)a[g.gridOptions.columnDefs[b].field]="";g.gridOptions.api.insertItemsAtIndex(0,[a]),g.gridOptions.api.setFocusedCell(0,g.gridOptions.columnDefs[0].field),g.gridOptions.api.startEditingCell({rowIndex:0,colKey:g.gridOptions.columnDefs[0].field,charPress:g.gridOptions.columnDefs[0].field})},this.openConfirmationPopUp=function(){if(g.gridOptions.api.getSelectedNodes().length>0){c.open({animation:!0,component:"deleteConfirmation",size:"md",resolve:{grid:function(){return g}}})}},this.onRemoveRow=function(a){if("infinite"==g.gridOptions.rowModelType)if(g.api){for(var b=g.gridOptions.api.getSelectedNodes(),c=[],d=0;d<b.length;d++)c.push(b[d].data.key);if(c.length>0){g.gridOptions.api.showLoadingOverlay();var e={keys:c,action:"delete"};if(this.deleteParams)for(var a in this.deleteParams)e[a]=this.deleteParams[a];f.gridHelper(g.api,e).then(function(a,b){g.gridOptions.api.hideOverlay(),!a||"success"!=a.result&&"success"!=a.status?a&&a.errorDetail?g.showAlert("danger",a.errorDetail):g.showAlert("danger","An error has occured"):g.onServerCall(a)},function(a){g.gridOptions.api.hideOverlay(),console.log("reject",a),g.showAlert("danger","An error has occured")})}}else g.showAlert("danger","No script defined for delete row");else{var b=g.gridOptions.api.getSelectedNodes();g.gridOptions.api.removeItems(b)}},this.onServerCall=function(a){g.gridOptions.api.refreshInfiniteCache()},this.undoChanges=function(a){if(g.oldEditedValue){g.gridOptions.api.forEachNode(function(a){a.childIndex!=g.editedChildIndex&&a.id!=g.editedChildIndex||a.setSelected(!0,!0)});g.gridOptions.api.getSelectedNodes()[0].data[g.editedColumn]=g.oldEditedValue,g.gridOptions.api.refreshView()}else g.gridOptions.api.refreshInfiniteCache()},this.onFilterChanged=function(){this.gridOptions.enableServerSideFilter=!1,this.gridOptions.api.setQuickFilter(this.quickFilterValue),this.gridOptions.enableServerSideFilter=!0},this.onServerFilterChanged=function(){g._createNewDatasource()},this.buildParams=function(a){var b=g.serverFilterText,c=null,d=a.endRow/this.gridOptions.paginationPageSize;if(a.sortModel&&a.sortModel.length>0){var e=a.sortModel[0].sort,f=a.sortModel[0].colId;c=this.gridOptions.api.getColumnDef(f).type?this.gridOptions.api.getColumnDef(f).type:null}if(a.filterModel)for(p in a.filterModel){b=a.filterModel[p].filter;var h=a.filterModel[p].type,i=p;c=this.gridOptions.api.getColumnDef(i).type?this.gridOptions.api.getColumnDef(i).type:null}var j={resultsPerPage:this.gridOptions.paginationPageSize,pageNumber:d};if(f&&(j.sortingColumnName=f),i&&(j.filterColumnName=i),e&&(j.sort=e),c&&(j.sortType=c),b&&(j.queryFilter=b),h&&(j.queryType=h),j.startRow=a.startRow,j.endRow=a.endRow,this.apiParams)for(var k in this.apiParams)j[k]=this.apiParams[k];return j}}]}),angular.module("Grid").service("dataService",["httpClient","wsClient","$q",function(a,b,c){this.subscribe=function(a,c,d){b.onReady.then(function(){b.subscribe(c,a.bind(self),d.$id)})},this.gridHelper=function(b,d){var e=c.defer();return a.get(b,d,"grid").then(function(a,b){e.resolve(a,b)},function(a){e.reject(a)}),e.promise},this.getGridData=function(d,e,f,g){var h=c.defer();return"https"==f?(a.get(d,e).then(function(a,b){if(g&&(a=g(a)),a&&a.documents){var a={documents:a.documents,count:a.count};h.resolve(a,b)}else h.resolve(null,b)},function(a){h.resolve(null),h.reject(a)}),h.promise):"wss"==f?d&&void 0!==d?(b.onReady.then(function(){b.call(d,e,"grid").then(function(a,b){if(g&&(a=g(a)),a&&a.documents){var a={documents:a.documents,count:a.count};h.resolve(a,b)}else h.resolve(null,b)},function(a){h.resolve(null),h.reject(a)})}),h.promise):(b.onReady.then(function(){b.publish(e,"publish").then(function(a,b){if(a&&a.documents){var a={documents:a.documents,count:a.count};h.resolve(a,b)}else h.resolve(null,b)},function(a){h.resolve(null),h.reject(a)})}),h.promise):void 0}}]),angular.module("Grid").component("deleteConfirmation",{bindings:{resolve:"<",close:"&",dismiss:"&"},templateUrl:"/UIComponents/dashboard/frontend/components/grid/popup.html",controller:["$scope",function(a){this.onSubmit=function(){this.resolve.grid.onRemoveRow(),this.close({$value:!0})},this.onCancel=function(){this.dismiss({$value:!1})}}]}),angular.module("ACL",["ui.bootstrap","List"]),angular.module("ACL").component("scriptrAcl",{bindings:{users:"<?",defaultSetObject:"<?",onSave:"&"},templateUrl:"/UIComponents/dashboard/frontend/components/ACL/ACL.html",controller:["$uibModal",function(a){var b=this;this.$onInit=function(){console.log("$onInit initialized"),b.accessType=1==b.users.length&&"anonymous"==b.users[0].code?"Anonymous access":"Restricted access"},this.$postLink=function(){console.log("$postLink initialized")},this.openModal=function(){a.open({animation:!0,size:"lg",component:"aclPopup",resolve:{widget:function(){return{parent:b,users:b.users,defaultSetObject:b.defaultSetObject,onSave:b.onSave}}}}).result.then(function(a){console.log("selectedItem: "+a)},function(){})}}]}),angular.module("ACL").component("aclPopup",{bindings:{resolve:"<",users:"<?",defaultSetObject:"<?",close:"&",dismiss:"&"},templateUrl:"/UIComponents/dashboard/frontend/components/ACL/myModalContent.html",controller:["$scope","$sce",function(a,b){var c=this;c.listScope,this.$onInit=function(){c.users=c.resolve.widget.users,c.defaultSetObject=c.resolve.widget.defaultSetObject,c.popoverContent=b.trustAsHtml("<span style='color: #323232;'><strong>Scriptr.io provides the following predefined groups:</strong><div class='mt10 mb5'><i class='fa fa-caret-right text-primary'></i> authenticated represents anyone with a valid token.</div><div class='mb5'><i class='fa fa-caret-right text-primary'></i> anonymous represents everyone.</div><div class='mb5'><i class='fa fa-caret-right text-primary'></i> nobody represents no one.</div></span>")},this.onSelect=function(a){c.resolve.modalScope=this,"anonymous"==a.originalObject[this.titleField]&&(this.disableInput=!0,this.hideObjects=!0,c.showMsg=!0)},this.removeAnonymousAccess=function(){c.showMsg=!1,c.resolve.modalScope.disableInput=!1,c.resolve.modalScope.hideObjects=!1;var b=[{code:"anonymous",icon:"fa fa-group"}];a.$broadcast("angucomplete-alt:addObjectToList",c.id,b)},this.addAnonymousAccess=function(){c.showMsg=!1,c.resolve.modalScope.disableInput=!1,c.resolve.modalScope.hideObjects=!1;for(var b=[],d=0;d<c.resolve.modalScope.objects.length;d++)"anonymous"!=c.resolve.modalScope.objects[d].code&&b.push(c.resolve.modalScope.objects[d]);a.$broadcast("angucomplete-alt:addObjectToList",c.id,b)},this.closeAlert=function(){this.show=!1},this.showAlert=function(a,b){this.closeAlert(),this.message={type:a,content:b},this.show=!0},this.updateFileACL=function(){c.listScope||(c.listScope=a.$broadcast("angucomplete-alt:getSetObjects",c.id));var b=c.listScope.targetScope.$$childTail.$ctrl;if("function"==typeof c.resolve.widget.onSave()){var d=[];if(void 0===b.objects&&(b.objects=c.resolve.modalScope.objects),b.objects.length>0)var e=b.objects;else var e=c.resolve.widget.defaultSetObject;for(var f=0;f<e.length;f++)d.push(e[f].code);b.showList=!1,c.resolve.widget.onSave()(d).then(function(a,d){b.showList=!0,c.showAlert("success","The Access Control List is saved successfully."),c.resolve.widget.parent.users=b.objects,c.resolve.widget.parent.accessType=1==b.objects.length&&"anonymous"==b.objects[0].code?"Anonymous access":"Restricted access",console.log("success")},function(a){b.showList=!0,c.showMsg("danger",a.data.response.metadata.errorDetail),console.log("reject",a)})}},this.onCancel=function(a){this.dismiss({$value:"cancel"}),console.log("Dissmisseddd")}}]}),angular.module("List",["angucomplete-alt"]).component("scriptrAutocomplete",{bindings:{id:"@",objects:"<?",hideObjects:"<?",listSelectedObject:"<?",defaultSetObject:"<?",placeholder:"@",maxlength:"@",pause:"@",selectedObject:"<?",selectedObjectData:"<?",titleField:"@",descriptionField:"@",imageField:"@",minlength:"@",inputName:"@",inputClass:"@",matchClass:"@",localData:"<?",searchFields:"@",clearSelected:"@",overrideSuggestions:"@",fieldRequired:"@",fieldRequiredClass:"@",textSearching:"@",textNoResults:"@",initialValue:"@",inputChanged:"&",autoMatch:"@",focusIn:"&",focusOut:"&",disableInput:"@",focusFirst:"@",fieldTabindex:"@",parseInput:"&",localSearch:"&",transport:"@",msgTag:"@",api:"@",onFormatData:"&"},templateUrl:"/UIComponents/dashboard/frontend/components/list/autocomplete.html",controller:["$scope","wsClient","httpClient",function(a,b,c){var d=this;this.$onInit=function(){this.localData=this.localData?this.localData:[],this.fieldRequired=void 0!==this.fieldRequired&&this.fieldRequired,this.textSearching=void 0!==this.textSearching&&this.textSearching,this.transport=this.transport?this.transport:"wss",this.objects=this.objects?this.objects:[],this.listSelectedObject&&this.objects.length>0&&!d.api&&(a.$broadcast("angucomplete-alt:setData",d.id,this.localData),a.$broadcast("angucomplete-alt:setSelectedObjects",d.id,this.objects)),d.api&&(d.showList=!1,e(this.transport))},d.addObjectToList=function(b){a.$broadcast("angucomplete-alt:addObjectToList",d.id,b),0==this.objects.length&&void 0!==this.defaultSetObject&&(this.objects=JSON.parse(JSON.stringify(this.defaultSetObject)))};var e=function(a){"wss"==a?b.onReady.then(function(){b.subscribe(d.msgTag,d.consumeData.bind(d)),d.api&&b.call(d.api,d.apiParams,d.msgTag).then(function(a,b){d.consumeData(a)})}):"https"==a&&d.api&&c.get(d.api,d.apiParams).then(function(a,b){d.consumeData(a)},function(a){console.log("reject published promise",a)})};this.consumeData=function(b,c){d.showList=!0,"function"==typeof d.onFormatData()&&(b=d.onFormatData()(b)),this.localData=b,this.listSelectedObject&&this.objects.length>0&&(a.$broadcast("angucomplete-alt:setData",d.id,this.localData),a.$broadcast("angucomplete-alt:setSelectedObjects",d.id,this.objects))}}]}),angular.module("Dygraphs",["angular-dygraphs"]),angular.module("Dygraphs").component("scriptrDygraphs",{bindings:{onLoad:"&onLoad",api:"@",transport:"@",msgTag:"@",apiParams:"<?",onFormatData:"&",resize:"<?",data:"<?",legend:"<?",drawX1Axis:"@",drawYAxis:"@",drawY2Axis:"@",colors:"@",x1AxisLabelFontSize:"@",yAxisLabelFontSize:"@",y2AxisLabelFontSize:"@",yAxisLabelsKmb:"@",y2AxisLabelsKmb:"@",x1AxisLabelWidth:"@",yAxisLabelWidth:"@",y2AxisLabelWidth:"@",x1AxisLineColor:"@",yAxisLineColor:"@",y2AxisLineColor:"@",x1AxisLineWidth:"@",yAxisLineWidth:"@",y2AxisLineWidth:"@",x1AxisTickSize:"@",yAxisTickSize:"@",y2AxisTickSize:"@",yAxisIncludeZero:"@",y2AxisIncludeZero:"@",x1AxisLabel:"@",yAxisLabel:"@",y2AxisLabel:"@",showRangeSelector:"@",rangeSelectorAlpha:"@",rangeSelectorBackgroundLineWidth:"@",rangeSelectorBackgroundStrokeColor:"@",rangeSelectorForegroundLineWidth:"@",rangeSelectorForegroundStrokeColor:"@",rangeSelectorHeight:"@",rangeSelectorPlotFillColor:"@",
rangeSelectorPlotFillGradientColor:"@",rangeSelectorPlotLineWidth:"@",rangeSelectorPlotStrokeColor:"@",goals:"<?",goalLineColors:"<?",events:"<?",eventLineColors:"<?",legendPosition:"@",showLegend:"@",x1DrawGrid:"@",yDrawGrid:"@",y2DrawGrid:"@",x1GridLineColor:"@",yGridLineColor:"@",y2GridLineColor:"@",x1GridLineWidth:"@",yGridLineWidth:"@",y2GridLineWidth:"@",legendLabels:"<?",independentTicks:"@",legendMapping:"<?"},templateUrl:"/UIComponents/dashboard/frontend/components/dygraphs/dygraphs.html",controller:["httpClient","wsClient","$scope","$timeout",function(a,b,c,d){var e=this;this.$onInit=function(){void 0===this.api&&void 0===this.msgTag&&(this.data&&0==this.data.length||null==this.data)&&(this.noResults=!0),this.drawX1Axis=!this.drawX1Axis||JSON.parse(this.drawX1Axis),this.drawYAxis=!this.drawYAxis||JSON.parse(this.drawYAxis),this.drawY2Axis=!this.drawY2Axis||JSON.parse(this.drawY2Axis),this.colors=this.colors?this.colors:["#005588","#aa241d"],this.goals=this.goals?this.goals:[],this.goalLineColors=this.goalLineColors?this.goalLineColors:["#ffffff"],this.events=this.events?this.events:[],this.eventLineColors=this.eventLineColors?this.eventLineColors:["#ffffff"],this.x1AxisLabelFontSize=this.x1AxisLabelFontSize?JSON.parse(this.x1AxisLabelFontSize):14,this.yAxisLabelFontSize=this.yAxisLabelFontSize?JSON.parse(this.yAxisLabelFontSize):14,this.y2AxisLabelFontSize=this.y2AxisLabelFontSize?JSON.parse(this.y2AxisLabelFontSize):14,this.yAxisLabelsKmb=!!this.yAxisLabelsKmb&&JSON.parse(this.yAxisLabelsKmb),this.y2AxisLabelsKmb=!!this.y2AxisLabelsKmb&&JSON.parse(this.y2AxisLabelsKmb),this.x1AxisLabelWidth=this.x1AxisLabelWidth?JSON.parse(this.x1AxisLabelWidth):60,this.yAxisLabelWidth=this.yAxisLabelWidth?JSON.parse(this.yAxisLabelWidth):50,this.y2AxisLabelWidth=this.y2AxisLabelWidth?JSON.parse(this.y2AxisLabelWidth):50,this.x1AxisLineColor=this.x1AxisLineColor?this.x1AxisLineColor:"#000000",this.yAxisLineColor=this.yAxisLineColor?this.yAxisLineColor:"#000000",this.y2AxisLineColor=this.y2AxisLineColor?this.y2AxisLineColor:"#000000",this.showLegend=!this.showLegend||JSON.parse(this.showLegend),this.x1AxisLabel=this.x1AxisLabel?this.x1AxisLabel:"",this.yAxisLabel=this.yAxisLabel?this.yAxisLabel:"",this.y2AxisLabel=this.y2AxisLabel?this.y2AxisLabel:"",this.x1AxisLineWidth=this.x1AxisLineWidth?JSON.parse(this.x1AxisLineWidth):.3,this.yAxisLineWidth=this.yAxisLineWidth?JSON.parse(this.yAxisLineWidth):.3,this.y2AxisLineWidth=this.y2AxisLineWidth?JSON.parse(this.y2AxisLineWidth):.3,this.x1AxisTickSize=this.x1AxisTickSize?JSON.parse(this.x1AxisTickSize):3,this.yAxisTickSize=this.yAxisTickSize?JSON.parse(this.yAxisTickSize):3,this.y2AxisTickSize=this.y2AxisTickSize?JSON.parse(this.y2AxisTickSize):3,this.yAxisIncludeZero=!!this.yAxisIncludeZero&&JSON.parse(this.yAxisIncludeZero),this.y2AxisIncludeZero=!!this.y2AxisIncludeZero&&JSON.parse(this.y2AxisIncludeZero),this.showRangeSelector=!!this.showRangeSelector&&JSON.parse(this.showRangeSelector),this.rangeSelectorAlpha=this.rangeSelectorAlpha?JSON.parse(this.rangeSelectorAlpha):.6,this.rangeSelectorBackgroundLineWidth=this.rangeSelectorBackgroundLineWidth?JSON.parse(this.rangeSelectorBackgroundLineWidth):1,this.rangeSelectorBackgroundStrokeColor=this.rangeSelectorBackgroundStrokeColor?this.rangeSelectorBackgroundStrokeColor:"#808080",this.rangeSelectorForegroundLineWidth=this.rangeSelectorForegroundLineWidth?JSON.parse(this.rangeSelectorForegroundLineWidth):1,this.rangeSelectorForegroundStrokeColor=this.rangeSelectorForegroundStrokeColor?this.rangeSelectorForegroundStrokeColor:"#000000",this.rangeSelectorHeight=this.rangeSelectorHeight?JSON.parse(this.rangeSelectorHeight):40,this.rangeSelectorPlotFillColor=this.rangeSelectorPlotFillColor?this.rangeSelectorPlotFillColor:"#A7B1C4",this.rangeSelectorPlotFillGradientColor=this.rangeSelectorPlotFillGradientColor?this.rangeSelectorPlotFillGradientColor:"#FFFFFF",this.rangeSelectorPlotLineWidth=this.rangeSelectorPlotLineWidth?JSON.parse(this.rangeSelectorPlotLineWidth):1.5,this.rangeSelectorPlotStrokeColor=this.rangeSelectorPlotStrokeColor?this.rangeSelectorPlotStrokeColor:"#808FAB",this.x1DrawGrid=!this.x1DrawGrid||JSON.parse(this.x1DrawGrid),this.yDrawGrid=!this.yDrawGrid||JSON.parse(this.yDrawGrid),this.y2DrawGrid=!!this.y2DrawGrid&&JSON.parse(this.y2DrawGrid),this.x1GridLineColor=this.x1GridLineColor?this.x1GridLineColor:"#000000",this.yGridLineColor=this.yGridLineColor?this.yGridLineColor:"#000000",this.y2GridLineColor=this.y2GridLineColor?this.y2GridLineColor:"#000000",this.x1GridLineWidth=this.x1GridLineWidth?JSON.parse(this.x1GridLineWidth):.3,this.yGridLineWidth=this.yGridLineWidth?JSON.parse(this.yGridLineWidth):.3,this.y2GridLineWidth=this.y2GridLineWidth?JSON.parse(this.y2GridLineWidth):.3,this.xDrawGrid=!this.xDrawGrid||JSON.parse(this.xDrawGrid),this.independentTicks=this.independentTicks?this.independentTicks:"y-primary",this.legendLabels=this.legendLabels?this.legendLabels:["X","Y1","Y2","Y3","Y4"],this.legendMapping=this.legendMapping?this.legendMapping:["x","y","y","y2","y2"],this.options={},this.options.axes={},this.x1AxisLabel&&""!=this.x1AxisLabel&&(this.options.xlabel=this.x1AxisLabel),this.yAxisLabel&&""!=this.yAxisLabel&&(this.options.ylabel=this.yAxisLabel),this.y2AxisLabel&&""!=this.y2AxisLabel&&(this.options.y2label=this.y2AxisLabel),this.legendLabels&&""!=this.legendLabels&&(this.options.labels=this.legendLabels),this.options.axes.x={},this.options.axes.x.drawAxis=JSON.parse(this.drawX1Axis),this.options.axes.x.axisLabelFontSize=JSON.parse(this.x1AxisLabelFontSize),this.options.axes.x.axisLabelWidth=JSON.parse(this.x1AxisLabelWidth),this.options.axes.x.axisLineColor=this.x1AxisLineColor,this.options.axes.x.axisLineWidth=JSON.parse(this.x1AxisLineWidth),this.options.axes.x.axisTickSize=JSON.parse(this.x1AxisTickSize),this.options.axes.y={},this.options.axes.y.drawAxis=JSON.parse(this.drawYAxis),this.options.axes.y.axisLabelFontSize=JSON.parse(this.yAxisLabelFontSize),this.options.axes.y.axisLabelWidth=JSON.parse(this.yAxisLabelWidth),this.options.axes.y.axisLineColor=this.yAxisLineColor,this.options.axes.y.axisLineWidth=JSON.parse(this.yAxisLineWidth),this.options.axes.y.axisTickSize=JSON.parse(this.yAxisTickSize),this.options.axes.y.includeZero=JSON.parse(this.yAxisIncludeZero),this.options.axes.y.labelsKMB=JSON.parse(this.yAxisLabelsKmb),this.options.axes.y2={},this.options.axes.y2.drawAxis=JSON.parse(this.drawY2Axis),this.options.axes.y2.axisLabelFontSize=JSON.parse(this.y2AxisLabelFontSize),this.options.axes.y2.axisLabelWidth=JSON.parse(this.y2AxisLabelWidth),this.options.axes.y2.axisLineColor=this.y2AxisLineColor,this.options.axes.y2.axisLineWidth=JSON.parse(this.y2AxisLineWidth),this.options.axes.y2.axisTickSize=JSON.parse(this.y2AxisTickSize),this.options.axes.y2.includeZero=JSON.parse(this.y2AxisIncludeZero),this.options.axes.y2.labelsKMB=JSON.parse(this.y2AxisLabelsKmb),this.options.showRangeSelector=JSON.parse(this.showRangeSelector),this.options.rangeSelectorAlpha=JSON.parse(this.rangeSelectorAlpha),this.options.rangeSelectorBackgroundLineWidth=JSON.parse(this.rangeSelectorBackgroundLineWidth),this.options.rangeSelectorBackgroundStrokeColor=this.rangeSelectorBackgroundStrokeColor,this.options.rangeSelectorForegroundLineWidth=JSON.parse(this.rangeSelectorForegroundLineWidth),this.options.rangeSelectorForegroundStrokeColor=this.rangeSelectorForegroundStrokeColor,this.options.rangeSelectorHeight=JSON.parse(this.rangeSelectorHeight),this.options.rangeSelectorPlotFillColor=this.rangeSelectorPlotFillColor,this.options.rangeSelectorPlotFillGradientColor=this.rangeSelectorPlotFillGradientColor,this.options.rangeSelectorPlotLineWidth=JSON.parse(this.rangeSelectorPlotLineWidth),this.options.rangeSelectorPlotStrokeColor=this.rangeSelectorPlotStrokeColor,this.options.colors=JSON.parse(this.colors),this.showLegend?(this.options.showLabelsOnHighlight=!0,this.options.legend="always"):(this.options.showLabelsOnHighlight=!1,this.options.hideOverlayOnMouseOut=!0),this.options.legendPosition=this.legendPosition?this.legendPosition:"top",this.options.axes.x.valueFormatter=function(a){var b=new Date(a);return b=b.toLocaleDateString()},this.options.axes.x.drawGrid=JSON.parse(this.x1DrawGrid),this.options.axes.y.drawGrid=JSON.parse(this.yDrawGrid),this.options.axes.y2.drawGrid=JSON.parse(this.y2DrawGrid),this.options.axes.x.gridLineColor=this.x1GridLineColor,this.options.axes.y.gridLineColor=this.yGridLineColor,this.options.axes.y2.gridLineColor=this.y2GridLineColor,this.options.axes.x.gridLineWidth=JSON.parse(this.x1GridLineWidth),this.options.axes.y.gridLineWidth=JSON.parse(this.yGridLineWidth),this.options.axes.y2.gridLineWidth=JSON.parse(this.y2GridLineWidth),"y-primary"==this.independentTicks?(this.options.axes.y.independentTicks=!0,this.options.axes.y2.independentTicks=!1):"y2-primary"==this.independentTicks?(this.options.axes.y.independentTicks=!1,this.options.axes.y2.independentTicks=!0):"independent"==this.independentTicks&&(this.options.axes.y.independentTicks=!0,this.options.axes.y2.independentTicks=!0),this.options.goals=this.goals?this.goals:[],this.options.goalLineColors=this.goalLineColors?this.goalLineColors:["#ffffff"],this.options.events=this.events?this.events:[],this.options.eventLineColors=this.eventLineColors?this.eventLineColors:["#ffffff"],this.options.series={};for(var a=[],b=0;b<this.data.length;b++)this.data[b][0]=new Date(this.data[b][0]),a.push(this.data[b]);this.data=a;for(var c=0;c<this.legendLabels.length;c++){var d=this.legendLabels[c];0!=c&&"y2"==this.legendMapping[c]&&this.drawY2Axis&&(d?this.options.series[d]={axis:this.legendMapping[c]}:this.options.series["Y"+c]={axis:this.legendMapping[c]})}this.resize=!this.resize||this.resize,this.transport=this.transport?this.transport:"wss",this.msgTag=this.msgTag?this.msgTag:null},this.$postLink=function(){f(this.transport),this.data&&!this.api?(e.timeout=!1,d(function(){e.consumeData(e.data)},2e3)):e.timeout=!0,c.$watch(function(a){if(a.$ctrl.data&&1==e.timeout)return a.$ctrl.data},function(a){a&&(e.datas=a,e.noResults=!1)})},this.$onDestroy=function(){console.log("destory chart",e.msgTag,c.$id),e.msgTag&&b.unsubscribe(e.msgTag,null,c.$id)};var f=function(d){"wss"==d?b.onReady.then(function(){e.msgTag&&b.subscribe(e.msgTag,e.consumeData.bind(e),c.$id),e.api&&b.call(e.api,e.apiParams,e.msgTag).then(function(a,b){e.consumeData(a)},function(a){console.log("reject published promise",a),e.consumeData()})}):"https"==d&&e.api&&a.get(e.api,e.apiParams).then(function(a,b){e.consumeData(a)},function(a){console.log("reject published promise",a),e.consumeData()})};this.consumeData=function(a,b){e.timeout=!0;for(var c=0;c<a.length;c++)a[c][0]=new Date(a[c][0]);"function"==typeof e.onFormatData()&&(a=e.onFormatData()(a)),a&&a.length>0&&"object"==typeof a?(this.datas=a,this.noResults=!1):(this.datas=[],this.noResults=!0)}}]}),angular.module("plotly",["angularPlotly"]),angular.module("plotly").component("scriptrPlotly",{bindings:{onLoad:"&onLoad",api:"@",retrievedData:"<?",customRanges:"<?",layout:"<?",options:"<?",transport:"@",showLegend:"@",fontSize:"@",msgTag:"@",apiParams:"<?",onFormatData:"&"},templateUrl:"/UIComponents/dashboard/frontend/components/plotly/plotly.html",controller:["$scope","$window","$element","$timeout","httpClient","wsClient","_",function(a,b,c,d,e,f,g){var h=this;this.directions=["N","NNE","ENE","E","ESE","SSE","S","SSW","WSW","W","WNW","NNW"],this.speedUnit="m/s",this.$onInit=function(){this.customRanges=this.customRanges&&this.customRanges.length>0?this.customRanges:[{color:"#00476b",lo:0,hi:2},{color:"#005487",lo:2,hi:4},{color:"#006699",lo:4,hi:6},{color:"#0082b5",lo:6,hi:8},{color:"#0294c1",lo:8,hi:10},{color:"#06a9ce",lo:10,hi:20}],this.retrievedData=this.retrievedData?this.retrievedData:[],this.showLegend=this.showLegend?this.showLegend:"true",this.fontSize=this.fontSize?this.fontSize:"12",this.layout={title:"",font:{size:this.fontSize},radialaxis:{ticksuffix:"%"},orientation:270},this.maxRange=g.max(g.pluck(this.customRanges,"hi")),this.listOfMinRanges=g.pluck(this.customRanges,"lo"),this.listOfMaxRanges=g.pluck(this.customRanges,"hi"),this.listOfColors=g.pluck(this.customRanges,"color"),this.listOfColors.push("#10c3e0"),this.style={},angular.element(b).on("resize",function(){return null!=h.timeoutId&&d.cancel(h.timeoutId),h.timeoutId=d(h.resize,100)}),i(this.transport)},h.resize=function(){h.timeoutId=null,h.style.height=c.parent()[0].clientHeight,h.style.width=c.parent()[0].clientWidth,h.layout={title:"",font:{size:h.fontSize},radialaxis:{ticksuffix:"%"},orientation:270,width:c.parent()[0].clientWidth,height:c.parent()[0].clientHeight}},this.$postLink=function(){d(h.resize,100),null!=h.timeoutId&&d.cancel(h.timeoutId),h.timeoutId=d(h.resize,100),a.$watch(function(a){return a.$ctrl.retrievedData},function(a){h.retrievedData=a})},this.$onDestroy=function(){console.log("destory wind rose"),h.msgTag&&f.unsubscribe(h.msgTag,null,a.$id)};var i=function(b){"wss"==b?f.onReady.then(function(){h.msgTag&&f.subscribe(h.msgTag,h.consumeData.bind(h),a.$id),h.api&&f.call(h.api,h.apiParams,h.msgTag).then(function(a,b){h.consumeData(a)},function(a){console.log("reject published promise",a),h.consumeData()})}):"https"==b&&h.api&&e.get(h.api,h.apiParams).then(function(a,b){h.consumeData(a)},function(a){console.log("reject published promise",a)})};this.consumeData=function(a,b){"function"==typeof this.onFormatData()&&(a=this.onFormatData()(a)),this.retrievedData=a,this.buildWindRoseData()},this.buildWindRoseData=function(){var a=g.pluck(h.retrievedData,"speeds");h.totalSpeeds=0;for(var b=0;b<a.length;b++)h.totalSpeeds+=a[b].length;h.speedRangeDirectionObj={};for(var b=0;b<h.listOfMinRanges.length;b++)h.speedRangeDirectionObj[h.listOfMinRanges[b]+"-"+h.listOfMaxRanges[b]]=[];h.speedRangeDirectionObj[">="+h.maxRange]=[];for(var b=0;b<h.retrievedData.length;b++){for(var c=h.retrievedData[b].direction,d=h.retrievedData[b].speeds,e=0;e<h.customRanges.length;e++){var f=this.customRanges[e],i=g.filter(d,function(a){return a>=f.lo&&a<f.hi}).length;h.speedRangeDirectionObj[h.customRanges[e].lo+"-"+h.customRanges[e].hi].push({direction:c,percentage:i/h.totalSpeeds*100})}var j=h.maxRange,k=g.filter(d,function(a){return a>=j}).length;h.speedRangeDirectionObj[">="+h.maxRange].push({direction:c,percentage:k/h.totalSpeeds*100})}for(var l=Object.keys(h.speedRangeDirectionObj),m=Object.keys(h.speedRangeDirectionObj)[0],n=(h.speedRangeDirectionObj[m],JSON.parse(JSON.stringify(h.speedRangeDirectionObj))[m]),b=0;b<l.length;b++){var o=l[b],p=h.speedRangeDirectionObj[o];if(o!=m){for(var e=0;e<p.length;e++)n[e].percentage=p[e].percentage+n[e].percentage,0!=p[e].percentage&&(p[e].percentage=n[e].percentage);h.speedRangeDirectionObj[o]=p}}h.data=[],l=Object.keys(h.speedRangeDirectionObj);for(var b=l.length-1;b>=0;b--){var q=g.pluck(h.speedRangeDirectionObj[l[b]],"percentage"),r=l[b],s=h.listOfColors[b],t={r:q,t:h.directions,name:r+" "+h.speedUnit,marker:{color:s},type:"area",showlegend:!h.showLegend||"true"==h.showLegend};h.data.push(t)}}}]}),angular.module("MenuLayout",["ui.bootstrap","ngAnimate","ngSanitize"]).config(["$compileProvider",function(a){a.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|javascript):/)}]).component("menu",{bindings:{menuOpened:"<?",transport:"@",api:"@",msgTag:"@",apiParams:"<?",user:"<?"},templateUrl:"/UIComponents/layout/frontend/components/onsetmenu/menu.html",controller:["$scope","$window","httpClient","wsClient",function(a,b,c,d){this.opened=!0,this.firstLoad=!0,this.webVersion=!0;var e=this;this.menuArray=[],this.changeIsCollapsed=function(b){a["isCollapsed"+b]=!a["isCollapsed"+b]},this.$onInit=function(){this.windowWidth=b.innerWidth,this.windowWidth>=992?this.webVersion=!0:this.webVersion=!1,this.webVersion||(this.opened=!1),this.initDataService()},this.openCloseChild=function(a){console.log("click: ",this.opened),this.opened=!this.opened,this.firstLoad=!1,a.stopPropagation()},this.closeChild=function(a){console.log("out",this.opened),this.opened=!1,this.firstLoad=!1,a.stopPropagation()},this.initDataService=function(){"wss"==this.transport?d.onReady.then(function(){e.msgTag&&d.subscribe(e.msgTag,e.consumeData.bind(e),a.$id),e.api&&d.call(e.api,e.apiParams,e.msgTag).then(function(a,b){e.consumeData(a)},function(a){console.log("reject published promise",a),e.consumeData()})}):"https"==this.transport&&this.api&&c.get(e.api,e.apiParams).then(function(a,b){e.consumeData(a)},function(a){console.log("reject published promise",a)})},this.consumeData=function(a,b){console.log("data: ",a),a&&(this.menuArray=a,this.prepareMenuParams())},this.prepareMenuParams=function(){for(var b=0;b<this.menuArray.length;b++)a["isCollapsed"+b]=!0},angular.element(b).bind("resize",function(){a.$apply(function(){a.windowWidth=b.innerWidth,a.windowWidth>=992?e.webVersion=!0:e.webVersion=!1})})}]});var underscore=angular.module("underscore",[]);underscore.factory("_",["$window",function(a){return a._}]),angular.module("DashboardBuilder",["underscore","schemaForm","ACL","Grid","Message","xeditable","ui.bootstrap","ngRoute","slickCarousel","ngAnimate","ngSanitize","WsClient","HttpClient","Chart","gridster","DashboardBuilder","Gauge","Speedometer","Odometer","SearchBox","ngMaterial","ngMessages","material.svgAssetsCache","Thermometer","ProgressBar","angularSpectrumColorpicker","angular-underscore/filters","pascalprecht.translate","ui.select","ui.codemirror","Display","Dygraphs","plotly","pascalprecht.translate","ngSchemaFormFile","mgcrea.ngStrap","mgcrea.ngStrap.modal","mgcrea.ngStrap.select","MenuLayout"]),angular.module("DashboardBuilder").constant("common",{formTab:{title:"Data",hidden:!0,items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:[{key:"transport",notitle:!1,type:"strapselect",titleMap:[{value:"wss",name:"wss"},{value:"https",name:"https"}]}]},{type:"section",htmlClass:"col-xs-6",items:[{key:"msg-tag",condition:"model.transport=='wss'"},{key:"http-method",notitle:!1,type:"strapselect",titleMap:[{value:"GET",name:"GET"}],condition:"model.transport=='https'"}]}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:["api"]},{type:"section",htmlClass:"col-xs-6",items:["api-params"]}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-12",items:[{key:"data"},{key:"on-format-data",type:"codemirror",codemirrorOptions:{value:"return",styleActiveLine:!0,lineNumbers:!0,lineWrapping:!0,autoCloseBrackets:!0,matchBrackets:!0,theme:"neo",mode:"javascript",readOnly:!1,autoRefresh:!0}}]}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-12",items:[{type:"help",helpvalue:"<hr>"}]}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-12",items:[{type:"help",helpvalue:'<div class="alert alert-info"><ul><li>Messages published over the subscibe channel need to have the following format in order to be consumed by a widget:<ul><li>{id: &lt;message tag value&gt;, result: &lt;static data structure&gt;}</li></ul></li><li>A script would publish a message  over the subscribe channel as follow:<ul><li>publish(responseChannel, {id: &lt;message tag value&gt;, result: &lt;static data structure&gt;});</li></ul></li><li>Whether https or wss transport is used, Sciptr API should return the static data structure for widget initial load:<ul><li>return &lt;static data structure&gt;;</li></ul></li></ul></div>'}]}]}]},schemaFields:{api:{title:"Api",type:"string",description:"Name of the scriptr api (script name) responsible for publishing or returning the widget data."},"api-params":{title:"Api params",type:"string",description:"A JSON formatted object containing the parameters to be sent to the scriptr api.","x-schema-form":{type:"textarea",placeholder:"Ex: {'id' : '599865'}"}},"http-method":{title:"Http method",type:"string",description:"Method to be used when calling the scriptr api over https. Default: GET.",default:"GET",placeholder:" "},transport:{title:"Transport",type:"string",description:"Protocol used to call the  scriptr api. Use wss for real time communication whenever your widget needs to update its data live by consuming messages published from scriptr over the subscribe channel defined in settings.",placeholder:" "},"msg-tag":{title:"Message tag",type:"string",description:"The dashboard widgets consume messages published over the subscribe channel defined in dashboard settings. Message tag is an identifier sent as part of the published message. The widget uses it to know which messages to consume or ignore."},"on-format-data":{title:"Format data",default:"return data;",type:"string",description:"Callback function to be called after data is returned from backend."}}}),angular.module("DashboardBuilder").constant("config",{script:{form:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-12 col-md-1 file-attachment",items:[{key:"image",type:"nwpFileUpload",i18n:{add:"Open file browser",preview:"Preview Upload",filename:"File Name",progress:"Progress Status",upload:"Upload",dragorclick:"Drag and drop your file here or click here"},notitle:!0}]},{type:"section",htmlClass:"col-xs-12 col-md-5",items:[{key:"dashboardName",notitle:!0,placeholder:"Dashboard Name"}]},{type:"section",htmlClass:"col-xs-12 col-md-3 period-select-box",items:[{key:"period",type:"strapselect",notitle:!0,placeholder:"Period",titleMap:[{value:"past_day",name:"Past day"},{value:"past_week",name:"Past week"},{value:"past_month",name:"Past month"}]}]},{type:"section",htmlClass:"col-xs-12 col-md-3 unit-select-box",items:[{key:"unit",notitle:!0,placeholder:"Unit",type:"strapselect",titleMap:[{value:"si",name:"SI units"},{value:"us",name:"US units"}]}]}]}],schema:{type:"object",title:"Schema",properties:{scriptName:{type:"hidden",fieldHtmlClass:"script-name-input"},dashboardName:{type:"string",fieldHtmlClass:"script-name-input"},image:{title:"Image",type:"array",format:"singlefile",default:"//cdn.rawgit.com/scriptrdotio/onset-static-resources/a923190a/images/default-icon.svg","x-schema-form":{type:"array"},pattern:{mimeType:"image/*",validationMessage:"Invalid file type."},maxSize:{maximum:"1MB",validationMessage:"Maximum allowed image size is 2MB."}},period:{title:"Period",type:"string",description:"",default:"past_day"},unit:{title:"Unit",type:"string",description:"",default:"si",placeholder:" "}},required:["dashboardName","period","unit"]}},metricselector:{form:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-12 col-md-3 col-lg-2 period-select-box",items:[{key:"period",type:"strapselect",notitle:!0,placeholder:"Period",titleMap:[{value:"past_day",name:"Past day"},{value:"past_week",name:"Past week"},{value:"past_month",name:"Past month"}]}]},{type:"section",htmlClass:"col-xs-12 col-md-3 col-lg-2 unit-select-box",items:[{key:"unit",notitle:!0,placeholder:"Unit",type:"strapselect",titleMap:[{value:"si",name:"SI units"},{value:"us",name:"US units"}]}]}]}],schema:{type:"object",title:"Schema",properties:{period:{title:"Period",type:"string",description:"",default:"past_day"},unit:{title:"Unit",type:"string",description:"",default:"si",placeholder:" "}},required:["unit"]}},transport:{label:"Transport configuration",defaults:{publishChannel:"requestChannel",subscribeChannel:"responseChannel"},form:["*"],schema:{type:"object",title:"Schema",properties:{publishChannel:{title:"Publish channel",type:"string",description:"Widgets use the publish channel to publish messages that will be distributed to its subscribers."},subscribeChannel:{title:"Subscribe channel",type:"string",description:"Widgets use the subscribe channel to consume the messages published over that channel as a data source."}},required:["token","baseUrl","publishChannel","subscribeChannel"]}},defaultWidget:{name:"displaybox"},widgets:[{name:"line",label:"Line Chart",class:"scriptr-dygraphs",commonData:!0,show:!0,defaults:{type:"line","on-format-data":"return data;",boxLabel:"Line Chart",xkey:"y",ykeys:'["a", "b"]',labels:'["Serie A", "Serie B"]',colors:["#005588","#aa241d"],transport:"wss","msg-tag":"chart",data:'[["2009-12-31T22:00:00.000Z",1,99,1039600.0000000001,1960400],["2010-01-01T22:00:00.000Z",2,98,1078400,1921600],["2010-01-02T22:00:00.000Z",3,97,1116400,1883600],["2010-01-03T22:00:00.000Z",4,96,1153600,1846400],["2010-01-04T22:00:00.000Z",5,95,1190000,1810000],["2010-01-05T22:00:00.000Z",6,94,1225600,1774400],["2010-01-06T22:00:00.000Z",7,93,1260400,1739600],["2010-01-07T22:00:00.000Z",8,92,1294400,1705600],["2010-01-08T22:00:00.000Z",9,91,1327600,1672400],["2010-01-09T22:00:00.000Z",10,90,1359999.9999999998,1640000.0000000002],["2010-01-10T22:00:00.000Z",11,89,1391600,1608400],["2010-01-11T22:00:00.000Z",12,88,1422400,1577600],["2010-01-12T22:00:00.000Z",13,87,1452400,1547600],["2010-01-13T22:00:00.000Z",14,86,1481600,1518400],["2010-01-14T22:00:00.000Z",15,85,1510000,1490000],["2010-01-15T22:00:00.000Z",16,84,1537599.9999999998,1462400.0000000002],["2010-01-16T22:00:00.000Z",17,83,1564400,1435600],["2010-01-17T22:00:00.000Z",18,82,1590400,1409600],["2010-01-18T22:00:00.000Z",19,81,1615600.0000000002,1384399.9999999998],["2010-01-19T22:00:00.000Z",20,80,1640000.0000000002,1359999.9999999998],["2010-01-20T22:00:00.000Z",21,79,1663600,1336400],["2010-01-21T22:00:00.000Z",22,78,1686400,1313600],["2010-01-22T22:00:00.000Z",23,77,1708400.0000000002,1291599.9999999998],["2010-01-23T22:00:00.000Z",24,76,1729600,1270400],["2010-01-24T22:00:00.000Z",25,75,1750000,1250000],["2010-01-25T22:00:00.000Z",26,74,1769600,1230400],["2010-01-26T22:00:00.000Z",27,73,1788400,1211600],["2010-01-27T22:00:00.000Z",28,72,1806400,1193600],["2010-01-28T22:00:00.000Z",29,71,1823600,1176400],["2010-01-29T22:00:00.000Z",30,70,1839999.9999999998,1160000.0000000002],["2010-01-30T22:00:00.000Z",31,69,1855600,1144400],["2010-01-31T22:00:00.000Z",32,68,1870400,1129600],["2010-02-01T22:00:00.000Z",33,67,1884399.9999999998,1115600.0000000002],["2010-02-02T22:00:00.000Z",34,66,1897600,1102400],["2010-02-03T22:00:00.000Z",35,65,1910000.0000000002,1089999.9999999998],["2010-02-04T22:00:00.000Z",36,64,1921600,1078400],["2010-02-05T22:00:00.000Z",37,63,1932400,1067600],["2010-02-06T22:00:00.000Z",38,62,1942400.0000000002,1057599.9999999998],["2010-02-07T22:00:00.000Z",39,61,1951600,1048400],["2010-02-08T22:00:00.000Z",40,60,1960000,1040000],["2010-02-09T22:00:00.000Z",41,59,1967600,1032400],["2010-02-10T22:00:00.000Z",42,58,1974400.0000000002,1025599.9999999999],["2010-02-11T22:00:00.000Z",43,57,1980400,1019600.0000000001],["2010-02-12T22:00:00.000Z",44,56,1985600,1014400],["2010-02-13T22:00:00.000Z",45,55,1990000,1010000],["2010-02-14T22:00:00.000Z",46,54,1993600,1006400],["2010-02-15T22:00:00.000Z",47,53,1996400,1003600],["2010-02-16T22:00:00.000Z",48,52,1998400,1001600],["2010-02-17T22:00:00.000Z",49,51,1999600,1000400],["2010-02-18T22:00:00.000Z",50,50,2000000,1000000],["2010-02-19T22:00:00.000Z",51,49,1999600,1000400],["2010-02-20T22:00:00.000Z",52,48,1998400,1001600],["2010-02-21T22:00:00.000Z",53,47,1996400,1003600],["2010-02-22T22:00:00.000Z",54,46,1993600,1006400],["2010-02-23T22:00:00.000Z",55,45,1990000,1010000],["2010-02-24T22:00:00.000Z",56,44,1985600,1014400],["2010-02-25T22:00:00.000Z",57,43,1980400,1019600.0000000001],["2010-02-26T22:00:00.000Z",58,42,1974400.0000000002,1025599.9999999999],["2010-02-27T22:00:00.000Z",59,41,1967600,1032400],["2010-02-28T22:00:00.000Z",60,40,1960000,1040000],["2010-03-01T22:00:00.000Z",61,39,1951600,1048400],["2010-03-02T22:00:00.000Z",62,38,1942400.0000000002,1057599.9999999998],["2010-03-03T22:00:00.000Z",63,37,1932400,1067600],["2010-03-04T22:00:00.000Z",64,36,1921600,1078400],["2010-03-05T22:00:00.000Z",65,35,1910000.0000000002,1089999.9999999998],["2010-03-06T22:00:00.000Z",66,34,1897600,1102400],["2010-03-07T22:00:00.000Z",67,33,1884399.9999999998,1115600.0000000002],["2010-03-08T22:00:00.000Z",68,32,1870400,1129600],["2010-03-09T22:00:00.000Z",69,31,1855600,1144400],["2010-03-10T22:00:00.000Z",70,30,1839999.9999999998,1160000.0000000002],["2010-03-11T22:00:00.000Z",71,29,1823600,1176400],["2010-03-12T22:00:00.000Z",72,28,1806400,1193600],["2010-03-13T22:00:00.000Z",73,27,1788400,1211600],["2010-03-14T22:00:00.000Z",74,26,1769600,1230400],["2010-03-15T22:00:00.000Z",75,25,1750000,1250000],["2010-03-16T22:00:00.000Z",76,24,1729600,1270400],["2010-03-17T22:00:00.000Z",77,23,1708400.0000000002,1291599.9999999998],["2010-03-18T22:00:00.000Z",78,22,1686400,1313600],["2010-03-19T22:00:00.000Z",79,21,1663600,1336400],["2010-03-20T22:00:00.000Z",80,20,1640000.0000000002,1359999.9999999998],["2010-03-21T22:00:00.000Z",81,19,1615600.0000000002,1384399.9999999998],["2010-03-22T22:00:00.000Z",82,18,1590400,1409600],["2010-03-23T22:00:00.000Z",83,17,1564400,1435600],["2010-03-24T22:00:00.000Z",84,16,1537599.9999999998,1462400.0000000002],["2010-03-25T22:00:00.000Z",85,15,1510000,1490000],["2010-03-26T22:00:00.000Z",86,14,1481600,1518400],["2010-03-27T22:00:00.000Z",87,13,1452400,1547600],["2010-03-28T21:00:00.000Z",88,12,1422400,1577600],["2010-03-29T21:00:00.000Z",89,11,1391600,1608400],["2010-03-30T21:00:00.000Z",90,10,1359999.9999999998,1640000.0000000002],["2010-03-31T21:00:00.000Z",91,9,1327600,1672400],["2010-04-01T21:00:00.000Z",92,8,1294400,1705600],["2010-04-02T21:00:00.000Z",93,7,1260400,1739600],["2010-04-03T21:00:00.000Z",94,6,1225600,1774400],["2010-04-04T21:00:00.000Z",95,5,1190000,1810000],["2010-04-05T21:00:00.000Z",96,4,1153600,1846400],["2010-04-06T21:00:00.000Z",97,3,1116400,1883600],["2010-04-07T21:00:00.000Z",98,2,1078400,1921600],["2010-04-08T21:00:00.000Z",99,1,1039600.0000000001,1960400],["2010-04-09T21:00:00.000Z",100,0,1000000,2000000]]',"grid-text-family":"Source Sans Pro","x1-axis-label-font-size":12,"x1-axis-label-width":60,"y2-axis-label-width":95,"y-axis-label-width":95,"y2-axis-label-font-size":12,"y-axis-label-font-size":12},box:{sizeX:3,sizeY:2,minSizeX:1,minSizeY:1},imgSrc:"//cdn.rawgit.com/scriptrdotio/onset-static-resources/97574e7b/images/line-chart.svg",form:[{type:"tabs",tabs:[{title:"Data",items:[{type:"section",htmlClass:"col-xs-12",items:[{key:"stream",type:"uiselectmultiple",placeholder:"",options:{closeOnSelect:!1,groupBy:"dataStream",multiple:"true",callback:"multiSelectCallBack",widgetName:"line",limitTo:50}}]}]},{title:"X",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:[{type:"radios-inline",key:"draw-x1-axis",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},"x1-axis-label","x1-axis-label-font-size"]},{type:"section",htmlClass:"col-xs-6",items:[{key:"x1-axis-line-color",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}},{key:"x1-axis-line-width",step:"0.1"},"x1-axis-label-width"]}]}]},{title:"Y",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:[{type:"radios-inline",key:"draw-y-axis",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},"y-axis-label","y-axis-label-font-size","y-axis-label-width"]},{type:"section",htmlClass:"col-xs-6",items:[{key:"y-axis-line-color",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}},{key:"y-axis-line-width",step:"0.1"},{type:"radios-inline",key:"y-axis-include-zero",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},{type:"radios-inline",key:"y-axis-labels-kmb",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]}]}]}]},{title:"Y2",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:[{type:"radios-inline",key:"draw-y2-axis",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]
},"y2-axis-label","y2-axis-label-font-size","y2-axis-label-width"]},{type:"section",htmlClass:"col-xs-6",items:[{key:"y2-axis-line-color",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}},{key:"y2-axis-line-width",step:"0.1"},{type:"radios-inline",key:"y2-axis-include-zero",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},{type:"radios-inline",key:"y2-axis-labels-kmb",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]}]}]}]},{title:"Lines Display",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-12",items:[{key:"colors",condition:"model.colors.length > 0",required:!0,items:[{key:"colors[]",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}}]}]}]}]},{title:"Legend",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-12",items:[{type:"radios-inline",key:"show-legend",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},"legend-labels","legend-Mapping"]}]}]},{title:"Grid",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-4",items:[{type:"radios-inline",key:"x1-draw-grid",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},{key:"x1-grid-line-color",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}},{key:"x1-grid-line-width",step:"0.1"}]},{type:"section",htmlClass:"col-xs-4",items:[{type:"radios-inline",key:"y-draw-grid",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},{key:"y-grid-line-color",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}},{key:"y-grid-line-width",step:"0.1"}]},{type:"section",htmlClass:"col-xs-4",items:[{type:"radios-inline",key:"y2-draw-grid",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},{key:"y2-grid-line-color",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}},{key:"y2-grid-line-width",step:"0.1"}]},{type:"section",htmlClass:"col-xs-12",items:[{key:"independent-ticks",notitle:!1,type:"strapselect",titleMap:[{value:"y-primary",name:"Ticks are aligned. Y is primary"},{value:"y2-primary",name:"Ticks are aligned. Y2 is primary"},{value:"independent",name:"Ticks are not aligned"}]}]}]}]},{title:"Slider",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:[{type:"radios-inline",key:"show-range-selector",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},"range-selector-alpha","range-selector-background-line-width",{key:"range-selector-background-stroke-color",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}},"range-selector-foreground-line-width"]},{type:"section",htmlClass:"col-xs-6",items:[{key:"range-selector-foreground-stroke-color",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}},"range-selector-height",{key:"range-selector-plot-fill-color",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}},{key:"range-selector-plot-fill-gradient-color",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}},{key:"range-selector-plot-line-width",step:"0.1"},{key:"range-selector-plot-stroke-color",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}}]}]}]},{title:"Goals",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:["goals"]},{type:"section",htmlClass:"col-xs-6",items:[{key:"goal-line-colors",items:[{key:"goal-line-colors[]",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}}]}]}]}]},{title:"Box Properties",items:["boxLabel"]}]}],schema:{type:"object",title:"Schema",properties:{"show-legend":{title:"Show Legend",default:"true",type:"string",description:""},stream:{title:"Data Streams",type:"array",items:{type:"string"},description:"",placeholder:" "},"legend-position":{title:"Legend Position ",type:"string",default:"bottom",description:"Determines the legend position relative to the graph.",placeholder:" "},"draw-x1-axis":{title:"Draw X-axis",type:"string",default:"true",description:"Determines whether to draw the X-axis. Setting this to false also prevents x-axis ticks from being drawn and reclaims the space for the chart grid/lines."},"draw-y-axis":{title:"Draw Y-axis",type:"string",default:"true",description:"Determines whether to draw the Y-axis. Setting this to false also prevents y-axis ticks from being drawn and reclaims the space for the chart grid/lines."},"draw-y2-axis":{title:"Draw Y2-axis",type:"string",default:"true",description:"Determines whether to draw the Y2-axis. Setting this to false also prevents y2-axis ticks from being drawn and reclaims the space for the chart grid/lines."},goals:{title:"Goals",type:"array",default:["0"],description:"List of y-values to draw as horizontal 'goal' lines on the chart.",items:{type:"string"}},"goal-line-colors":{title:"Goal Line Colors",type:"array",default:["#ffffff"],description:"List of color values to use for the goal line colors.",items:{format:"color",type:"string"}},events:{title:"Events",type:"array",default:["2010-02-02"],description:"List of x-values to draw as vertical 'event' lines on the chart.",items:{type:"string"}},"event-line-colors":{title:"Event Line Colors",type:"array",default:["#ffffff"],description:"List of color values to use for the event line colors.",items:{format:"color",type:"string"}},colors:{title:"Lines' Colors",type:"array",default:["#005588","#aa241d"],description:"Array containing colors for the series lines.",items:{format:"color",type:"string"}},"x1-axis-label-font-size":{title:"Axis Label Font Size",type:"number",default:12,description:"Size of the font (in pixels) to use in the x axis labels."},"y-axis-label-font-size":{title:"Axis Label Font Size",type:"number",default:12,description:"Size of the font (in pixels) to use in the y axis labels."},"y2-axis-label-font-size":{title:"Axis Label Font Size",type:"number",default:12,description:"Size of the font (in pixels) to use in the y2 axis labels."},"x1-axis-label-width":{title:"Axis Label Width",type:"number",default:60,description:"Width (in pixels) of the axis label width."},"y-axis-label-width":{title:"Axis Label Width",type:"number",default:95,description:"Width (in pixels) of the axis label width. This also controls the width of the y-axis."},"y2-axis-label-width":{title:"Axis Label Width",type:"number",default:95,description:"Width (in pixels) of the axis label width. This also controls the width of the y-axis."},"x1-axis-line-color":{title:"Axis Line Color",type:"string",default:"#000000",format:"color",description:"Color of the axis line."},"y-axis-line-color":{title:"Axis Line Color",type:"string",default:"#000000",format:"color",description:"Color of the axis line."},"y2-axis-line-color":{title:"Axis Line Color",type:"string",default:"#000000",format:"color",description:"Color of the axis line."},"x1-axis-line-width":{title:"Axis Line Width",type:"number",default:.3,description:"Thickness (in pixels) of the axis line."},"y-axis-line-width":{title:"Axis Line Width",type:"number",default:.3,description:"Thickness (in pixels) of the axis line."},"y2-axis-line-width":{title:"Axis Line Width",type:"number",default:.3,description:"Thickness (in pixels) of the axis line."},"y-axis-include-zero":{title:"Include Zero",type:"string",default:"false",description:"If this option is set, the y-axis will always include zero, typically as the lowest value. This can be used to avoid exaggerating the variance in the data."},"y2-axis-include-zero":{title:"Include Zero",type:"string",default:"false",description:"If this option is set, the y-axis will always include zero, typically as the lowest value. This can be used to avoid exaggerating the variance in the data."},"y-axis-labels-kmb":{title:"Labels KMB",type:"string",default:"false",description:"Show K/M/B for thousands/millions/billions on y-axis."},"y2-axis-labels-kmb":{title:"Labels KMB",type:"string",default:"false",description:"Show K/M/B for thousands/millions/billions on y-axis."},"show-range-selector":{title:"Show Slider",type:"string",default:"false",description:"Show or hide the slider widget."},"range-selector-alpha":{title:"Alpha",type:"number",default:.6,description:"The transparency of the veil that is drawn over the unselected portions of the slider mini plot. A value of 0 represents full transparency and the unselected portions of the mini plot will appear as normal. A value of 1 represents full opacity and the unselected portions of the mini plot will be hidden."},"range-selector-background-line-width":{title:"Background Line Width",type:"number",default:1,description:"The width of the lines below and on both sides of the slider mini plot."},"range-selector-background-stroke-color":{title:"Background Stroke Color",type:"string",default:"#808080",format:"color",description:"The color of the lines below and on both sides of the slider mini plot."},"range-selector-foreground-line-width":{title:"Forground Line Width",type:"number",default:1,description:"The width the lines in the interactive layer of the slider."},"range-selector-foreground-stroke-color":{title:"Forground Stroke Color",type:"string",default:"#000000",format:"color",description:"The color of the lines in the interactive layer of the slider."},"range-selector-height":{title:"Height",type:"number",default:40,description:"Height, in pixels, of the slider widget."},"range-selector-plot-fill-color":{title:"Plot Fill Color",type:"string",default:"#A7B1C4",format:"color",description:"The slider mini plot fill color."},"range-selector-plot-fill-gradient-color":{title:"Plot Fill Gradient Color",type:"string",default:"#FFFFFF",format:"color",description:"The top color for the slider mini plot fill color gradient."},"range-selector-plot-line-width":{title:"Plot Line Width",type:"number",default:1.5,description:"The width of the slider mini plot line."},"range-selector-plot-stroke-color":{title:"Plot Stroke Color",type:"string",default:"#808FAB",format:"color",description:"The slider mini plot stroke color."},"x1-draw-grid":{title:"Draw X-Axis Grid Lines",type:"string",default:"true",description:"Determines whether to display x-axis grid lines in the chart."},"y-draw-grid":{title:"Draw Y-Axis Grid Lines",type:"string",default:"true",description:"Determines whether to display y-axis grid lines in the chart."},"y2-draw-grid":{title:"Draw Y2-Axis Grid Lines",type:"string",default:"false",description:"Determines whether to display y2-axis grid lines in the chart."},"x1-grid-line-color":{title:"X-Axis Grid Line Color",type:"string",default:"#000000",format:"color",description:"X-axis grid line color."},"y-grid-line-color":{title:"Y-Axis Grid Line Color",type:"string",default:"#000000",format:"color",description:"Y-axis grid line color."},"y2-grid-line-color":{title:"Y2-Axis Grid Line Color",type:"string",default:"#000000",format:"color",description:"Y2-axis grid line color."},"x1-grid-line-width":{title:"X-Axis Grid Line Width",type:"number",default:.3,description:"X-axis grid line width."},"y-grid-line-width":{title:"Y-Axis Grid Line Width",type:"number",default:.3,description:"Y-axis grid line width."},"y2-grid-line-width":{title:"Y2-Axis Grid Line Width",type:"number",default:.3,description:"Y2-axis grid line width."},"independent-ticks":{title:"Y Axes Alignment",type:"string",default:"y-primary",description:"This option defines whether the y axes should align their ticks or if they should be independent.",placeholder:" "},data:{title:"Data",type:"string",description:"Data series in case of static data.","x-schema-form":{type:"textarea",placeholder:'[["2009-12-31T22:00:00.000Z",1,99,1039600.0000000001,1960400],["2010-01-01T22:00:00.000Z",2,98,1078400,1921600]]'}},"x1-axis-label":{title:"X-axis Label",type:"string",default:"",description:"X-axis Label."},"y-axis-label":{title:"Y-axis Label",type:"string",default:"",description:"Y-axis Label."},"y2-axis-label":{title:"Y2-axis Label",type:"string",default:"",description:"Y2-axis Label."},"legend-labels":{title:"Legend Labels",type:"string",default:"['X', 'Y1', 'Y2', 'Y3', 'Y4']",description:"A name for each data series, including the independent (X) series."},"legend-Mapping":{title:"Legend Mapping",type:"string",default:"['x', 'y', 'y', 'y2', 'y2']",description:"Mapping the legends to their corresponding axis."},boxLabel:{title:"Box label",type:"string",description:"Define your widget box title."}}}},{name:"bar",label:"Bar Chart",class:"scriptr-chart",commonData:!0,show:!0,defaults:{type:"bar",boxLabel:"Bar Chart",stacked:"true",xkey:"y",ykeys:'["a", "b"]',labels:'["Serie A", "Serie B"]',colors:["#aa241d","#edcfce"],transport:"wss","on-format-data":"return data;","msg-tag":"chart",data:'[{"y":"2006","a":88,"b":20},{"y":"2007","a":30,"b":34},{"y":"2008","a":90,"b":42},{"y":"2009","a":89,"b":59},{"y":"2010","a":43,"b":61},{"y":"2011","a":85,"b":69},{"y":"2012","a":29,"b":65}]',"grid-text-family":"Arial","hide-hover":"auto"},box:{sizeY:2,sizeX:2,minSizeX:1,minSizeY:1},imgSrc:"//cdn.rawgit.com/scriptrdotio/onset-static-resources/b8a3ec79/images/bar-chart.svg",form:[{type:"tabs",tabs:[{title:"Data",items:[{type:"section",htmlClass:"col-xs-12",items:[{key:"stream",type:"uiselectmultiple",placeholder:"",options:{closeOnSelect:!1,groupBy:"dataStream",multiple:"true",callback:"multiSelectCallBack",widgetName:"bar",limitTo:50}}]}]},{title:"X",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-12",items:["xkey","xlabel-angle",{type:"hidden",key:"parse-time",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]}]}]}]},{title:"Y",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:["ykeys","pre-units","ymin",{key:"stacked",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},{type:"radios-inline",key:"hide-hover",titleMap:[{value:"auto",name:"Auto"},{value:"false",name:"Never"},{value:"always",name:"Always"}]}]},{type:"section",htmlClass:"col-xs-6",items:["labels","post-units","ymax",{key:"colors",items:[{key:"colors[]",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}}]}]}]}]},{title:"Grid",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:[{type:"radios-inline",key:"grid",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},{type:"radios-inline",key:"axes",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},{key:"grid-text-color",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}}]},{type:"section",htmlClass:"col-xs-6",items:[{key:"grid-text-family",notitle:!1,type:"strapselect",titleMap:[{value:"Arial",name:"Arial"},{value:"Helvetica",name:"Helvetica"},{value:"Times New Roman",name:"Times New Roman"},{value:"Courier New",name:"Courier New"},{value:"Courier",name:"Courier"},{value:"Verdana",name:"Verdana"},{value:"Georgia",name:"Georgia"},{value:"Palatino",name:"Palatino"},{value:"Garamond",name:"Garamond"},{value:"Bookman",name:"Bookman"},{value:"Comic Sans MS",name:"Comic Sans MS"},{value:"Trebuchet MS",name:"Trebuchet MS"},{value:"Arial Black",name:"Arial Black"},{value:"Impact",name:"Impact"},{value:"Sans-Serif",name:"Sans-Serif"},{value:"Source Sans Pro",name:"Source Sans Pro"}]},{key:"grid-text-weight",notitle:!1,type:"strapselect",titleMap:[{value:"normal",name:"Normal"},{value:"bold",name:"Bold"}]},"grid-text-size"]}]}]},{title:"Goals",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:["goals","goal-stroke-width"]},{type:"section",htmlClass:"col-xs-6",items:[{key:"goal-line-colors",condition:"model.goals.length > 0",required:!0,items:[{key:"goal-line-colors[]",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}}]},{key:"goal-line-colors",condition:"model.goals.length == 0",required:!1}]}]}]},{title:"Box Properties",items:["boxLabel"]}]}],schema:{type:"object",title:"Schema",properties:{boxLabel:{title:"Box label",type:"string",description:"Define your widget box title."},stream:{title:"Data Streams",type:"array",items:{type:"string"},description:"",placeholder:" "},data:{title:"Data",type:"string",description:"Data to plot in case of static data.This is an array of objects, containing x and y attributes as described by the xkey and ykeys options. The order in which you provide the data is the order in which the bars are displayed.","x-schema-form":{type:"textarea",placeholder:"[{ y: '2006', a: 100, b: 90 },{ y: '2007', a: 75,  b: 65 }, { y: '2008', a: 50,  b: 40 }]"}},"parse-time":{title:"Parse time",type:"hidden",default:"false",description:"Set to false to skip time/date parsing for X values, instead treating them as an equally-spaced series."},xkey:{title:"X key",type:"string",description:"A string containing the name of the attribute that contains X labels."},ykeys:{title:"Y keys",type:"string",description:"A list of strings containing names of attributes that contain Y values (one for each series of data to be plotted)."},labels:{title:"Labels",type:"string",description:"A list of strings containing labels for the data series to be plotted (corresponding to the values in the ykeys option)."},colors:{title:"Colors",type:"array",default:["#CC5464","#FCC717","#38B9D6","#1DBC68","#E90088"],description:"Array containing colors for the series bars.",items:{type:"string",format:"color"}},stacked:{title:"Stacked",type:"string",default:"false",description:"Set to true to draw bars stacked vertically."},"hide-hover":{title:"Hide hover",default:"auto",type:"string",description:"Set to Never to always show a hover legend. Set to 'auto' to only show the hover legend when the mouse cursor is over the chart. Set to 'always' to never show a hover legend."},"hover-callback":{title:"Hover callback",type:"string",description:"Provide a function on this option to generate custom hover legends. The function will be called with the index of the row under the hover legend, the options object passed to the constructor as arguments, a string containing the default generated hover legend content HTML, and an object containing the original data for the row as passed in the data option. hoverCallback: function (index, options, content, row) {return 'sin(' + row.x + ')='+ row.y}"},axes:{title:"Axes",type:"string",description:"Set to false to disable drawing the x and y axes.",default:"true"},grid:{title:"Grid",type:"string",description:"Set to false to disable drawing the horizontal grid lines.",default:"true"},"grid-text-color":{title:"Grid text color",type:"string",description:"Set the color of the axis labels (default: #888).",format:"color",default:"#888"},"grid-text-size":{title:"Grid text size",type:"number",description:"Set the point size of the axis labels (default: 12).",default:12},"grid-text-family":{title:"Grid text family",type:"string",description:"Set the font family of the axis labels (default: sans-serif).",default:"Source Sans Pro",placeholder:" "},"grid-text-weight":{title:"Grid text weight",type:"string",description:"Set the font weight of the axis labels (default: normal).",default:"normal",placeholder:" "},ymax:{title:"Y maximum value",type:"string",default:"auto",description:"Max. bound for Y-values. Alternatively, set this to 'auto' to compute automatically, or 'auto [num]' to automatically compute and ensure that the max y-value is at least [num]."},ymin:{title:"Y minimum value",type:"string",default:"auto 0",description:"Min. bound for Y-values. Alternatively, set this to 'auto' to compute automatically, or 'auto [num]' to automatically compute and ensure that the min y-value is at most [num]. You can use this to create graphs with false origins."},"post-units":{title:"Post units",type:"string",description:"Set to a string value (eg: '%') to add a label suffix all y-labels."},"pre-units":{title:"Pre units",type:"string",description:"Set to a string value (eg: '$') to add a label prefix all y-labels."},"xlabel-angle":{title:"X label angle",type:"number",default:0,description:"The angle in degrees from horizontal to draw x-axis labels."},"ylabel-format":{title:"Y label Format",type:"string",description:"A function that accepts y-values and formats them for display as y-axis labels. function (y) { return y.toString() + 'km'; }"},goals:{title:"Goals",type:"array",description:"A list of y-values to draw as horizontal 'goal' lines on the chart. goals: [1.0, -1.0]",items:{type:"number"}},"goal-stroke-width":{title:"Goal stroke width",type:"number",default:1,description:"Width, in pixels, of the goal lines."},"goal-line-colors":{title:"Goal line colors",type:"array",default:["#666633","#999966","#cc6666","#663333"],description:"Array of color values to use for the goal line colors.",items:{format:"color",type:"string"}}},required:["xkey","ykeys","labels"]}},{name:"area",label:"Area Chart",class:"scriptr-chart",commonData:!0,show:!0,defaults:{type:"area","on-format-data":"return data;",boxLabel:"Area Chart",xkey:"y",ykeys:'["a", "b"]',labels:'["Serie A", "Serie B"]',colors:["#5fc100","#005487"],transport:"wss","msg-tag":"chart","grid-text-family":"Arial",data:'[{"y":2000,"a":64,"b":82},{"y":2003,"a":53,"b":48},{"y":2004,"a":81,"b":58},{"y":2005,"a":68,"b":72},{"y":2008,"a":52,"b":60},{"y":20011,"a":55,"b":30},{"y":2013,"a":79,"b":40}]',"hide-hover":"auto"},box:{sizeX:2,sizeY:2,minSizeX:1,minSizeY:1},imgSrc:"//cdn.rawgit.com/scriptrdotio/onset-static-resources/15759895/images/area-chart.svg",form:[{type:"tabs",tabs:[{title:"Data",items:[{type:"section",htmlClass:"col-xs-12",items:[{key:"stream",type:"uiselectmultiple",placeholder:"",options:{closeOnSelect:!1,groupBy:"dataStream",multiple:"true",callback:"multiSelectCallBack",widgetName:"area",limitTo:50}}]}]},{title:"X",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-12",items:["xkey","xlabel-angle",{type:"hidden",key:"parse-time",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]}]}]}]},{title:"Y",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:["ykeys","pre-units","ymin",{type:"radios-inline",key:"hide-hover",titleMap:[{value:"auto",name:"Auto"},{value:"false",name:"Never"},{value:"always",name:"Always"}]}]},{type:"section",htmlClass:"col-xs-6",items:["labels","post-units","ymax"]}]}]},{title:"Grid",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:[{type:"radios-inline",key:"grid",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},{type:"radios-inline",key:"axes",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},{key:"grid-text-color",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}}]},{type:"section",htmlClass:"col-xs-6",items:[{key:"grid-text-family",notitle:!1,type:"strapselect",titleMap:[{value:"Arial",name:"Arial"},{value:"Helvetica",name:"Helvetica"},{value:"Times New Roman",name:"Times New Roman"},{value:"Courier New",name:"Courier New"},{value:"Courier",name:"Courier"},{value:"Verdana",name:"Verdana"},{value:"Georgia",name:"Georgia"},{value:"Palatino",name:"Palatino"},{value:"Garamond",name:"Garamond"},{value:"Bookman",name:"Bookman"},{value:"Comic Sans MS",name:"Comic Sans MS"},{value:"Trebuchet MS",name:"Trebuchet MS"},{value:"Arial Black",name:"Arial Black"},{value:"Impact",name:"Impact"},{value:"Sans-Serif",name:"Sans-Serif"},{value:"Source Sans Pro",name:"Source Sans Pro"}]},{key:"grid-text-weight",notitle:!1,type:"strapselect",titleMap:[{value:"normal",name:"Normal"},{value:"bold",name:"Bold"}]},"grid-text-size"]}]}]},{title:"Lines & Points",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:["line-width",{type:"radios-inline",key:"smooth",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},{key:"colors",items:[{key:"colors[]",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}}]}]},{type:"section",htmlClass:"col-xs-6",items:["point-size",{key:"point-fill-colors",items:[{key:"point-fill-colors[]",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}}]},{key:"point-stroke-colors",items:[{key:"point-stroke-colors[]",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}}]}]}]}]},{title:"Area",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:[{type:"radios-inline",key:"behave-like-line",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},{key:"fill-opacity",step:"0.1"}]}]}]},{title:"Goals",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:["goals","goal-stroke-width"]},{type:"section",htmlClass:"col-xs-6",items:[{key:"goal-line-colors",items:[{key:"goal-line-colors[]",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}}]}]}]}]},{title:"Events",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:["events","event-stroke-width"]},{type:"section",htmlClass:"col-xs-6",items:[{key:"event-line-colors",items:[{key:"event-line-colors[]",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}}]}]}]}]},{title:"Box Properties",items:["boxLabel"]}]}],schema:{type:"object",title:"Schema",properties:{boxLabel:{title:"Box Label",type:"string",description:"Define your widget box title."},stream:{title:"Data Streams",type:"array",items:{type:"string"},description:"",placeholder:" "},data:{title:"Data",type:"string",description:"Data series in case of static data.","x-schema-form":{type:"textarea",placeholder:"[{ y: '2006', a: 100, b: 90 },{ y: '2007', a: 75,  b: 65 }, { y: '2008', a: 50,  b: 40 }]"}},"parse-time":{title:"Parse time",type:"hidden",default:"false",description:"Set to false to skip time/date parsing for X values, instead treating them as an equally-spaced series."},xkey:{title:"X key",type:"string",description:"A string containing the name of the attribute that contains date (X) values. Timestamps are accepted in the form of millisecond timestamps (as returned by Date.getTime() or as strings in the following formats: 2012, 2012 Q1, 2012 W1, 2012-02, 2012-02-24, 2012-02-24 15:00, 2012-02-24 15:00:00, 2012-02-24 15:00:00.000. date/time strings can optionally contain a T between the date and time parts, and/or a Z suffix, for compatibility with ISO-8601 dates."},ykeys:{title:"Y keys",type:"string",description:"A list of strings containing names of attributes that contain Y values (one for each series of data to be plotted)."},labels:{title:"Labels",type:"string",description:"A list of strings containing labels for the data series to be plotted (corresponding to the values in the ykeys option)."},colors:{title:"Colors",type:"array",description:"Array containing colors for the series lines/points.",default:["#CC5464","#FCC717","#38B9D6","#1DBC68","#E90088"],items:{format:"color",type:"string"}},"line-width":{title:"Line width",type:"number",default:3,description:"Width of the series lines, in pixels."},"point-size":{title:"Point size",type:"number",default:4,description:"Diameter of the series points, in pixels."},"point-fill-colors":{title:"Point fill colors",type:"array",description:"Colors for the series points. By default uses the same values as lineColors.",items:{format:"color",type:"string"}},"point-stroke-colors":{title:"Point Stroke Colors",type:"array",default:["#fff"],description:"Colors for the outlines of the series points. (#ffffff by default).",items:{format:"color",type:"string"}},ymax:{title:"Y maximum value",type:"string",default:"auto",description:"Max. bound for Y-values. Alternatively, set this to 'auto' to compute automatically, or 'auto [num]' to automatically compute and ensure that the max y-value is at least [num]."},ymin:{title:"Y minimum value",type:"string",default:"auto 0",description:"Min. bound for Y-values. Alternatively, set this to 'auto' to compute automatically, or 'auto [num]' to automatically compute and ensure that the min y-value is at most [num]. You can use this to create graphs with false origins."},smooth:{title:"Smooth",type:"string",default:"true",description:"Set to false to disable line smoothing."},"hide-hover":{title:"Hide hover",default:"auto",type:"string",description:"Set to Never to always show a hover legend. Set to 'auto' to only show the hover legend when the mouse cursor is over the chart. Set to 'always' to never show a hover legend."},"hover-callback":{title:"Hover callback",type:"string",description:"Provide a function on this option to generate custom hover legends. The function will be called with the index of the row under the hover legend, the options object passed to the constructor as arguments, a string containing the default generated hover legend content HTML, and an object containing the original data for the row as passed in the data option. hoverCallback: function (index, options, content, row) {return 'sin(' + row.x + ')='+ row.y}"},"post-units":{title:"Post units",type:"string",
description:"Set to a string value (eg: '%') to add a label suffix all y-labels."},"pre-units":{title:"Pre units",type:"string",description:"Set to a string value (eg: '$') to add a label prefix all y-labels."},xlabels:{title:"X labels",type:"string",default:"auto",description:"Sets the x axis labelling interval. By default the interval will be automatically computed.",format:"uiselect",placeholder:" ",items:[{value:"auto",label:"auto"},{value:"decade",label:"decade"},{value:"year",label:"year"},{value:"month",label:"month"},{value:"week",label:"week"},{value:"day",label:"day"},{value:"hour",label:"hour"},{value:"30min",label:"30min"},{value:"15min",label:"15min"},{value:"10min",label:"10min"},{value:"5min",label:"5min"},{value:"minute",label:"minute"},{value:"30sec",label:"30sec"},{value:"15sec",label:"15sec"},{value:"10sec",label:"10sec"},{value:"5sec",label:"5sec"},{value:"second",label:"second"}]},"xlabel-angle":{title:"X label angle",type:"number",default:0,description:"The angle in degrees from horizontal to draw x-axis labels."},"xlabel-format":{title:"X label format",type:"string",description:"A function that accepts Date objects and formats them for display as x-axis labels. Overrides the default formatter chosen by the automatic labeller or the xLabels option. function (x) { return x.toString(); }"},"ylabel-format":{title:"Y label format",type:"string",description:"A function that accepts y-values and formats them for display as y-axis labels. function (y) { return y.toString() + 'km'; }"},goals:{title:"Goals",type:"array",description:"A list of y-values to draw as horizontal 'goal' lines on the chart. goals: [1.0, -1.0]",items:{type:"number"}},"goal-stroke-width":{title:"Goal stroke width",type:"number",default:1,description:"Width, in pixels, of the goal lines."},"goal-line-colors":{title:"Goal line colors",type:"array",default:["#666633","#999966","#cc6666","#663333"],description:"Array of color values to use for the goal line colors. If you list fewer colors here than you have lines in goals, then the values will be cycled.",items:{format:"color",type:"string"}},events:{title:"Events",type:"array",description:"A list of x-values to draw as vertical 'event' lines on the chart. ex: ['2012-01-01', '2012-02-01']",items:{type:"string"}},"event-stroke-width":{title:"Event stroke width",type:"number",default:1,description:"Width, in pixels, of the event lines."},"event-line-colors":{title:"Event line colors",type:"array",default:["#005a04","#ccffbb","#3a5f0b","#005502"],description:"Array of color values to use for the event line colors. If you list fewer colors here than you have lines in events, then the values will be cycled.",items:{format:"color",type:"string"}},axes:{title:"Axes",type:"string",description:"Set to false to disable drawing the x and y axes.",default:"true"},grid:{title:"Grid",type:"string",description:"Set to false to disable drawing the horizontal grid lines.",default:"true"},"grid-text-color":{title:"Grid text color",type:"string",description:"Set the color of the axis labels (default: #888).",format:"color",default:"#888"},"grid-text-size":{title:"Grid text size",type:"number",description:"Set the point size of the axis labels (default: 12).",default:12},"grid-text-family":{title:"Grid text family",type:"string",description:"Set the font family of the axis labels (default: sans-serif).",default:"Source Sans Pro",placeholder:" "},"grid-text-weight":{title:"Grid text weight",type:"string",description:"Set the font weight of the axis labels (default: normal).",default:"normal",placeholder:" "},"fill-opacity":{title:"Fill opacity",type:"number",default:1,description:"Change the opacity of the area fill color. Accepts values between 0.0 (for completely transparent) and 1.0 (for completely opaque).",minimum:0,maximum:1},"behave-like-line":{title:"Behave like Line",type:"string",default:"false",description:"Set to true to overlay the areas on top of each other instead of stacking them."},"date-format":{title:"Date format",type:"string",description:"A function that accepts millisecond timestamps and formats them for display as chart labels. default is function (x) { return new Date(x).toString() }."}},required:["xkey","ykeys"]}},{name:"lineChart",label:"Line Chart",class:"scriptr-chart",commonData:!0,show:!1,defaults:{type:"line","on-format-data":"return data;",boxLabel:"Line Chart",xkey:"y",ykeys:'["a", "b"]',labels:'["Serie A", "Serie B"]',colors:["#005588","#ffa500"],transport:"wss","msg-tag":"chart",data:'[{"y": 2006, "a": 2, "b": 3 }, { "y": 2007, "a": 82, "b": 68 }, { "y": 2009, "a": 70, "b": 99 }, { "y":2010, "a": 30, "b": 64 }, { "y": 2011, "a": 72, "b":100 }, { "y": 2012, "a": 81, "b": 81 }, { "y": 2013,"a": 52, "b": 39 } ]',"grid-text-family":"Arial","hide-hover":"auto"},box:{sizeX:2,sizeY:2,minSizeX:1,minSizeY:1},imgSrc:"//cdn.rawgit.com/scriptrdotio/onset-static-resources/97574e7b/images/line-chart.svg",form:[{type:"tabs",tabs:[{title:"X",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-12",items:["xkey","xlabel-angle",{type:"radios-inline",key:"parse-time",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]}]}]}]},{title:"Y",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:["ykeys","pre-units","ymin",{type:"radios-inline",key:"hide-hover",titleMap:[{value:"auto",name:"Auto"},{value:"false",name:"Never"},{value:"always",name:"Always"}]}]},{type:"section",htmlClass:"col-xs-6",items:["labels","post-units","ymax"]}]}]},{title:"Grid",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:[{type:"radios-inline",key:"grid",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},{type:"radios-inline",key:"axes",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},{key:"grid-text-color",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}}]},{type:"section",htmlClass:"col-xs-6",items:[{key:"grid-text-family",notitle:!1,type:"strapselect",titleMap:[{value:"Arial",name:"Arial"},{value:"Helvetica",name:"Helvetica"},{value:"Times New Roman",name:"Times New Roman"},{value:"Courier New",name:"Courier New"},{value:"Courier",name:"Courier"},{value:"Verdana",name:"Verdana"},{value:"Georgia",name:"Georgia"},{value:"Palatino",name:"Palatino"},{value:"Garamond",name:"Garamond"},{value:"Bookman",name:"Bookman"},{value:"Comic Sans MS",name:"Comic Sans MS"},{value:"Trebuchet MS",name:"Trebuchet MS"},{value:"Arial Black",name:"Arial Black"},{value:"Impact",name:"Impact"},{value:"Sans-Serif",name:"Sans-Serif"},{value:"Source Sans Pro",name:"Source Sans Pro"}]},{key:"grid-text-weight",notitle:!1,type:"strapselect",titleMap:[{value:"normal",name:"Normal"},{value:"bold",name:"Bold"}]},"grid-text-size"]}]}]},{title:"Lines & Points",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:["line-width",{type:"radios-inline",key:"smooth",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},{key:"colors",items:[{key:"colors[]",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}}]}]},{type:"section",htmlClass:"col-xs-6",items:["point-size",{key:"point-fill-colors",items:[{key:"point-fill-colors[]",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}}]},"point-stroke-colors"]}]}]},{title:"Goals",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:["goals","goal-stroke-width"]},{type:"section",htmlClass:"col-xs-6",items:[{key:"goal-line-colors",items:[{key:"goal-line-colors[]",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}}]}]}]}]},{title:"Events",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:["events","event-stroke-width"]},{type:"section",htmlClass:"col-xs-6",items:[{key:"event-line-colors",items:[{key:"event-line-colors[]",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}}]}]}]}]},{title:"Box Properties",items:["boxLabel"]}]}],schema:{type:"object",title:"Schema",properties:{boxLabel:{title:"Box Label",type:"string",description:"Define your widget box title."},data:{title:"Data",type:"string",description:"Data series in case of static data.","x-schema-form":{type:"textarea",placeholder:"[{ y: '2006', a: 100, b: 90 },{ y: '2007', a: 75,  b: 65 }, { y: '2008', a: 50,  b: 40 }]"}},xkey:{title:"X key",type:"string",description:"A string containing the name of the attribute that contains date (X) values. Timestamps are accepted in the form of millisecond timestamps (as returned by Date.getTime() or as strings in the following formats: 2012, 2012 Q1, 2012 W1, 2012-02, 2012-02-24, 2012-02-24 15:00, 2012-02-24 15:00:00, 2012-02-24 15:00:00.000. date/time strings can optionally contain a T between the date and time parts, and/or a Z suffix, for compatibility with ISO-8601 dates."},ykeys:{title:"Y keys",type:"string",description:"A list of strings containing names of attributes that contain Y values (one for each series of data to be plotted)."},labels:{title:"Labels",type:"string",description:"A list of strings containing labels for the data series to be plotted (corresponding to the values in the ykeys option)."},colors:{title:"Colors",type:"array",description:"Array containing colors for the series lines/points.",default:["#CC5464","#FCC717","#38B9D6","#1DBC68","#E90088"],items:{format:"color",type:"string"}},"line-width":{title:"Line width",type:"number",default:3,description:"Width of the series lines, in pixels."},"point-size":{title:"Point size",type:"number",default:4,description:"Diameter of the series points, in pixels."},"point-fill-colors":{title:"Point fill colors",type:"array",description:"Colors for the series points. By default uses the same values as lineColors.",items:{format:"color",type:"string"}},"point-stroke-colors":{title:"Point Stroke Colors",type:"array",default:["#fff"],description:"Colors for the outlines of the series points. (#ffffff by default).",items:{format:"color",type:"string"}},ymax:{title:"Y maximum value",type:"string",default:"auto",description:"Max. bound for Y-values. Alternatively, set this to 'auto' to compute automatically, or 'auto [num]' to automatically compute and ensure that the max y-value is at least [num]."},ymin:{title:"Y minimum value",type:"string",default:"auto 0",description:"Min. bound for Y-values. Alternatively, set this to 'auto' to compute automatically, or 'auto [num]' to automatically compute and ensure that the min y-value is at most [num]. You can use this to create graphs with false origins."},smooth:{title:"Smooth",type:"string",default:"true",description:"Set to false to disable line smoothing."},"hide-hover":{title:"Hide hover",default:"auto",type:"string",description:"Set to Never to always show a hover legend. Set to 'auto' to only show the hover legend when the mouse cursor is over the chart. Set to 'always' to never show a hover legend."},"hover-callback":{title:"Hover callback",type:"string",description:"Provide a function on this option to generate custom hover legends. The function will be called with the index of the row under the hover legend, the options object passed to the constructor as arguments, a string containing the default generated hover legend content HTML, and an object containing the original data for the row as passed in the data option. hoverCallback: function (index, options, content, row) {return 'sin(' + row.x + ')='+ row.y}"},"parse-time":{title:"Parse time",type:"string",default:"true",description:"Set to false to skip time/date parsing for X values, instead treating them as an equally-spaced series."},"post-units":{title:"Post units",type:"string",description:"Set to a string value (eg: '%') to add a label suffix all y-labels."},"pre-units":{title:"Pre units",type:"string",description:"Set to a string value (eg: '$') to add a label prefix all y-labels."},xlabels:{title:"X labels",type:"string",default:"auto",description:"Sets the x axis labelling interval. By default the interval will be automatically computed.",format:"uiselect",placeholder:" ",items:[{value:"auto",label:"auto"},{value:"decade",label:"decade"},{value:"year",label:"year"},{value:"month",label:"month"},{value:"week",label:"week"},{value:"day",label:"day"},{value:"hour",label:"hour"},{value:"30min",label:"30min"},{value:"15min",label:"15min"},{value:"10min",label:"10min"},{value:"5min",label:"5min"},{value:"minute",label:"minute"},{value:"30sec",label:"30sec"},{value:"15sec",label:"15sec"},{value:"10sec",label:"10sec"},{value:"5sec",label:"5sec"},{value:"second",label:"second"}]},"xlabel-angle":{title:"X label angle",type:"number",default:0,description:"The angle in degrees from horizontal to draw x-axis labels."},"xlabel-format":{title:"X label format",type:"string",description:"A function that accepts Date objects and formats them for display as x-axis labels. Overrides the default formatter chosen by the automatic labeller or the xLabels option. function (x) { return x.toString(); }"},"ylabel-format":{title:"Y label format",type:"string",description:"A function that accepts y-values and formats them for display as y-axis labels. function (y) { return y.toString() + 'km'; }"},goals:{title:"Goals",type:"array",description:"A list of y-values to draw as horizontal 'goal' lines on the chart. goals: [1.0, -1.0]",items:{type:"number"}},"goal-stroke-width":{title:"Goal stroke width",type:"number",default:1,description:"Width, in pixels, of the goal lines."},"goal-line-colors":{title:"Goal line colors",type:"array",default:["#666633","#999966","#cc6666","#663333"],description:"Array of color values to use for the goal line colors. If you list fewer colors here than you have lines in goals, then the values will be cycled.",items:{format:"color",type:"string"}},events:{title:"Events",type:"array",description:"A list of x-values to draw as vertical 'event' lines on the chart. ex: ['2012-01-01', '2012-02-01']",items:{type:"string"}},"event-stroke-width":{title:"Event stroke width",type:"number",default:1,description:"Width, in pixels, of the event lines."},"event-line-colors":{title:"Event line colors",type:"array",default:["#005a04","#ccffbb","#3a5f0b","#005502"],description:"Array of color values to use for the event line colors. If you list fewer colors here than you have lines in events, then the values will be cycled.",items:{format:"color",type:"string"}},axes:{title:"Axes",type:"string",description:"Set to false to disable drawing the x and y axes.",default:"true"},grid:{title:"Grid",type:"string",description:"Set to false to disable drawing the horizontal grid lines.",default:"true"},"grid-text-color":{title:"Grid text color",type:"string",description:"Set the color of the axis labels (default: #888).",format:"color",default:"#888"},"grid-text-size":{title:"Grid text size",type:"number",description:"Set the point size of the axis labels (default: 12).",default:12},"grid-text-family":{title:"Grid text family",type:"string",description:"Set the font family of the axis labels (default: sans-serif).",default:"Source Sans Pro",placeholder:" "},"grid-text-weight":{title:"Grid text weight",type:"string",description:"Set the font weight of the axis labels (default: normal).",default:"normal",placeholder:" "},"date-format":{title:"Date format",type:"string",description:"A function that accepts millisecond timestamps and formats them for display as chart labels. default is function (x) { return new Date(x).toString() }."}},required:["xkey","ykeys"]}},{name:"donut",label:"Donut Chart",class:"scriptr-chart",commonData:!0,show:!0,defaults:{type:"donut","on-format-data":"return data;",boxLabel:"Donut Chart",transport:"wss",colors:["#005487","#fba723","#aa241d"],data:'[{label: "Drillers", value: 50}, {label: "Cranes",value: 20 }, {label: "Blasters", value: 30 }]',"msg-tag":"donut"},box:{sizeX:2,sizeY:2,minSizeX:1,minSizeY:1},imgSrc:"//cdn.rawgit.com/scriptrdotio/onset-static-resources/97574e7b/images/donut-chart.svg",form:[{type:"tabs",tabs:[{title:"Data",items:[{type:"section",htmlClass:"col-xs-12",items:[{key:"stream",type:"uiselectmultiple",placeholder:"",options:{closeOnSelect:!0,groupBy:"dataStream",multiple:"false",callback:"multiSelectCallBack",widgetName:"donut",limit:1,limitTo:50}}]}]},{title:"Format",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:["donut-formatter",{key:"background-color",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}},{key:"label-color",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}}]},{type:"section",htmlClass:"col-xs-6",items:[{key:"colors",items:[{key:"colors[]",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}}]}]}]}]},{title:"Box Properties",items:["boxLabel"]}]}],schema:{type:"object",title:"Schema",properties:{stream:{title:"Data Stream",type:"string",description:"",placeholder:" "},boxLabel:{title:"Box Label",type:"string",description:"Define your widget box title."},data:{title:"Data",type:"string",description:"Data series in case of static data.","x-schema-form":{type:"textarea",placeholder:"[{ y: '2006', a: 100, b: 90 },{ y: '2007', a: 75,  b: 65 }, { y: '2008', a: 50,  b: 40 }]"}},colors:{title:"Colors",type:"array",default:["#CC5464","#FCC717","#38B9D6","#1DBC68","#E90088"],description:"An array of strings containing HTML-style hex colors for each of the donut segments. Note: if there are fewer colors than segments, the colors will cycle back to the start of the array when exhausted.",items:{type:"string",format:"color"}},"label-color":{title:"Donut Label Color",type:"string",description:"Donut label color.",format:"color",default:"#eeeeee"},"background-color":{title:"Donut Background Color",type:"string",description:"Donut background color.",format:"color",default:"#ffffff"},"donut-formatter":{title:"Donut Formatter",type:"string",description:"Can either be a string for a filter name (eg. 'currency') or a reference to a scope function.  The latter is not yet available."}},required:[]}},{name:"gauge",label:"Gauge",class:"scriptr-gauge",commonData:!0,show:!0,defaults:{transport:"wss","on-format-data":"return data;",boxLabel:"Gauge","msg-tag":"gauge",data:30,"value-font-color":"#005588"},box:{sizeX:1,sizeY:1,minSizeX:1,minSizeY:1},imgCls:"gauge-img",imgSrc:"//cdn.rawgit.com/scriptrdotio/onset-static-resources/97574e7b/images/gauge.svg",form:[{type:"tabs",tabs:[{title:"Data",items:[{type:"section",htmlClass:"col-xs-12",items:[{key:"stream",type:"uiselectmultiple",placeholder:"",options:{closeOnSelect:!0,groupBy:"dataStream",multiple:"false",callback:"multiSelectCallBack",widgetName:"gauge",limit:1,limitTo:50}}]}]},{title:"Format",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-3",items:["symbol"]},{type:"section",htmlClass:"col-xs-3",items:["value-min-font-size"]},{type:"section",htmlClass:"col-xs-3",items:[{key:"value-font-color",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}}]},{type:"section",htmlClass:"col-xs-3",items:[{key:"hide-value",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]}]}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-12",items:[{type:"help",helpvalue:"<hr/>"}]}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-3",items:["label"]},{type:"section",htmlClass:"col-xs-3",items:["label-min-font-size"]},{type:"section",htmlClass:"col-xs-3",items:[{key:"label-font-color",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}}]}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-12",items:[{type:"help",helpvalue:"<hr/>"}]}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:[{key:"value-font-family",notitle:!1,type:"strapselect",titleMap:[{value:"Arial",name:"Arial"},{value:"Helvetica",name:"Helvetica"},{value:"Times New Roman",name:"Times New Roman"},{value:"Courier New",name:"Courier New"},{value:"Courier",name:"Courier"},{value:"Verdana",name:"Verdana"},{value:"Georgia",name:"Georgia"},{value:"Palatino",name:"Palatino"},{value:"Garamond",name:"Garamond"},{value:"Bookman",name:"Bookman"},{value:"Comic Sans MS",name:"Comic Sans MS"},{value:"Trebuchet MS",name:"Trebuchet MS"},{value:"Arial Black",name:"Arial Black"},{value:"Impact",name:"Impact"},{value:"Sans-Serif",name:"Sans-Serif"},{value:"Source Sans Pro",name:"Source Sans Pro"}]}]},{type:"section",htmlClass:"col-xs-6",items:[{key:"gauge-color",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}}]}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-12",items:[{type:"help",helpvalue:"<hr/>"}]}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:[{key:"format-number",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]}]},{type:"section",htmlClass:"col-xs-6",items:["decimals"]}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:[{key:"human-friendly",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]}]},{type:"section",htmlClass:"col-xs-6",items:["human-friendly-decimal"]}]}]},{title:"Min/Max",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:["min","min-label-min-font-size",{key:"hide-min-max",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]}]},{type:"section",htmlClass:"col-xs-6",items:["max","max-label-min-font-size",{key:"reverse",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]}]}]}]},{title:"Sectors",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-4",items:[{key:"pointer",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]}]},{type:"section",htmlClass:"col-xs-4",items:[{key:"gauge-width-scale",step:"0.1"}]}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-4",items:[{key:"donut",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]}]},{type:"section",htmlClass:"col-xs-4",items:["donut-start-angle"]}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-4",items:[{key:"no-gradient",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]}]},{type:"section",htmlClass:"col-xs-4",items:[{key:"level-colors",items:[{key:"level-colors[]",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}}],style:{add:"btn-primary btn-sm pull-left"}}]}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-4",items:[{key:"custom-sectors",title:"",items:[{key:"custom-sectors.percents",title:"Custom percent",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]}]}]},{type:"section",htmlClass:"col-xs-8",items:[{key:"custom-sectors",title:"",items:[{key:"custom-sectors.ranges",startEmpty:!0,title:"Custom Ranges",style:{add:"btn-primary btn-sm pull-left"},items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-3",items:[{key:"custom-sectors.ranges[].color",title:"color",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}}]},{type:"section",htmlClass:"col-xs-4",items:[{key:"custom-sectors.ranges[].lo"}]},{type:"section",htmlClass:"col-xs-4",items:[{key:"custom-sectors.ranges[].hi"}]}]}]}]}]}]}]},{title:"shadow",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-3",items:[{key:"show-inner-shadow",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]}]},{type:"section",htmlClass:"col-xs-3",items:["shadow-size"]},{type:"section",htmlClass:"col-xs-3",items:[{key:"shadow-opacity",step:"0.1"}]},{type:"section",htmlClass:"col-xs-3",items:["shadow-vertical-offset"]}]}]},{title:"Animation",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:[{key:"start-animation-type",notitle:!1,type:"strapselect",titleMap:[{value:"linear",name:"linear"},{value:">",name:">"},{value:"<",name:"<"},{value:"<>",name:"<>"},{value:"bounce",name:"bounce"}]},{key:"refresh-animation-type",notitle:!1,type:"strapselect",titleMap:[{value:"linear",name:"linear"},{value:">",name:">"},{value:"<",name:"<"},{value:"<>",name:"<>"},{value:"bounce",name:"bounce"}]},{key:"counter",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]}]},{type:"section",htmlClass:"col-xs-6",items:["start-animation-time","refresh-animation-time"]}]}]},{title:"Box Properties",items:["boxLabel"]}]}],schema:{type:"object",title:"Schema",properties:{boxLabel:{title:"Box Label",type:"string",description:"Define your widget box title."},data:{title:"Static data",type:"number",description:"Gauge static value to show"},stream:{title:"Data Stream",type:"string",description:"",placeholder:" "},"value-font-color":{title:"Value color",type:"string",default:"#005386",format:"color",description:"Color of the gauge value text"},min:{title:"Gauge min",type:"number",default:0,description:"Minimum gauge value."},max:{title:"Gauge max",type:"number",default:100,description:"Maximum gauge value."},"hide-min-max":{title:"Hide min/max",type:"string",default:"false",description:"Select true to hide min and max values (bool)"},"hide-value":{title:"Hide value",type:"string",default:"false",description:"Select true to hide gauge value"},"show-inner-shadow":{title:"Show shadow",type:"string",default:"false",description:"Show gauge inner shadow"},"gauge-color":{title:"Gauge background",type:"string",format:"color",description:"Background color of gauge."},"custom-sectors":{title:"Custom sectors",type:"object",properties:{percents:{title:"Percents",type:"string",default:"false",description:"Set to true for to have percent based sectors."},ranges:{type:"array",items:{type:"object",properties:{color:{title:"Sector Color",type:"string",format:"color",required:!0},lo:{title:"Low",type:"number",required:!0},hi:{title:"High",type:"number",required:!0}}}}}},"shadow-size":{title:"Shadow size",type:"number",default:5,description:"Gauge inner shadow size."},"shadow-opacity":{title:"Shadow opacity",type:"number",default:.2,description:"Shadow opacity, values 0 ~ 1",minimum:0,maximum:1},label:{title:"Label",type:"string",description:"Text to show below gauge value."},"label-font-color":{title:"Label color",type:"string",description:"Color of label under the value",format:"color"},"start-animation-type":{title:"Start animation",type:"string",default:"linear",description:"Select type of initial animation.",placeholder:" "},"refresh-animation-type":{title:"Refresh animation",type:"string",default:"linear",description:"Select type of refresh animation.",placeholder:" "},"value-font-family":{title:"Gauge font family",type:"string",default:"Arial",placeholder:" ",description:"Font family of the gauge."},"value-min-font-size":{title:"Value size",type:"number",default:12,description:"Minimum font size for the value."},"label-min-font-size":{title:"Label size",type:"number",default:12,description:"Minimum font size for the label."},"min-label-min-font-size":{title:"Min label size",type:"number",default:12,description:"Minimum font size for the minimum label."},"max-label-min-font-size":{title:"Max label size",type:"number",default:12,description:"Minimum font size for the maximum label."},"gauge-width-scale":{title:"Width scale",type:"number",default:1,description:"Gauge width scale."},"shadow-vertical-offset":{title:"Shadow vertical offset",type:"number",default:3,description:"Defines how much is shadow offset from top."},"level-colors":{title:"Level colors",type:"array",minItems:1,items:{type:"string",format:"color"},format:"color",default:["#005588","#5fc100","#fe4444"],description:"Colors of indicator, from lower to upper."},"relative-gauge-size":{title:"Relative gauge size",type:"string",default:"true",description:"Set to true to use sector-based color change, false to use gradual color change."},"no-gradient":{title:"No gradient",type:"string",default:"false",description:"Set to true to use sector-based color change, false to use gradual color change."},"start-animation-time":{title:"Start animation time",type:"number",default:700,description:"Duration of initial load animation in ms."},"refresh-animation-time":{title:"Refresh animation time",type:"number",default:700,description:"Length of refresh animation in ms."},donut:{title:"Donut",type:"string",default:"false",description:"Turn the gauge into a full circle donut."},"donut-start-angle":{title:"Donut start angle",type:"number",default:90,description:"Angle to start from when in donut mode."},width:{title:"Width",type:"number",description:"Gauge width"},height:{title:"Height",type:"number",description:"Gauge height."},reverse:{title:"Reverse",type:"string",default:"false",description:"Set to trueto swap max and min (with max appearing on the left, min on the right)."},decimals:{title:"Decimals",type:"number",default:0,description:"Quantity of decimal numbers to show."},symbol:{title:"Symbol",type:"string",description:"Unit of measure that will be appended to value."},"format-number":{title:"Format number",type:"string",default:"false",description:"Set to true to format numbers."},"human-friendly":{title:"Human friendly",type:"string",default:"false",description:"Set to true to show shorthand big numbers (300K instead of 300XXX)."},"human-friendly-decimal":{title:"Human friendly decimals",type:"number",default:0,description:"Number of decimal places for our human friendly number to contain."},pointer:{title:"Pointer",type:"string",default:"false",description:"Set to true to show value pointer."},counter:{title:"Counter",type:"string",default:"false",description:"Set to true to increase numbers one by one."}},required:["level-colors"]}},{name:"thermometer",label:"Thermometer",
class:"scriptr-thermometer",commonData:!0,show:!0,defaults:{transport:"wss",api:"UIComponents/dashboard/frontend/examples/thermometer/getThermometerValue","msg-tag":"thermometer","on-format-data":"return data;",boxLabel:"Thermometer",data:"0",step:30,unit:"C","custom-sectors":[{color:"#005588",lo:0,hi:30},{color:"#aa241d",lo:30,hi:60},{color:"#ffa500",lo:60,hi:90}]},box:{sizeX:1,sizeY:1,minSizeX:1,minSizeY:1,maxSizeX:1,maxSizeY:2},imgCls:"thermometer-img",imgSrc:"//cdn.rawgit.com/scriptrdotio/onset-static-resources/97574e7b/images/thermometer.svg",form:[{type:"tabs",tabs:[{title:"Data",items:[{type:"section",htmlClass:"col-xs-12",items:[{key:"stream",type:"uiselectmultiple",placeholder:"",options:{closeOnSelect:!0,groupBy:"dataStream",multiple:"false",callback:"multiSelectCallBack",widgetName:"thermometer",limit:1,limitTo:50}}]}]},{title:"Format",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-12 col-sm-6",items:[{key:"out-of-range-color",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}}]},{type:"section",htmlClass:"col-xs-12 col-sm-6",items:[{type:"section",htmlClass:"",items:["step"]},{type:"section",htmlClass:"",items:[{key:"custom-sectors",title:"Fill Color",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-3",items:[{key:"custom-sectors[].color",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}}]},{type:"section",htmlClass:"col-xs-3",items:[{key:"custom-sectors[].lo"}]},{type:"section",htmlClass:"col-xs-3",items:[{key:"custom-sectors[].hi"}]}]}]}]}]}]}]},{title:"Box Properties",items:["boxLabel"]}]}],schema:{type:"object",title:"Schema",properties:{data:{title:"Thermometer Value",type:"string",description:"Thermometer Value (0 to 100)"},stream:{title:"Data Stream",type:"string",description:"",placeholder:" "},height:{title:"Height",type:"number",description:"Set the height of Thermometer."},unit:{title:"Unit",type:"hidden",default:"C",description:"Set the unit value of Thermometer."},"out-of-range-color":{title:"Out Of Range Color",type:"string",description:"Set the default color for out of range values (default: #005588).",format:"color",default:"#5fc100"},"custom-sectors":{title:"Custom sectors",type:"array",items:{type:"object",properties:{color:{title:"Color",type:"string",format:"color",required:!0},lo:{title:"Low",type:"number",required:!0},hi:{title:"High",type:"number",required:!0}}}},step:{title:"Interval",type:"number",description:"Set the interval value between ticks."},boxLabel:{title:"Box Label",type:"string",description:""}},required:[]}},{name:"plotly",label:"Wind Rose",class:"scriptr-plotly",commonData:!0,show:!0,defaults:{transport:"wss",api:"UIComponents/dashboard/frontend/examples/plotly/getPlotlyData","msg-tag":"windrose","on-format-data":"return data;",boxLabel:"Wind Rose","retrieved-data":[{direction:"E",speeds:[2,3,15,17]},{direction:"ESE",speeds:[24,8,4]},{direction:"SSE",speeds:[2.5,7,16]},{direction:"S",speeds:[3,8,2,1,9,11]},{direction:"SSW",speeds:[13,3,7.5,8]},{direction:"WSW",speeds:[21,14,9]},{direction:"W",speeds:[7,0,8,9,15,19,11]},{direction:"WNW",speeds:[4,17,21]},{direction:"NNW",speeds:[14,7]},{direction:"N",speeds:[20,0,5,9,7]},{direction:"NNE",speeds:[1,.5,6.5]},{direction:"ENE",speeds:[3.5,30,15]}]},box:{sizeX:1,sizeY:1},imgCls:"",imgSrc:"//cdn.rawgit.com/scriptrdotio/onset-static-resources/6106965d/images/wind-rose.svg",form:[{type:"tabs",tabs:[{title:"Data",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:[{key:"windDirection",notitle:!1,type:"uiselectmultiple",placeholder:"",options:{closeOnSelect:!0,groupBy:"dataStream",callback:"multiSelectCallBack",widgetName:"plotly",widgetField:"Wind Direction",limit:"1",limitTo:50}}]},{type:"section",htmlClass:"col-xs-6",items:[{key:"windSpeed",notitle:!1,type:"uiselectmultiple",options:{closeOnSelect:!0,groupBy:"dataStream",callback:"multiSelectCallBack",widgetName:"plotly",widgetField:"Wind Speed",limit:"1",limitTo:50}}]}]}]},{title:"Format",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-12 col-sm-6",items:["font-size",{key:"show-legend",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]}]},{type:"section",htmlClass:"col-xs-12 col-sm-6",items:[{key:"custom-ranges",title:"Fill Color & Ranges",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-3",items:[{key:"custom-ranges[].color",title:"color",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}}]},{type:"section",htmlClass:"col-xs-3",items:[{key:"custom-ranges[].lo"}]},{type:"section",htmlClass:"col-xs-3",items:[{key:"custom-ranges[].hi"}]}]}]}]}]}]},{title:"Box Properties",items:["boxLabel"]}]}],schema:{type:"object",title:"Schema",properties:{"font-size":{title:"Font Size",type:"number",default:16,description:"Set the font size of the wind rose (in px)."},windSpeed:{title:"Wind Speed Data Stream",type:"string",description:"",placeholder:" "},windDirection:{title:"Wind Direction Data Stream",type:"string",description:"",placeholder:" "},"show-legend":{title:"Show Legend",type:"string",default:"true",description:"Set visibility of the legend."},boxLabel:{title:"Box Label",type:"string",description:""},"custom-ranges":{title:"Custom Ranges",type:"array",default:[{color:"#00476b",lo:0,hi:2},{color:"#005487",lo:2,hi:4},{color:"#006699",lo:4,hi:6},{color:"#0082b5",lo:6,hi:8},{color:"#0294c1",lo:8,hi:10},{color:"#06a9ce",lo:10,hi:20}],items:{type:"object",properties:{color:{title:"Sector Color",type:"string",format:"color",required:!0},lo:{title:"Low",type:"number",required:!0},hi:{title:"High",type:"number",required:!0}}}}},required:[]}},{name:"speedometer",label:"Speedometer",class:"scriptr-speedometer",commonData:!0,show:!1,defaults:{transport:"wss",boxLabel:"Speedometer","on-format-data":"return data;",data:45,"msg-tag":"speedometer"},box:{sizeX:1,sizeY:1,minSizeX:1,minSizeY:1},imgSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAlCAYAAADWSWD3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0MzNkM2FlMS1hYTk2LWIyNGItYmFkMy1lYWZiODRkM2YzODIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6M0U0RkEwQjZFN0I3MTFFNjhGMEZBOEREMDEzMkY1NjciIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6M0U0RkEwQjVFN0I3MTFFNjhGMEZBOEREMDEzMkY1NjciIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MmM0MmUzZDAtZTJjNC1iMjQyLWJjZTItYThjYWQ3ZjkxMzAyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjQzM2QzYWUxLWFhOTYtYjI0Yi1iYWQzLWVhZmI4NGQzZjM4MiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Poq6iGcAAAS7SURBVHjazFhpbA1RFJ432qq1VUtUqK1FSGiUJ2jkWZ7YfpTG1ibULvHDnhA/hPhhDz+IJVWaWqKpNhEifRJCEY9KNSpEiiIhllL6qkFT3+FMnd4+rTfz+p6TfDkz584955szZ87cuTbNgrhcrhZQw4CxwFCgP9ADiAB0oAb4DLwEHgP3gCvAXafTWWM2rs0k2SFQC4C5QBcTLt4Cp4EMkL/frKRBNgFqCzBV859cADaDfKFfSYNsJNR2YKmXObVAMXCNdWnrgsL40Bev936PiV5TlZhQBFtfYDAwhrU3H0eADSD/yTJpEB4BdQbopQw9Aw4DJxHolRy4m7woCSoXmD4sJz1P8dcdKhVYBvRWfD4H5sDf7cY46U0QJufXJWHd81Vr5S5247AfnO9QCTcldD3No/nkh/wJoTjXOa7vpDFxBVQWECrMB9pnX8oNv/fQ3uHQmVFWCpnmkx/yR37FEMXL4vj/Xh6YMA/qhDBROlKRoVw8+p44fsQtLAGP3+fWBR/UKgu5RQ6AjzLEnE6lBrQSl85HzMwmM43JlMF0YXoPOIgwnVAAKHq81PbGm0z0eJ6/g/1p7N/B8QxJZz5/J40LOkKdBULY5KH2BoduZR6RTkTAfDOMeV4i+5H17uZ26mET8TjLvLyXBwYzoNKEaYaR4UAKl8o5YToOHgsakMaFo6EK/nTO2v3OiRNXaUESV37+Ps1mWylMiSB+Qy2PrXU1U1mlRR7LGYcXxhEMwhSX4hMPb/xsnOXhUHV1i1aUgx46hd9kKo+1qMNnASBLH5s99FGijvXVPvhi9dCByeISO7J9x8j0EjFQigtnUfMHTgFJvHILhPTgeBS3H3jMJj5i/BdPG7IcBv0OaM8D63E3u8XdxyHLTwJYGvXigd86qF18SsvczpTpkYJwLX8FZXt6Esh69hIvi3lpzHOkzgt4Q4qR5TfafyTMp1iYxhLpeGG4auGxDgBszcRd8orX+ftvyEMLjgcCB5uJuOTVn0hHC8NTC46p8S+n9QIviPwpklc0dQ+jyLU2rhtHwkpfvhYXbMeLUe1DiVB76sMta56ZFSD7Cae/GOP8W9+Ybh7nqLq2HCIvblFRuVSZvw+o9iHeLSadwsHNEifSm//w+tJglffDOPGMG+Gk9blAhYkSMYSIZ5oslQrJw+OwTxBjNZTpcmMboCYqsi0y88lC7V1Wzol4FIinwO9HH3o1lWwdD9fyOW3F8Add+UzG+eHDUKaYJwElID7FgutYcVymK+3E7oc3vcCLjToU/arFms2HOH5ApG8Kg4O3uqzIo7/Yw3hHytcfAhv/hhni1pU67MQbKlbkQyNjESb80b5LV3kfOr7tL6g7CeNii6Qb2966acLfQnFcAr6lxno6QwzMxCOJsfAyurm/q5LHPxS+lEYn3o3SJE+DdKboyaG8yWili6yGSuad0WzOVjK3Ml9kI9Ba7AwcV39sN0FtE+vqMXgUBUH7sXW5BkEVia82bcFtUH9s92u/N7+Nm8nAxIggEW7Ji/8Q8XLvbLBZg7uohFqhNPSDQUp0mrLOp1/Acq87TBg4D3VImKYFibRck+eAl2wU9Vd5LLRBQ91jMpdMMOQor/Ta8ZZCPfkpwABkBJ8fXRbYywAAAABJRU5ErkJggg==",form:[{type:"tabs",tabs:[{title:"min/max",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:["min-value","max-value"]},{type:"section",htmlClass:"col-xs-6",items:["tick-space-maj-val","tick-space-min-val"]}]}]},{title:"Format",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-4",items:["tick-col-maj","outer-edge-col","needle-col",{key:"default-fonts",notitle:!1,type:"strapselect",titleMap:[{value:"Arial",name:"Arial"},{value:"Helvetica",name:"Helvetica"},{value:"Times New Roman",name:"Times New Roman"},{value:"Courier New",name:"Courier New"},{value:"Courier",name:"Courier"},{value:"Verdana",name:"Verdana"},{value:"Georgia",name:"Georgia"},{value:"Palatino",name:"Palatino"},{value:"Garamond",name:"Garamond"},{value:"Bookman",name:"Bookman"},{value:"Comic Sans MS",name:"Comic Sans MS"},{value:"Trebuchet MS",name:"Trebuchet MS"},{value:"Arial Black",name:"Arial Black"},{value:"Impact",name:"Impact"},{value:"Sans-Serif",name:"Sans-Serif"},{value:"Source Sans Pro",name:"Source Sans Pro"}]}]},{type:"section",htmlClass:"col-xs-4",items:["tick-col-min","inner-col","gauge-units"]},{type:"section",htmlClass:"col-xs-4",items:["tick-label-col","pivot-col","units-label-col"]}]}]},{title:"Box Properties",items:["boxLabel"]}]}],schema:{type:"object",title:"Schema",properties:{boxLabel:{title:"Box Label",type:"string",description:"Define your widget box title."},data:{title:"Static data",type:"number",description:"Sets the value of needle to be pointed."},"min-value":{title:"Minimum Value",type:"number",description:"Minimum value to be shown in gauge scale.",default:0},"max-value":{title:"Maximum Value",type:"number",description:"Maximum value to be shown in gauge scale.",default:220},"tick-space-min-val":{title:"Minor Tick Space Value",type:"number",description:"Space between the major ticks of the gauge.",default:10},"tick-space-maj-val":{title:"Major Tick Space Value",type:"number",description:"Space between the sub ticks of the gauge.",default:20},"gauge-units":{title:"Gauge Units",type:"string",description:"Unit of the values to be shown(ex. Kmph,%)."},"tick-col-maj":{title:"Tick Major Color",type:"string",description:"Sets color of the major tick.",format:"color",default:"#C64DFF"},"tick-col-min":{title:"Tick Minor Color",type:"string",format:"color",description:"Sets color of the sub tick.",default:"#999999"},"outer-edge-col":{title:"Outer Edge color",type:"string",description:"Sets the color of outer circle of the gauge.",format:"color",default:"#f4f4f4"},"pivot-col":{title:"Pivot color",type:"string",description:"Sets color of the pivot.",format:"color",default:"#434a54"},"inner-col":{title:"Inner color",type:"string",description:"Sets color of inner body of the gauge.",format:"color",default:"#fff"},"units-label-col":{title:"Units Label Colour",type:"string",description:"Sets color of units label.",format:"color",default:"#C64DFF"},"tick-label-col":{title:"Tick Label Colour",type:"string",description:"Sets color of labels of the ticks.",format:"color",default:"#656D78"},"needle-col":{title:"Needle Colour",type:"string",description:"Sets color of the needle.",format:"color",default:"#C64DFF"},"default-fonts":{title:"Default Fonts",type:"string",description:"Sets the default fonts in gauge.",default:"Source Sans Pro",placeholder:" "}},required:[]}},{name:"progressbar",label:"ProgressBar",class:"scriptr-progressbar",commonData:!0,show:!1,defaults:{transport:"wss","msg-tag":"progressbar",value:"20",animate:"true","on-format-data":"return data;",title:"Progress bar",class:"progress-striped active"},box:{sizeX:2,sizeY:1,minSizeX:1,minSizeY:1,maxSizeY:1},imgCls:"",imgSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAlCAYAAADWSWD3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0MzNkM2FlMS1hYTk2LWIyNGItYmFkMy1lYWZiODRkM2YzODIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzIwMzYyNENGNzg1MTFFNkEwRUNDNjZDRjJCNDk3Q0YiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzIwMzYyNEJGNzg1MTFFNkEwRUNDNjZDRjJCNDk3Q0YiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MjQxMWY2ZjctYTU5Zi00NzRiLTgwOWMtZGQ5ZTNhNTZiMTk0IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjQzM2QzYWUxLWFhOTYtYjI0Yi1iYWQzLWVhZmI4NGQzZjM4MiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnTLjfAAAAHGSURBVHja7JffK0NhGMe3mRWLbBEXLshc0eHOnbh2Q4miSC1kSpblbyBEWpRtRbI7/Aei3LhQfl65k/zI7581NN+3nlOvpzPjzup569Pznn3O8+57zt5zavZkMmnLtOGwZeCQ0BJaQktoCS2hJbSEltBphrM7etCCGgYJ7fMsUMrOfQNXNM8FRczfgweau0HhH/0deEyzvsoQcFDg+iW/UWaC4zhr+ARN5HzgiHl1MQb5SnD8g/dZ+AtQRb4CHDJ/CapVTpXXqe4wTj4xbVdkvx0lxJpGcc4GzcdAg+Y+QBv8KR1P0eKp/ATz76AV/pyOx0GjRf8Z5Ut829P4wECJscBxNEyS70AJMh+C3yTfgzLIfFDznShDzA/Db2s3jK8/Ar9l+SCiwYOyTvvJHHvAT74WJcIWXMaC0+TrUOaZj8HPkq9BWWB+ET5MXv38UYv1Z6zeHtloUPtwBZRr7hY0o+kV3ov5GsjR/C7opS8sQVkFLs3vgAHyqfr7yReQd7Mb1sd2gnoeXHZM1NtjDhSzC3oGNzTPA17m1UU90TwfeJi/Bi+/7Ld6m+jeHOqmBOzyb1xCS2gJLaEltISW0BJaQv+P8SXAADiWmlqqypMfAAAAAElFTkSuQmCC",form:[{type:"tabs",tabs:[{title:"Progress bar behaviour",items:["stacked","class","type","max",{key:"animate",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]}]},{title:"Box Properties",items:["boxLabel"]}]}],schema:{type:"object",title:"Schema",properties:{boxLabel:{title:"Box Label",type:"string",description:"Define your widget box title."},data:{title:"Progressbar Value",type:"number",description:"The current value of progress bar."},animate:{title:"Animate",type:"string",description:"Whether bars use transitions to achieve the width change."},class:{title:"Class",type:"string",description:"Can take 'progress-striped' or 'progress-striped active'"},type:{title:"Type",type:"string",description:"Bootstrap style type. Possible values are 'success', 'info', 'warning', and, 'danger' to use Bootstrap's pre-existing styling, or any desired custom suffix."},max:{title:"Total number of bars",type:"string",description:"A number that specifies the total value of bars that is required."},stacked:{title:"Stacked",type:"string",description:"Array of objects representing multiple stacked progress bars.","x-schema-form":{type:"textarea",placeholder:"[{value : 50, type : 'success', title : 'bar1'},{value : 70, type : 'warning', title : 'bar2'}]"}}},required:[]}},{name:"map",label:"Map",class:"scriptr-map",commonData:!0,show:!1,defaults:{"on-format-data":"return data;",transport:"wss",boxLabel:"Map","clustered-view":"true","cluster-zoom":8,heatmap:"true",bounce:"true",resize:"false",data:'{ "253812" : { "550153" : [ { "lat" : {"value": "40.84969"}, "long" :{"value": "-73.94168"}, "bounce": {"value" : "true"}, "speed" : { "value" : "8", "description" :"Maximum Speed Recorded (since the previous reading)" }, "fuel" : {"value" : "30", "description" : "Percentage of Fuel Remaining" },"fuelRate" : { "value" : "1.3", "description" : "Rate of FuelConsumption" }, "rpm" : { "value" : "2818", "description" : "EngineSpeed" }, "coolantTemperature" : { "value" : "91", "description" :"Engine Temperature" }, "voltage" : { "value" : "13.99", "description" :"Battery Voltage" }, "status" : { "value" : "RUNNING" }, "address" : {},"mileage" : { "value" : "55101" }, "make" : { "value" : "Toyota" },"model" : { "value" : "Tacoma" }, "snr" : { "value" : "11","description" : "Signal to Noise Ratio" }, "rssi" : { "value" : "61","description" : "Received Signal Strength Indicator" } }, { "lat" :{"value": "40.84919"}, "long" : {"value": "-73.93897000000001"}, "speed": { "value" : "5", "description" : "Maximum Speed Recorded (since theprevious reading)" }, "fuel" : { "value" : "57", "description" :"Percentage of Fuel Remaining" }, "fuelRate" : { "value" : "1.4","description" : "Rate of Fuel Consumption" }, "rpm" : { "value" :"2838", "description" : "Engine Speed" }, "coolantTemperature" : {"value" : "94", "description" : "Engine Temperature" }, "voltage" : {"value" : "13.15", "description" : "Battery Voltage" }, "status" : {"value" : "RUNNING" }, "address" : {}, "mileage" : { "value" : "55101"}, "make" : { "value" : "Toyota" }, "model" : { "value" : "Tacoma" },"snr" : { "value" : "9", "description" : "Signal to Noise Ratio" },"rssi" : { "value" : "48", "description" : "Received Signal StrengthIndicator" } }, { "lat" : {"value": "40.848600000000005"}, "long" :{"value": "-73.93648"}, "speed" : { "value" : "9", "description" :"Maximum Speed Recorded (since the previous reading)" }, "fuel" : {"value" : "76", "description" : "Percentage of Fuel Remaining" },"fuelRate" : { "value" : "1.2", "description" : "Rate of FuelConsumption" }, "rpm" : { "value" : "2465", "description" : "EngineSpeed" }, "coolantTemperature" : { "value" : "97", "description" :"Engine Temperature" }, "voltage" : { "value" : "13.39", "description" :"Battery Voltage" }, "status" : { "value" : "RUNNING" }, "address" : {},"mileage" : { "value" : "55101" }, "make" : { "value" : "Toyota" },"model" : { "value" : "Tacoma" }, "snr" : { "value" : "11","description" : "Signal to Noise Ratio" }, "rssi" : { "value" : "69","description" : "Received Signal Strength Indicator" } } ], "source" :"simulator", "order" : [ "550153" ] }, "253815" : { "550191" : [ { "lat": {"value": "40.80913"}, "long" : {"value": "-73.90327"}, "speed" : {"value" : "7", "description" : "Maximum Speed Recorded (since theprevious reading)" }, "fuel" : { "value" : "56", "description" :"Percentage of Fuel Remaining" }, "fuelRate" : { "value" : "1.2","description" : "Rate of Fuel Consumption" }, "rpm" : { "value" :"2123", "description" : "Engine Speed" }, "coolantTemperature" : {"value" : "100", "description" : "Engine Temperature" }, "voltage" : {"value" : "13.45", "description" : "Battery Voltage" }, "status" : {"value" : "RUNNING" }, "address" : {}, "mileage" : { "value" : "55043"}, "make" : { "value" : "Saab" }, "model" : { "value" : "9-3" }, "snr" :{ "value" : "13", "description" : "Signal to Noise Ratio" }, "rssi" : {"value" : "49", "description" : "Received Signal Strength Indicator" }}, { "lat" : {"value": "40.807500000000004"}, "long" : {"value":"-73.90557000000001"}, "speed" : { "value" : "6", "description" :"Maximum Speed Recorded (since the previous reading)" }, "fuel" : {"value" : "16", "description" : "Percentage of Fuel Remaining" },"fuelRate" : { "value" : "1.7", "description" : "Rate of FuelConsumption" }, "rpm" : { "value" : "1946", "description" : "EngineSpeed" }, "coolantTemperature" : { "value" : "95", "description" :"Engine Temperature" }, "voltage" : { "value" : "12.87", "description" :"Battery Voltage" }, "status" : { "value" : "RUNNING" }, "address" : {},"mileage" : { "value" : "55043" }, "make" : { "value" : "Saab" },"model" : { "value" : "9-3" }, "snr" : { "value" : "13", "description" :"Signal to Noise Ratio" }, "rssi" : { "value" : "59", "description" :"Received Signal Strength Indicator" } } ], "source" : "simulator","order" : [ "550191" ] } }',"sources-info":'{"simulator": {"label": "Carvoyant"}}',"msg-tag":"everyone-main-live"},box:{sizeX:2,sizeY:2,minSizeX:2,minSizeY:2},imgCls:"",imgSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAlCAYAAADWSWD3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0MzNkM2FlMS1hYTk2LWIyNGItYmFkMy1lYWZiODRkM2YzODIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MkU0NTdGMTJGMUU1MTFFNkJDRDE5REMyQjEzM0VEQzYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MkU0NTdGMTFGMUU1MTFFNkJDRDE5REMyQjEzM0VEQzYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MjQxMWY2ZjctYTU5Zi00NzRiLTgwOWMtZGQ5ZTNhNTZiMTk0IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjQzM2QzYWUxLWFhOTYtYjI0Yi1iYWQzLWVhZmI4NGQzZjM4MiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Phrv2GYAAAP1SURBVHja7JlrSFRBFMfnqklWW5qP0NK2KCgqo6DACntpRQ8MAwtK+tBLiygiqCiIDAyjD/Uhn5VFH8oUKYuCMiUqS4JKgojIrdQv+SDDtJe72//ocZu97euuXlfBgT9nd+48fvfMzNmZWcVqtQo5KYoi+jr9qYpIgNkDLYZCoG9QFZQ3bEHjLWf11Gw2Rj2hARsIkw9tdVGMoDcDvt1TaD+hb7rgBphSElSEF/SYRTdoQKyESbUbxeFGoYxdJZSgqeria8jbnrYdoKOX99p5x5gh/CJ3/Rv6phvCXLsfH8xy+as+9TTSUpuHQ9fZAXflhacIvwi7gZiH0RnhM2h0boCxASjByxxHgZAEdVaEz6ARCdpg2mwZlp+OC1o67L5BzdEP0sI1Q6NSFjSpD9jv2eZvcwkzqZgxr6X0CC/7HbYU/VdA8501/F+cjilPpwwrd5oD3a1PzLV4QomOpsOkQKdMI0sXwlbYOgpbL/yNJzEMmAGdrcJSlyksX67I1TdObk+ugX3Xk1GXkKNoiR5UeDXrE2DyYC8CvskBaCTMJg5vczi7HiqEXtAC6/b2TdHZXIYeRwthbpOjBqUP5GFoDFQpL2JvQ56RPAedAGAxbDb0Bkrm2LpcNc1olOIw1JewIA/J3u6aIvCyg3QU5TuFyG1BH2XuoF0txGPQTqiGvwcy5FPoK3QZSpTaIK8eJOdjRHbwgqxkD7pKj6FiLYvFlafb0XkBbAHePg52N89XgvfnMo3QOfoZRtlaJ+3sg1ZAoxxFRygNL2fVAu1RyAPQM4jm7ATosBTOKD/TBTB5uwHmgJPHx/H8rdawpClO00KEsvDRpDFu04jdVmXTNDvtTSzVe5cnp208nQSPVCpexjygoQHYxNtUmr/p+P7R27b609MCPx7VMEtgy3vTTr9CI50B8A8+zQwa6FCKONDEwQQtpBg/qKDFEPQQ9BD0wIAOw84x1tvKAf1FCcgpfKCgNJ726ch7wke6EmzEfg8IaEBRTF5Lew3eU6vPfItYZ1GWrtDyfAYNgHEw2yG6oYlWPX5IBwtoFpehsnRtcASi41lDb6DnovNgDFurBth49uoG2thJj6gNOnpno733nFeE8hl81qQ68bzGYtz14+wKoSfRbco16Dw6eyXBvYaZLbqvaelEs4WPYzNV7b+kutB11O9w88IzuA1qz+DqCsERNJ3p0qBpqrLVfBKnG5bnDE175CDV+e8XQdICA2i1F1PLwE5IB3SsR9B0qY6KCh/j6c2TVNOohQ+3BlVbJo4EhYBt6Yu14fU/AXiBKL5KoGuBKPXNFnSHYe97ehOlO7QEH8Bep/9OaP5RiMoH6Ge9QqYz6L8CDAAxBVRygRGqnQAAAABJRU5ErkJggg==",form:[{type:"tabs",tabs:[{title:"Map behaviour",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:[{key:"clustered-view",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},{key:"heatmap",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},"cluster-zoom","clustered-zoom-max","detailed-zoom-min"]},{type:"section",htmlClass:"col-xs-6",items:[{key:"marker-info-window",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},{key:"bounce",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},"focused-marker-zoom","path-stroke-opacity","path-stroke-weight","max-asset-points"]}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-12",items:["sources-info","default-center"]}]}]},{title:"Box Properties",items:["boxLabel"]},{title:"Help",items:[{type:"help",helpvalue:'<div class="alert alert-info"><h4>Map data format is as below, where: <br/> <br/>"253831": asset id, <br/> <br/> "550488": asset trip id & contains an array  of asset trip points data,  <br/> <br/>  "order" : [ "550488" ]\r\n   contains the asset\'s trips order <br/> <br/>and "source" : "simulator" is the asset source name.  </h4></div> <pre class="map-help-settings">{"253831" : {\r\n      "550488" : [\r\n            {\r\n               "lat" : {"value": "40.859140000000004"},\r\n               "long" : {"value": "-72.67528"},\r\n               "speed" : {\r\n                  "value" : "6",\r\n                  "description" : "Maximum Speed Recorded (since the previous reading)"\r\n               },\r\n               "fuel" : {\r\n                  "value" : "57",\r\n                  "description" : "Percentage of Fuel Remaining"\r\n               },\r\n               "fuelRate" : {\r\n                  "value" : "0.9",\r\n                  "description" : "Rate of Fuel Consumption"\r\n               },\r\n               "rpm" : {\r\n                  "value" : "2181",\r\n                  "description" : "Engine Speed"\r\n               },\r\n               "coolantTemperature" : {\r\n                  "value" : "104",\r\n                  "description" : "Engine Temperature"\r\n               },\r\n               "voltage" : {\r\n                  "value" : "13.38",\r\n                  "description" : "Battery Voltage"\r\n               },\r\n               "status" : {\r\n\t               "value" : "RUNNING"\r\n               },\r\n               "address" : {},\r\n               "mileage" : {\r\n\t               "value" : "54849"\r\n               },\r\n               "make" : {\r\n\t               "value" : "Jeep"\r\n               },\r\n               "model" : {\r\n\t               "value" : "Wrangler"\r\n               },\r\n               "snr" : {\r\n                  "value" : "11",\r\n                  "description" : "Signal to Noise Ratio"\r\n               },\r\n               "rssi" : {\r\n                  "value" : "46",\r\n                  "description" : "Received Signal Strength Indicator"\r\n               }\r\n            },\r\n            {\r\n               "lat" : {"value": "40.859790000000004"},\r\n               "long" : {"value": "-72.67344"},\r\n               "speed" : {\r\n                  "value" : "11",\r\n                  "description" : "Maximum Speed Recorded (since the previous reading)"\r\n               },\r\n               "fuel" : {\r\n                  "value" : "23",\r\n                  "description" : "Percentage of Fuel Remaining"\r\n               },\r\n               "fuelRate" : {\r\n                  "value" : "1.6",\r\n                  "description" : "Rate of Fuel Consumption"\r\n               },\r\n               "rpm" : {\r\n                  "value" : "1498",\r\n                  "description" : "Engine Speed"\r\n               },\r\n               "coolantTemperature" : {\r\n                  "value" : "87",\r\n                  "description" : "Engine Temperature"\r\n               },\r\n               "voltage" : {\r\n                  "value" : "13.68",\r\n                  "description" : "Battery Voltage"\r\n               },\r\n               "status" : {\r\n\t               "value" : "RUNNING"\r\n               },\r\n               "address" : {},\r\n               "mileage" : {\r\n\t               "value" : "54849"\r\n               },\r\n               "make" : {\r\n\t               "value" : "Jeep"\r\n               },\r\n               "model" : {\r\n\t               "value" : "Wrangler"\r\n               },\r\n               "snr" : {\r\n                  "value" : "10",\r\n                  "description" : "Signal to Noise Ratio"\r\n               },\r\n               "rssi" : {\r\n                  "value" : "49",\r\n                  "description" : "Received Signal Strength Indicator"\r\n               }\r\n            },\r\n            {\r\n               "lat" : {"value": "40.86056000000001"},\r\n               "long" : {"value": "-72.67124000000001"},\r\n               "speed" : {\r\n                  "value" : "15",\r\n                  "description" : "Maximum Speed Recorded (since the previous reading)"\r\n               },\r\n               "fuel" : {\r\n                  "value" : "32",\r\n                  "description" : "Percentage of Fuel Remaining"\r\n               },\r\n               "fuelRate" : {\r\n                  "value" : "1.8",\r\n                  "description" : "Rate of Fuel Consumption"\r\n               },\r\n               "rpm" : {\r\n                  "value" : "1323",\r\n                  "description" : "Engine Speed"\r\n               },\r\n               "coolantTemperature" : {\r\n                  "value" : "91",\r\n                  "description" : "Engine Temperature"\r\n               },\r\n               "voltage" : {\r\n                  "value" : "14.30",\r\n                  "description" : "Battery Voltage"\r\n               },\r\n               "status" : {\r\n\t               "value" : "RUNNING"\r\n               },\r\n               "address" : {},\r\n               "mileage" : {\r\n\t               "value" : "54849"\r\n               },\r\n               "make" : {\r\n\t               "value" : "Jeep"\r\n               },\r\n               "model" : {\r\n\t               "value" : "Wrangler"\r\n               },\r\n               "snr" : {\r\n                  "value" : "13",\r\n                  "description" : "Signal to Noise Ratio"\r\n               },\r\n               "rssi" : {\r\n                  "value" : "57",\r\n                  "description" : "Received Signal Strength Indicator"\r\n               }\r\n            } ],\r\n      "source" : "simulator",\r\n      "order" : [ "550488" ]\r\n   } }</pre>'}]}]}],schema:{type:"object",title:"Schema",properties:{boxLabel:{title:"Box Label",type:"string",description:"Define your widget box title."},"clustered-view":{title:"Clustered View",type:"string",description:"Render map with a cluster view for conglomerate markers or not."},"cluster-zoom":{title:"Cluster Zoom",type:"number",description:"The initial map zoom level when clustered view is true.",default:3},heatmap:{title:"Heat Map",type:"string",description:"Enable/disable heat map."},bounce:{title:"Bounce",type:"string",description:"Enable/disable bouncing."},"clustered-zoom-max":{title:"Cluster Zoom Max",type:"number",description:"Map max zoom level with a rendered cluster view.",default:11},"focused-marker-zoom":{title:"Focused marker zoom",type:"number",description:"Zoom level when focusing on a single marker. If not set it is equal to detailed map zoom + 3."},"detailed-zoom-min":{title:"Detailed map initial zoom",type:"number",description:"Ignored when clustered view true.",default:0},"max-asset-points":{title:"Max marker trip points",type:"string",description:"Number of tracked trip points per marker, do not set if infinite.",default:100},"marker-info-window":{title:"Show marker info",type:"string",description:"Whether to show an info window on marker click.",default:"true"},"default-center":{title:"Default Map Center",type:"string",
description:"Default map center before marker(s) is/are loaded. String format lat,long.",default:"40.7053111,-74.258188"},"sources-info":{title:"Sources Info",type:"string",description:"Sources Info.ex: {'stream': {'label': 'Carvoyant', 'url': 'http://icons.iconarchive.com/icons/graphicloads/flat-finance/32/lock-icon.png'}}","x-schema-form":{type:"textarea",placeholder:"{'stream': {'label': 'Carvoyant', 'url': 'http://icons.iconarchive.com/icons/graphicloads/flat-finance/32/lock-icon.png'}}"}},data:{title:"Markers data",type:"string",description:"Static markers data","x-schema-form":{type:"textarea",placeholder:'{ "253812" : { "550153" : [ { "lat" : {"value": "40.84969"}, "long" :{"value": "-73.94168"}, "speed" : { "value" : "8", "description" :"Maximum Speed Recorded (since the previous reading)" }, "fuel" : {"value" : "30", "description" : "Percentage of Fuel Remaining" },"fuelRate" : { "value" : "1.3", "description" : "Rate of FuelConsumption" }, "rpm" : { "value" : "2818", "description" : "EngineSpeed" }, "coolantTemperature" : { "value" : "91", "description" :"Engine Temperature" }, "voltage" : { "value" : "13.99", "description" :"Battery Voltage" }, "status" : { "value" : "RUNNING" }, "address" : {},"mileage" : { "value" : "55101" }, "make" : { "value" : "Toyota" },"model" : { "value" : "Tacoma" }, "snr" : { "value" : "11","description" : "Signal to Noise Ratio" }, "rssi" : { "value" : "61","description" : "Received Signal Strength Indicator" } }, { "lat" :{"value": "40.84919"}, "long" : {"value": "-73.93897000000001"}, "speed": { "value" : "5", "description" : "Maximum Speed Recorded (since theprevious reading)" }, "fuel" : { "value" : "57", "description" :"Percentage of Fuel Remaining" }, "fuelRate" : { "value" : "1.4","description" : "Rate of Fuel Consumption" }, "rpm" : { "value" :"2838", "description" : "Engine Speed" }, "coolantTemperature" : {"value" : "94", "description" : "Engine Temperature" }, "voltage" : {"value" : "13.15", "description" : "Battery Voltage" }, "status" : {"value" : "RUNNING" }, "address" : {}, "mileage" : { "value" : "55101"}, "make" : { "value" : "Toyota" }, "model" : { "value" : "Tacoma" },"snr" : { "value" : "9", "description" : "Signal to Noise Ratio" },"rssi" : { "value" : "48", "description" : "Received Signal StrengthIndicator" } }, { "lat" : {"value": "40.848600000000005"}, "long" :{"value": "-73.93648"}, "speed" : { "value" : "9", "description" :"Maximum Speed Recorded (since the previous reading)" }, "fuel" : {"value" : "76", "description" : "Percentage of Fuel Remaining" },"fuelRate" : { "value" : "1.2", "description" : "Rate of FuelConsumption" }, "rpm" : { "value" : "2465", "description" : "EngineSpeed" }, "coolantTemperature" : { "value" : "97", "description" :"Engine Temperature" }, "voltage" : { "value" : "13.39", "description" :"Battery Voltage" }, "status" : { "value" : "RUNNING" }, "address" : {},"mileage" : { "value" : "55101" }, "make" : { "value" : "Toyota" },"model" : { "value" : "Tacoma" }, "snr" : { "value" : "11","description" : "Signal to Noise Ratio" }, "rssi" : { "value" : "69","description" : "Received Signal Strength Indicator" } } ], "source" :"simulator", "order" : [ "550153" ] }, "253815" : { "550191" : [ { "lat": {"value": "40.80913"}, "long" : {"value": "-73.90327"}, "speed" : {"value" : "7", "description" : "Maximum Speed Recorded (since theprevious reading)" }, "fuel" : { "value" : "56", "description" :"Percentage of Fuel Remaining" }, "fuelRate" : { "value" : "1.2","description" : "Rate of Fuel Consumption" }, "rpm" : { "value" :"2123", "description" : "Engine Speed" }, "coolantTemperature" : {"value" : "100", "description" : "Engine Temperature" }, "voltage" : {"value" : "13.45", "description" : "Battery Voltage" }, "status" : {"value" : "RUNNING" }, "address" : {}, "mileage" : { "value" : "55043"}, "make" : { "value" : "Saab" }, "model" : { "value" : "9-3" }, "snr" :{ "value" : "13", "description" : "Signal to Noise Ratio" }, "rssi" : {"value" : "49", "description" : "Received Signal Strength Indicator" }}, { "lat" : {"value": "40.807500000000004"}, "long" : {"value":"-73.90557000000001"}, "speed" : { "value" : "6", "description" :"Maximum Speed Recorded (since the previous reading)" }, "fuel" : {"value" : "16", "description" : "Percentage of Fuel Remaining" },"fuelRate" : { "value" : "1.7", "description" : "Rate of FuelConsumption" }, "rpm" : { "value" : "1946", "description" : "EngineSpeed" }, "coolantTemperature" : { "value" : "95", "description" :"Engine Temperature" }, "voltage" : { "value" : "12.87", "description" :"Battery Voltage" }, "status" : { "value" : "RUNNING" }, "address" : {},"mileage" : { "value" : "55043" }, "make" : { "value" : "Saab" },"model" : { "value" : "9-3" }, "snr" : { "value" : "13", "description" :"Signal to Noise Ratio" }, "rssi" : { "value" : "59", "description" :"Received Signal Strength Indicator" } } ], "source" : "simulator","order" : [ "550191" ] } }'}},"path-stroke-opacity":{title:"Path stroke opacity",type:"number",description:"Default marker trail opacity.",default:0},"path-stroke-weight":{title:"Path stroke weight",type:"number",description:"Default marker trail stroke weight.",default:1}},required:[]}},{name:"accelerometer",label:"Accelerometer",class:"scriptr-accelerometer",commonData:!0,show:!1,defaults:{transport:"wss","msg-tag":"accelerometer","on-format-data":"return data;"},box:{sizeX:2,sizeY:2,minSizeX:2,minSizeY:2},imgCls:"",imgSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAlCAYAAADWSWD3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0MzNkM2FlMS1hYTk2LWIyNGItYmFkMy1lYWZiODRkM2YzODIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTI4ODA3MjA1MjlCMTFFNzhFN0Q4OUFFNTNCQjg5MTYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTI4ODA3MUY1MjlCMTFFNzhFN0Q4OUFFNTNCQjg5MTYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MjQxMWY2ZjctYTU5Zi00NzRiLTgwOWMtZGQ5ZTNhNTZiMTk0IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjQzM2QzYWUxLWFhOTYtYjI0Yi1iYWQzLWVhZmI4NGQzZjM4MiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsAn8koAAANsSURBVHja7FjrSxRRHJ2ddd0MAqOHbU8Rkixcem3kqlQilSV+0B4g1caWSYj6ITD8C6QPRSkSZS1thWBphFQWSA9WM7IXK2UUlJW1RUGCkK2ru52f/AyRHuPcO5HghcNhZueec2bm3t/euaZIJKJQM5lMiqz2IG/PWtAtYN3KhtO3ZekOZ1WVcdgmQvv9/llAhjnDuZ6OiemYzsv0iZIQNB5UAOQCi4bmxzybwlwOKufrnoMuATV2u71LxNOkdyIixAxQBbCb5gjQBNwAHoU8F2ZH3gXqEXqLxb3tA84tBzYAWWQFnKGbQfjPeiairtAITObngCnAUeAIAnz6W/VAvzjQAaAU6AV2ol+T4dUDxvtAV4A3QDJMD44M/KdG1wFl1I/7X4VemaETEQa7QCeARiANAV7oGZPc7zwPlUOsKz80hFfQJAKuA9th3CcweVdTWOAy69WwvrzQEKQq4wECQD4C9wsEngaqB14D9ITzWdfDPtKetJveKlCEwF8FqySFJo1caPWyXhHru6WUPNw9/UA19gsMUo1ae8CnFTSdaj18IqLVg8ZfIlBl8L9zFfukyBgem4AQVwwjWyP7ZMkIvQpoxyv7ptW9xRpOfmIJD/EYyiDpt7OfcOgEoFOrucvlKnlsCVf6rGGFmI7H8LQ72U/bRJzfvJ+K/dzRFyyx2FJ7wn2B94M9r7S4pl/8nmIJRqKHj0NWU79v66Q2LX3nmGMTYtUY29NQoPUXP3e/zTy+Y9yup7WUvJegOxhze7UOD9CxEadKvV5vpcaydwq0Bl4LRUseDYskrU+BAi4LqSXpQVUh1hqYWxL7CU/E+4ADT2GyVue0oNqxNKQO8Rj+3knfwX7Coa8BFiDH4KGawz5NMkLfA2gpWWxw6GL2aRMOzeuAw4ATr3CzEWlZ10k+v1t36Fnl0bLUD1TDYKrkwKRXzfoeaUtT3P0ALxvpM7sWRtGSApNOLeu62UfelwsEH/JWwUagDoYxgoGpfx3rFbC+/G9ECJ8FFfJMb4Fxos7A1K+FdQpZ17gdJhicBGUDC4AOBKAP05kaw8bR9dSP+2ez3sRmja5tsXBXtzLgbVCiXHmKGv9z4Si8LSYt9OgNSNDiQV975uDNu+XmDGeFOd3RjHPPEPSjqL4hoUU+bA3dFvsf2kTof9V+CDAAygmYxsVKnggAAAAASUVORK5CYII=",form:[{type:"tabs",tabs:[{title:"Data",items:["transport","msg-tag","api","api-params","data"]},{title:"Box Properties",items:["boxLabel"]}]}],schema:{type:"object",title:"Schema",properties:{data:{title:"Data",type:"string",description:"X,Y,Z Value"},boxLabel:{title:"Box Label",type:"string",description:"Define your widget box title."}},required:[]}},{name:"grid",label:"Grid",class:"scriptr-grid",show:!0,commonData:!0,defaults:{"columns-definition":'[{headerName: "Name", field: "name"},{headerName: "Model", field: "model"},{headerName: "Price", field: "price"}]',"row-data":'[{name: "Toyota", model: "Celica", price: 35000},{name: "Ford", model: "Mondeo", price: 32000},{name: "Porsche", model: "Boxter", price: 72000}]',boxLabel:"Grid","fixed-height":"false","msg-tag":"grid","on-format-data":"return data;","pagination-page-size":"20",transport:"https","cell-editable":!1,"enable-client-side-sorting":!1},box:{sizeX:2,sizeY:2,minSizeX:2,minSizeY:1,maxSizeY:4},imgCls:"grid-img",imgSrc:"//cdn.rawgit.com/scriptrdotio/onset-static-resources/97574e7b/images/grid.svg",form:[{type:"tabs",tabs:[{title:"Data",items:[{type:"section",htmlClass:"col-xs-12",items:[{key:"stream",type:"uiselectmultiple",placeholder:"",options:{closeOnSelect:!1,groupBy:"dataStream",multiple:"true",callback:"multiSelectCallBack",widgetName:"grid",limitTo:50}}]}]},{title:"Format",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:[{key:"pagination",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]}]}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:["pagination-page-size",{key:"enable-server-side-sorting",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},{key:"enable-server-side-filter",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},{key:"enable-col-resize",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]}]}]}]},{title:"Box Properties",items:["boxLabel"]}]}],schema:{type:"object",title:"Schema",properties:{boxLabel:{title:"Box Label",type:"string",description:"Define your widget box title."},stream:{title:"Data Streams",type:"array",items:{type:"string"},description:"",placeholder:" "},"columns-definition":{title:"Columns definition",type:"string",description:"Series of data (Each column in the grid is defined using a column definition).","x-schema-form":{type:"textarea",placeholder:"[{'headerName': 'Name', 'field': 'name'}, {'headerName': 'Model', 'field': 'model'}, {'headerName': 'Price', 'field': 'price', 'type': 'numeric'}]"}},"row-data":{title:"Row data",type:"string",description:"You pass static data to the grid.","x-schema-form":{type:"textarea",placeholder:"[{'name': 'Golf', 'model': 'GT', 'price' : '10000'}, {'name': 'BMW', 'model': 'Z3', 'price' : '20000'}]"}},"enable-client-side-sorting":{title:"Enable client Side Sorting",type:"hidden",description:"Turn on client sorting for the grid."},"enable-client-side-filter":{title:"Enable Client Side Filter",type:"hidden",description:"Turn on client side filter."},"enable-add-row":{title:"Enable Add Row",type:"hidden",description:"Turn on insert row."},"enable-delete-row":{title:"Enable Delete Row",type:"hidden",description:"Turn on delete row."},"cell-editable":{title:"Cell Editable",type:"hidden",description:"Turn on cell editing."},"row-model-selection":{title:"Row Model Selection",type:"hidden",description:"Set to either 'single' or 'multiple' in case of backend data.",default:"Source Sans Pro",placeholder:" "},"suppress-filter":{title:"Suppress filer",type:"hidden",description:"Hide column filter."},"add-params":{title:"on-add API Params",type:"hidden",description:"On add API params.","x-schema-form":{placeholder:"Ex: {'id' : '599865'}"}},"delete-params":{title:"on-delete API Params",type:"hidden",description:"On delete API params.","x-schema-form":{placeholder:"Ex: {'id' : '599865'}"}},"edit-params":{title:"on-edit API Params",type:"hidden",description:"On edit API params.","x-schema-form":{placeholder:"Ex: {'id' : '599865'}"}},"enable-server-side-sorting":{title:"Enable Sorting",type:"string",description:"Turn on server sorting for the grid."},"enable-server-side-filter":{title:"Enable Filter",type:"string",description:"Turn on server side filter."},"enable-col-resize":{title:"Enable Column Resize",type:"string",description:"Enable column resize."},pagination:{title:"Enable Pagination",type:"string",description:"Enable Pagination."},"row-model-type":{title:"Row Model Type",type:"string",description:"The supported ways are 'virtual' and 'pagination' for only non-static data",default:"pagination",placeholder:" "},"pagination-page-size":{title:"Pagination Page Size",type:"string",description:"Number of rows per page."},api:{title:"Api",type:"string",description:"Name of the api to get data.","x-schema-form":{placeholder:"UIComponents/dashboard/frontend/examples/grid/getCarsInfo"}},"on-format-data":{title:"Format Data",type:"string",description:"Callback function to be called after data is returned from backend."},transport:{title:"Transport",type:"string",enum:["wss","https"],description:"Method used to call api (can take 'http' or 'wss')."},"msg-tag":{title:"Message Tag",type:"string",description:"Subscribe to socket messages with tag name."},"api-params":{title:"Api Params",type:"string",description:"Api parameters.","x-schema-form":{placeholder:"Ex: {'id' : '599865'}"}}},required:["columns-definition"]}},{name:"odometer",label:"Odometer",class:"scriptr-odometer",commonData:!0,show:!0,defaults:{transport:"wss",boxLabel:"Odometer","msg-tag":"odometer",data:28022017,animation:"count","on-format-data":"return data;",duration:1e3,size:"1.8"},box:{sizeX:2,sizeY:1,minSizeX:1,minSizeY:1,maxSizeY:2},imgCls:"odometer-img",imgSrc:"//cdn.rawgit.com/scriptrdotio/onset-static-resources/97574e7b/images/odometer.svg",form:[{type:"tabs",tabs:[{title:"Data",items:[{type:"section",htmlClass:"col-xs-12",items:[{key:"stream",type:"uiselectmultiple",placeholder:"",options:{closeOnSelect:!0,groupBy:"dataStream",multiple:"false",callback:"multiSelectCallBack",widgetName:"odometer",limit:1,limitTo:50}}]}]},{title:"Format",items:["duration","animation","size"]},{title:"Box Properties",items:["boxLabel"]}]}],schema:{type:"object",title:"Schema",properties:{boxLabel:{title:"Box Label",type:"string",description:"Define your widget box title."},stream:{title:"Data Stream",type:"string",description:"",placeholder:" "},data:{title:"Static data",type:"number",description:"Set a static value for Odometer."},duration:{title:"Duration",type:"number",description:"Change how long the javascript expects the CSS animation to take."},size:{title:"Size",type:"number",default:2,description:"Odometer size in em. Recommended size between 0 & 5."},animation:{title:"Animation",type:"string",description:"Count is a simpler animation method which just increments the value,use it when you're looking for something more subtle."}},required:[]}},{name:"toggleSwitch",label:"Toggle Switch",class:"scriptr-toggle-switch",show:!1,defaults:{boxLabel:"Toggle Switch","switch-status":"false","knob-label":"TV","on-label":"ON","off-label":"OFF","on-format-data":"return data;","on-switch-change":"vm.onChange",transport:"wss","msg-tag":"toggle"},box:{sizeX:1,sizeY:1,minSizeX:1,minSizeY:1,maxSizeY:1,maxSizeX:1},imgCls:"",imgSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAlCAYAAADWSWD3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0MzNkM2FlMS1hYTk2LWIyNGItYmFkMy1lYWZiODRkM2YzODIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6M0RCQTE1RUU1MUI2MTFFN0FFNDlEMTM4RTRFODYwMkIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6M0RCQTE1RUQ1MUI2MTFFN0FFNDlEMTM4RTRFODYwMkIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MjQxMWY2ZjctYTU5Zi00NzRiLTgwOWMtZGQ5ZTNhNTZiMTk0IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjQzM2QzYWUxLWFhOTYtYjI0Yi1iYWQzLWVhZmI4NGQzZjM4MiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pk9fI0kAAAIXSURBVHja7Jg/SAJxFMe9H2pDQ4PRDZHU1OZkUIu0OESIbqFLZYtEczTYVEO4CVEOkTmktBnR5BItBW5uTYXpoOTg4NA/7PvgFRJWnnE/Ovo9+PI79E4+9+793vueWrvdtlkthM2CoaAVtIJW0P8IWuv2YalUGsQShkLQFDQikakOFaE8lPN4PK0foQG8jCUBDUNN6BKqQjUJwDo0CvmgIegBWgd4uis0YO1YDqBF6AaKrzVOrm9fGrM4dvNpZahw70+ZegNgcWAJQtvQJJSBVgD/+hn6iIFTgE0AdgvHkS5Pg8xKFtoAfMVkeCeWJBQjcEAvfUBzSRwS8Hxtj9YzflTfBWU7APCi2TUDvn0Gj1KpaLzp7qAGMjyHDF/1ANwJ7pWU8RLkgsYFlwBtujiXhG5w4+yYnWlk94n4mDMsuOCbtOn4BoxGZKwQ0yV0llPuZiHBffiSu4TWZ6/3S8j2M7ffKcGDo9rR1voJt01OEOeIZb1HnadQ+Re/U5bES5x1wXPeN2F3XfDgMBp0TUFCr3bweC8K3pVDu66FaZ50RiNr9ljnCLIfyQsGJWOyjWxvGjRGdO6GhCw72YcQZ06w9VsnY4Js0xroEfx9jFckZDnJxokcX0twD0yzk4qd66tRZHwGx8df1Hibv/Oa7Tsowx2+I/NuUa1tTXt4CXiUUAYDhl4CLPW6pf6AVNAKWkEr6D8dbwIMAG8Y3AV944YCAAAAAElFTkSuQmCC",form:[{type:"tabs",tabs:[{title:"Data",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:["transport"]},{type:"section",htmlClass:"col-xs-6",items:[{key:"msg-tag",condition:"model.transport=='wss'"},{key:"http-method",notitle:!1,type:"strapselect",titleMap:[{value:"GET",name:"GET"},{value:"GET",name:"POST"}],condition:"model.transport=='https'"}]}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:["api",{key:"on-format-data",type:"codemirror",codemirrorOptions:{value:"return",styleActiveLine:!0,lineNumbers:!0,lineWrapping:!0,autoCloseBrackets:!0,matchBrackets:!0,theme:"neo",mode:"javascript",readOnly:!1,autoRefresh:!0}}]},{type:"section",htmlClass:"col-xs-6",items:["api-params","publish-api-params"]}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-12",items:[{type:"help",helpvalue:"<hr>"}]}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-12",items:[{type:"help",helpvalue:'<div class="alert alert-info"><ul><li>Messages published over the subscibe channel need to have the following format in order to be consumed by a widget:<ul><li>{id: &lt;message tag value&gt;, result: &lt;static data structure&gt;}</li></ul></li><li>A script would publish a message  over the subscribe channel as follow:<ul><li>publish(responseChannel, {id: &lt;message tag value&gt;, result: &lt;static data structure&gt;});</li></ul></li><li>Whether https or wss transport is used, Sciptr API should return the static data structure for widget initial load:<ul><li>return &lt;static data structure&gt;;</li></ul></li></ul></div>'}]}]}]},{title:"Toggle Switch behaviour",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:[{key:"switch-status",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},"on-label","size"]},{type:"section",htmlClass:"col-xs-6",items:[{key:"is-disabled",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},"off-label","type","knob-label"]}]}]},{title:"Box Properties",items:["boxLabel"]}]}],schema:{type:"object",title:"Schema",properties:{boxLabel:{title:"Box Label",type:"string",description:"Define your widget box title."},"switch-status":{title:"Toggle Switch Value",type:"string",description:"The current value of toggle switch."},"on-label":{title:"ON Label",type:"string",description:"ON Label."},"off-label":{title:"OFF Label",type:"string",description:"OFF Label"},"knob-label":{title:"Knob Label",type:"string",description:"Knob Label."},"is-disabled":{title:"Disabled",type:"string",description:"Set to true to disbale the toggle switch."},type:{title:"Type",type:"string",enum:["switch-default","switch-danger","switch-warning","switch-success","switch-info","switch-primary"],description:"Choose the type of the Toggle Switch."},size:{title:"Size",type:"string",enum:["switch-mini","switch-small","switch-large"],description:"choose the size of the toggle switch."},api:{title:"Api",type:"string",description:"Name of the api to get data.","x-schema-form":{placeholder:"UIComponents/dashboard/frontend/examples/grid/getCarsInfo"}},transport:{title:"Transport",type:"string",enum:["wss","https"],description:"Method used to call api (can take 'http' or 'wss')."},"http-method":{title:"Http method",type:"string",description:"Method to be used when calling the scriptr api over https. Default: GET.",default:"GET",placeholder:" "},"msg-tag":{title:"Message Tag",type:"string",description:"Subscribe to socket messages with tag name."},"api-params":{title:"Api Params",type:"string",description:"Api parameters.","x-schema-form":{placeholder:"Ex: {'id' : '599865'}"}},"on-format-data":{title:"Format data",default:"return data;",type:"string",description:"Callback function to be called after data is returned from backend."},"publish-api-params":{title:"Publish Api Params",type:"string",description:"Publish Api parameters.","x-schema-form":{placeholder:"Ex: {'id' : '599865'}"}}},required:[]}},{name:"slider",label:"Slider",class:"scriptr-slider",show:!1,defaults:{transport:"wss",boxLabel:"Slider",min:2,"enable-resize":!0,floor:0,"on-format-data":"return data;","min-limit":1,"max-limit":9,ceil:10,step:1,vertical:!1,"show-ticks":"true"},box:{sizeX:2,sizeY:1,minSizeX:1,minSizeY:1,maxSizeY:1},imgCls:"",imgSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAlCAYAAADWSWD3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0MzNkM2FlMS1hYTk2LWIyNGItYmFkMy1lYWZiODRkM2YzODIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDRFNDQ5MDQ1MUI3MTFFNzlBMzVDOTRBMkVCQkU2OUYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDRFNDQ5MDM1MUI3MTFFNzlBMzVDOTRBMkVCQkU2OUYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MjQxMWY2ZjctYTU5Zi00NzRiLTgwOWMtZGQ5ZTNhNTZiMTk0IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjQzM2QzYWUxLWFhOTYtYjI0Yi1iYWQzLWVhZmI4NGQzZjM4MiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhwmJL8AAAHdSURBVHjaYvz//z/DUANMDEMQjDp61NGjjh519KijRx096ugh62hGQgosdlw1BFLNQOwExBxAfA2IpwDxzBMe2gPS2mIh4GB3ILUJiNmQhLWBeDoQmwNx4qAKaaCDOYHUPSCWAPGNhLgZhNlZGI68+szw/e8/mLJAYGhvgHEuXboE8lwFEDsC8X0gbtDT03uEbC5QjR+QygTiv0A8CSi/C01eDEg1AbEGEJ8E4kagmm8ojgYqsgbSLuge2PmFUW3tJ6ZIEDtcXoihQAPsdoabn34wJB6/xwBKF3Ks/6/XiP5bhaTNE4jNkPjvgHgqEMN8qQDE8UjyIGPmAvFTJLEUIJZG4l8B4rVI6veAkscOIOZBD2kOJC9YiiCk1fk4GISAIf725x8GZkYGTaBQPZ6YFALiWgIxnUIgNehAMQyUgEqP/dhUCjAj2MfffIGzQSH9DuhgEBAcmLJnP7XTtB2Q2gLEvFAhUJpuRJIXAFL7gNgQKnQMiN2Aar4iqckBUhOAGBRsP4A4Aii/kegiD0fpAQMLgA7GKD2AlgoCKRNQRgRadgeLPAu05AH5/CRQzT8sauRBKRGIzwPlXw+LcppxtDc+6uhRR486etTRo44edfSoo0cdPerowQEAAgwA9F+Sz6eyRO4AAAAASUVORK5CYII=",form:[{type:"tabs",tabs:[{title:"Data",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:["transport"]},{type:"section",htmlClass:"col-xs-6",items:[{key:"msg-tag",condition:"model.transport=='wss'"},{key:"http-method",notitle:!1,type:"strapselect",titleMap:[{value:"GET",name:"GET"},{value:"GET",name:"POST"}],condition:"model.transport=='https'"}]}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:["api",{key:"on-format-data",type:"codemirror",codemirrorOptions:{value:"return",styleActiveLine:!0,lineNumbers:!0,lineWrapping:!0,autoCloseBrackets:!0,matchBrackets:!0,theme:"neo",mode:"javascript",readOnly:!1,autoRefresh:!0}}]},{type:"section",htmlClass:"col-xs-6",items:["api-params","publish-api-params"]}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-12",items:[{type:"help",helpvalue:"<hr>"}]}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-12",items:[{type:"help",helpvalue:'<div class="alert alert-info"><ul><li>Messages published over the subscibe channel need to have the following format in order to be consumed by a widget:<ul><li>{id: &lt;message tag value&gt;, result: &lt;static data structure&gt;}</li></ul></li><li>A script would publish a message  over the subscribe channel as follow:<ul><li>publish(responseChannel, {id: &lt;message tag value&gt;, result: &lt;static data structure&gt;});</li></ul></li><li>Whether https or wss transport is used, Sciptr API should return the static data structure for widget initial load:<ul><li>return &lt;static data structure&gt;;</li></ul></li></ul></div>'}]}]}]},{title:"Slider behaviour",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:["min","floor","min-limit","min-range","step",{key:"keyboard-support",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},{key:"log-scale",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},{key:"is-disabled",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]}]},{type:"section",htmlClass:"col-xs-6",items:["max","ceil","max-limit","max-range","precision",{key:"right-to-left",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},{key:"read-only",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},"steps-array"]}]}]},{title:"Visualization",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:["show-selection-bar-from-value",{key:"show-selection-bar",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},{key:"show-ticks",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},{key:"hide-limit-labels",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]}]},{type:"section",htmlClass:"col-xs-6",items:["ticks-array",{key:"show-selection-bar-end",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},{key:"show-ticks-values",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]}]}]}]},{title:"Range",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:[{key:"push-range",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},{key:"draggable-range",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]}]},{type:"section",htmlClass:"col-xs-6",items:[{key:"draggable-range-only",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]},{key:"no-switching",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]}]}]}]},{title:"Box Properties",items:["boxLabel"]}]}],schema:{type:"object",title:"Schema",properties:{boxLabel:{title:"Box Label",type:"string",description:"Define your widget box title."},min:{title:"Slider 1",type:"number",description:"First Slider Value (defaults to 0)."},max:{title:"Slider 2",type:"number",description:"Second Slider Value."},floor:{title:"Floor",type:"number",description:"Minimum value for a slider (defaults to 0)."},ceil:{title:"Ceil",type:"number",description:"Maximum value for a slider (defaults to rz-slider-modelvalue)."},step:{title:"Step",type:"number",description:"Step between each value."},precision:{title:"Precision",type:"number",description:"The precision to display values with. The toFixed() is used internally for this."},"min-limit":{title:"Minimum Limit",type:"number",description:"The minimum value authorized on the slider."},"max-limit":{title:"Maximum Limit",type:"number",description:"The maximum value authorized on the slider."},"min-range":{title:"Minimum Range",type:"number",description:"The minimum range authorized on the slider. Applies to range slider only."},"max-range":{title:"Maximum range",type:"number",description:"The maximum range authorized on the slider. Applies to range slider only."},"push-range":{title:"Push Range",type:"string",description:"Set to true to have a push behavior. When the min handle goes above the max, the max is moved as well."},"steps-array":{title:"Steps Array",type:"string",description:"If you want to display a slider with non linear/number steps. Just pass an array with each slider value and that's it; the floor, ceil and step settings of the slider will be computed automatically.They can also be bound to the index of the selected item by setting the bindIndexForStepsArray option to true.","x-schema-form":{placeholder:"Ex: [{value: 'A'},{value: 10, legend: 'Legend for 10'}, new Date(2016, 7, 12),{value: new Date(2016, 7, 12), legend: 'Legend for 10'} ]"}},"bind-index-for-steps-array":{title:"Bind Index For Steps Array",type:"string",description:"Set to true to bind the index of the selected item to rz-slider-model and rz-slider-high. (This was the default behavior prior to 4.0)."},"draggable-range":{title:"Draggable Range",type:"string",description:"When set to true and using a range slider, the range can be dragged by the selection bar."},"draggable-range-only":{title:"Draggable Range Only",type:"string",description:"Same as draggableRange but the slider range can't be changed."},"show-selection-bar":{title:"Show Selection Bar",type:"string",description:"Set to true to always show the selection bar before the slider handle."},"show-selection-bar-end":{title:"Show Selection Bar End",type:"string",description:"Set to true to always show the selection bar after the slider handle."},"show-selection-bar-from-value":{title:"Show Selection Bar From Value",type:"number",description:"Set a number to draw the selection bar between this value and the slider handle."},"hide-limit-labels":{title:"Hide Limit Labels",type:"string",description:"Set to true to hide min / max labels"},"auto-hide-limit-labels":{title:"Auto Hide Limit Labels",type:"string",description:"Set to false to disable the auto-hiding behavior of the limit labels."},"read-only":{title:"Read Only",type:"string",description:"Set to true to make the slider read-only."},"is-disabled":{title:"Disabled",type:"string",description:"Set to true to disable the slider."},interval:{title:"Interval",type:"number",description:"The number of milliseconds to wait between two updates of the slider."},"show-ticks":{title:"Show Ticks",type:"string",description:"Set to true to display a tick for each step of the slider."},"show-ticks-values":{title:"Show Ticks Values",type:"string",description:"Set to true to display a tick and the step value for each step of the slider."},"ticks-array":{title:"Ticks Array",type:"string",description:"Use to display ticks at specific positions. The array contains the index of the ticks that should be displayed.","x-schema-form":{placeholder:" [0, 1, 5] "}},scale:{title:"Scale",type:"number",
description:"If you display the slider in an element that uses transform: scale(0.5), set the scale value to 2 so that the slider is rendered properly and the events are handled correctly."},"enforce-step":{title:"Enforce Step",type:"number",description:"Set to true to force the value to be rounded to the step, even when modified from the outside.. When set to false, if the model values are modified from outside the slider, they are not rounded and can be between two steps."},"enforce-range":{title:"Enforce Range",type:"string",description:"Set to true to round the Slider 1 and Slider 2 to the slider range even when modified from outside the slider."},"no-switching":{title:"No Switching",type:"string",description:"Set to true to prevent to user from switching the min and max handles. Applies to range slider only."},"only-bind-handles":{title:"Only Bind Handles",type:"string",description:"Set to true to only bind events on slider handles."},"bound-pointer-labels":{title:"Bound Pointer Labels",type:"string",description:"Set to true to keep the slider labels inside the slider bounds."},"merge-range-labes-if-same":{title:"Merge Range Labels If Same",type:"string",description:"Set to true to merge the range labels if they are the same. For instance, if min and max are 50, the label will be '50 - 50' if mergeRangeLabelsIfSame: false, else '50'."},"right-to-left":{title:"Right To Left",type:"string",description:"Set to true to show graphs right to left."},vertical:{title:"Vertical",type:"string",description:"Set to true to display the slider vertically. The slider will take the full height of its parent. Changing this value at runtime is not currently supported."},"keyboard-support":{title:"Keyboard Support",type:"string",description:"Handles are focusable (on click or with tab) and can be modified using keyboard controls."},"log-scale":{title:"Log Scale",type:"string",description:"Set to true to use a logarithmic scale to display the slider."},"selection-bar-gradient":{title:"Selection Bar Gradient",type:"string",description:"Use to display the selection bar as a gradient. The given object must contain from and to properties which are colors."},"aria-label":{title:"Aria Label",type:"string",description:"Use to add a label directly to the slider(s) for accessibility. Adds the aria-label attribute."},"aria-label-high":{title:"Aria Label High ",type:"string",description:"Use to add a label directly to the slider(s) for accessibility. Adds the aria-label attribute."},api:{title:"Api",type:"string",description:"Name of the api to get data.","x-schema-form":{placeholder:"UIComponents/dashboard/frontend/examples/grid/getCarsInfo"}},"http-method":{title:"Http method",type:"string",description:"Method to be used when calling the scriptr api over https. Default: GET.",default:"GET",placeholder:" "},"on-format-data":{title:"Format data",default:"return data;",type:"string",description:"Callback function to be called after data is returned from backend."},transport:{title:"Transport",type:"string",enum:["wss","https"],description:"Method used to call api (can take 'http' or 'wss')."},"msg-tag":{title:"Message Tag",type:"string",description:"Subscribe to socket messages with tag name."},"api-params":{title:"Api Params",type:"string",description:"Api parameters.","x-schema-form":{placeholder:"Ex: {'id' : '599865'}"}},"publish-api-params":{title:"Publish Api Params",type:"string",description:"Publish Api parameters.","x-schema-form":{placeholder:"Ex: {'id' : '599865'}"}}},required:["ceil"]}},{name:"button",label:"Button",class:"scriptr-button",show:!1,defaults:{transport:"https",boxLabel:"Button",type:"btn-success","enable-resize":!0,size:"small",label:"Refresh data"},box:{sizeX:1,sizeY:1,minSizeX:1,minSizeY:1,maxSizeY:1,maxSizeX:1},imgCls:"",imgSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAlCAYAAADWSWD3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0MzNkM2FlMS1hYTk2LWIyNGItYmFkMy1lYWZiODRkM2YzODIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTM1MEZDOUE1MUI4MTFFNzg0MDZBODMxOUZDNUVGN0IiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTM1MEZDOTk1MUI4MTFFNzg0MDZBODMxOUZDNUVGN0IiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MjQxMWY2ZjctYTU5Zi00NzRiLTgwOWMtZGQ5ZTNhNTZiMTk0IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjQzM2QzYWUxLWFhOTYtYjI0Yi1iYWQzLWVhZmI4NGQzZjM4MiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pg1w0C8AAAHySURBVHja7Jc9SMNAFMfvbEVRcBVEHYqzOujgILWI4mIHdRArWZSCIE4WcdFVtKOg4CAtVhwEP0AUQbHipIvi4iQIzg5+QimN/yvPEtokSjH1Infw66XpNfzy8u7dheu6ztzWypgLm5JW0kpagubNHUV5PT43gF9CzyQYZdP6Y36kY5IKM/KKmaVHQPKsCJhJc8mluaoeSlpJF9cS4NRt0j4eYd3om8Ea+HCDdIe+xFohfgvC+C5W3RnwIHtOT+QKbYQ9gUUcNoEhcF5Uwc69bkV5Gp8eB6TfQB1kn81+xJNoQTcFQqDC5joZ7D08+ZHedSjS1UCzjFqE3YAxHDaAA5vr7BTu8lj2j2KiiIlT9YvSlZQiy9/lP+ilJ5M2nH8HJ2CyID04d2brgcffh+4QdCGiSYsxQXTb4EjkOsalTMeRaykm4jG4N05IkzYCykHcSrik1QMSGXSrYAARrbUYptHT2MSYHlmW8fXs7Gds3JASfhCmG0tRCbwAezjf+aOS51ROGyTj9AbiA22UNjXiNQrSCRojCsAduMa54F/m9FdbAY1gnoSF3JbIY8iGaMwclb59KSJNkbxE1w6ugMjdVyENhqlG94NZRHnBrnp4S7yrFHVY5OsZxF7oRjRaiQfthM2XcbWfVtJKWkn/e+lPAQYAoEWDWxM/8JkAAAAASUVORK5CYII=",form:[{type:"tabs",tabs:[{title:"Data",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:["transport"]},{type:"section",htmlClass:"col-xs-6",items:[{key:"msg-tag",condition:"model.transport=='wss'"},{key:"http-method",notitle:!1,type:"strapselect",titleMap:[{value:"GET",name:"GET"},{value:"GET",name:"POST"}],condition:"model.transport=='https'"}]}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:["api"]},{type:"section",htmlClass:"col-xs-6",items:["api-params"]}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-12",items:[{type:"help",helpvalue:"<hr>"}]}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-12",items:[{type:"help",helpvalue:'<div class="alert alert-info"><ul><li>Messages published over the subscibe channel need to have the following format in order to be consumed by a widget:<ul><li>{id: &lt;message tag value&gt;, result: &lt;static data structure&gt;}</li></ul></li><li>A script would publish a message  over the subscribe channel as follow:<ul><li>publish(responseChannel, {id: &lt;message tag value&gt;, result: &lt;static data structure&gt;});</li></ul></li><li>Whether https or wss transport is used, Sciptr API should return the static data structure for widget initial load:<ul><li>return &lt;static data structure&gt;;</li></ul></li></ul></div>'}]}]}]},{title:"Button behaviour",items:[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:["type","size"]},{type:"section",htmlClass:"col-xs-6",items:[{key:"is-disabled",type:"radios-inline",titleMap:[{value:"true",name:"True"},{value:"false",name:"False"}]}]}]}]},{title:"Box Properties",items:["boxLabel"]}]}],schema:{type:"object",title:"Schema",properties:{boxLabel:{title:"Box Label",type:"string",description:"Define your widget box title."},"is-disabled":{title:"Disabled",type:"string",description:"Set to true to disbale the Button."},type:{title:"Type",type:"string",enum:["btn-default","btn-danger","btn-warning","btn-success","btn-info","btn-primary"],description:"Choose the type of the Button."},size:{title:"Size",type:"string",enum:["small","large"],description:"choose the size of the Button."},api:{title:"Api",type:"string",description:"Name of the api to get data.","x-schema-form":{placeholder:"UIComponents/dashboard/frontend/examples/grid/getCarsInfo"}},transport:{title:"Transport",type:"string",enum:["wss","https"],description:"Method used to call api (can take 'http' or 'wss')."},"msg-tag":{title:"Message Tag",type:"string",description:"Subscribe to socket messages with tag name."},"http-method":{title:"Http method",type:"string",description:"Method to be used when calling the scriptr api over https. Default: GET.",default:"GET",placeholder:" "},"api-params":{title:"Api Params",type:"string",description:"Api parameters.","x-schema-form":{placeholder:"Ex: {'id' : '599865'}"}}},required:[]}},{name:"iframe",label:"IFrame",class:"scriptr-iframe",show:!1,defaults:{boxLabel:"IFrame"},box:{sizeX:1,sizeY:1,minSizeX:1,minSizeY:1},imgCls:"",imgSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAlCAYAAADWSWD3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0MzNkM2FlMS1hYTk2LWIyNGItYmFkMy1lYWZiODRkM2YzODIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RkE2REVDRkM1NEVCMTFFNzg4MjNDNkYyQjhEQjcyNjciIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RkE2REVDRkI1NEVCMTFFNzg4MjNDNkYyQjhEQjcyNjciIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MjQxMWY2ZjctYTU5Zi00NzRiLTgwOWMtZGQ5ZTNhNTZiMTk0IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjQzM2QzYWUxLWFhOTYtYjI0Yi1iYWQzLWVhZmI4NGQzZjM4MiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pk48GP8AAAIqSURBVHja7JexS8NQEMaT6CjooAVFxcFJBXGqFaci2kq7uPU/UIeiXVpREVRUcHFqceiqUzep1aGKLSgiTtXVwVE72KGCovV7coX0kaA1qXkpffBxeblL8uNyubwnl0olqTxkWZZGU3dzOFyCeiTrxyO0feUZjFVwqieuk3sGHJXEG/OXUwOx8qSZc0bI5qA96MNC0CZoARoiLl3oXrJbeCWHVqcXpVqEOVBxfQ9FJ/5VkLLQ5FAkG45mnfMOvJo+Afgc1UDvi5zpuiqPVSgrAN84tPFb6Bxa3rkALa+tbsqjAW31h2hWTbbDrEO7+EYe7JJpH8RWjh3ClQcyOgN1a7i8UB66YX4WJwQ0bRoSbLHOnWdLy0kohdL4JH+C4q2DJoAorb9DnNsFsT6bonmI4qJGwRWTgN3I5hMX4oFKZWjyu80AV2oEzMY0dA3fc/mEWeDKH4BnfwJGTCfMCJTkfRrgs/+RaS/ZtE6G1TFJLSddl+ZiawodgM6gILK0oxPDSoOB3eq8LXZdkO4TqDk0slSknwZ7YJgHx5z9ZSdUrU4LOEzX++h+tf8QNcCXVe4xqBU61gBeMQpsqOWpwDPQJoAWVTXKMnzKAS/Sgj5jBNjwz4Ue7KfMFVTQrNXlufACxfmNAJuyygPAC7Uwls0umGFoTSMuDhMXcZXXD71DR7bZBCCbFzAtsLe22rkA+K2x3ar3PaITnUAEPmc10BE7lUdWUM4Kri8BBgC569bhyidDOgAAAABJRU5ErkJggg==",form:[{type:"tabs",tabs:[{title:"Data",items:["link"]},{title:"Box Properties",items:["boxLabel"]}]}],schema:{type:"object",title:"Schema",properties:{boxLabel:{title:"Box Label",type:"string",description:"Define your widget box title."},link:{title:"Link or URL",type:"string",description:"Enter Iframe source URL."}},required:[]}},{name:"displaybox",label:"Display Box",class:"scriptr-displaybox",commonData:!0,show:!1,defaults:{"on-format-data":"return data;",transport:"wss",boxLabel:"Text","msg-tag":"text",data:"Bla Bla"},box:{sizeX:2,sizeY:1,minSizeX:1,minSizeY:1},imgCls:"displaybox-img",imgSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAlCAYAAADWSWD3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0MzNkM2FlMS1hYTk2LWIyNGItYmFkMy1lYWZiODRkM2YzODIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDY5MEY1QUM1RkU1MTFFNzk3MTJENUY1ODM3OUFFQ0MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDY5MEY1QUI1RkU1MTFFNzk3MTJENUY1ODM3OUFFQ0MiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MjQxMWY2ZjctYTU5Zi00NzRiLTgwOWMtZGQ5ZTNhNTZiMTk0IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjQzM2QzYWUxLWFhOTYtYjI0Yi1iYWQzLWVhZmI4NGQzZjM4MiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pmt9N/4AAAHGSURBVHja7JexS8NAFIdbcRBdRBS6KI6iDoqibgVBwaV0cLA4VKGD7SJugpt/gaOTguLuqFURd20HQQu1VFsXsYsOUkWoX+AJZ6gxwYZEuYOPd/fuXfLj8e5yCdZqtYBV6zlOHmKmA+60FxgpT23mzBNWuppsPNgtwUZrhWz30VKfk0VBG5n+DNiHswaJHYOYMq7CsJpxK11ORK/w0I1GKCazC5htk/uL8N+Wh9vtTmyL3VLxg+go5J0Ib/aB6KxpbAi/gDa/Zbps41TxV6bZbCeUwAzdUJ3jNfbTes/KA+EHdU6Vdjui/bARHTctWov+b6J/dXqw2+cxXSb3OYzCFTzDhOJT2yMnyJ4XmU7BLSTkbhyBd5iFTvmqzYkvIjEJWZPyqjziZMu4slYgDcbtLQOLkIRl6WdkzoipyJq4J+XBy29M45J085TOg5FhfNfiK+Hr/W6t5xsRceOYN+igP+i70wNRQ3KHmJTxAGYLdoUdfP0SbsSEZI03p4fyx7EKT8p4DYpwD+vwKnNFia16Klp+j3LKuIApKCGXytyp/iJq0Vq0Fq1Fa9FatP7dstnC3M7c1hNutOio8CfKI+2BLst3fggwAHHJk2PD+/d6AAAAAElFTkSuQmCC",form:[{type:"tabs",tabs:[{title:"Format",items:[{key:"type",notitle:!1,type:"strapselect",titleMap:[{value:"info",name:"INFO"},{value:"warning",name:"WARNING"},{value:"success",name:"SUCCESS"},{value:"danger",name:"DANGER"}]}]},{title:"Box Properties",items:["boxLabel"]}]}],schema:{type:"object",title:"Schema",properties:{boxLabel:{title:"Box Label",type:"string",description:"Define your widget box title."},data:{title:"Data",type:"string",description:"Text to display.","x-schema-form":{type:"textarea",placeholder:"Front door has been unlocked for the past 5 hours."}},type:{title:"Type",type:"string",placeholder:" ",description:"Select text theme."}},required:[]}},{name:"displaycount",label:"Count Display",class:"scriptr-displaycount",commonData:!0,show:!0,defaults:{"on-format-data":"return data;",transport:"wss",boxLabel:"Count","msg-tag":"text",data:"12"},box:{sizeX:1,sizeY:1,minSizeX:1,minSizeY:1},imgCls:"count-img",imgSrc:"//cdn.rawgit.com/scriptrdotio/onset-static-resources/97574e7b/images/display-count.svg",form:[{type:"tabs",tabs:[{title:"Format",items:["message",{key:"widget-layout",notitle:!1,type:"strapselect",titleMap:[{value:"horizontal",name:"Horizontal"},{value:"vertical",name:"Vertical"}]},"border-size",{key:"border-color",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}},{key:"number-cell-size",notitle:!1,type:"strapselect",titleMap:[{value:"small",name:"Small"},{value:"medium",name:"Medium"},{value:"large",name:"Large"},{value:"",name:"no-width"}]},{type:"section",htmlClass:"col-xs-12 col-sm-6 row",items:[{key:"number-font-family",notitle:!1,type:"strapselect",titleMap:[{value:"Arial",name:"Arial"},{value:"Helvetica",name:"Helvetica"},{value:"Times New Roman",name:"Times New Roman"},{value:"Courier New",name:"Courier New"},{value:"Courier",name:"Courier"},{value:"Verdana",name:"Verdana"},{value:"Georgia",name:"Georgia"},{value:"Palatino",name:"Palatino"},{value:"Garamond",label:"Garamond"},{value:"Bookman",label:"Bookman"},{value:"Comic Sans MS",name:"Comic Sans MS"},{value:"Trebuchet MS",name:"Trebuchet MS"},{value:"Arial Black",name:"Arial Black"},{value:"Impact",name:"Impact"},{value:"Sans-Serif",name:"Sans-Serif"},{value:"Source Sans Pro",name:"Source Sans Pro"}]},"number-font-size","number-font-weight",{key:"number-text-color",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}},{key:"number-background-color",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}},{key:"number-Text-Alignment",notitle:!1,type:"strapselect",titleMap:[{value:"left",name:"Left"},{value:"center",name:"Center"},{value:"right",name:"Right"}]}]},{type:"section",htmlClass:"col-xs-12 col-sm-6 row pull-right",items:[{key:"message-font-family",notitle:!1,type:"strapselect",titleMap:[{value:"Arial",name:"Arial"},{value:"Helvetica",name:"Helvetica"},{value:"Times New Roman",name:"Times New Roman"},{value:"Courier New",name:"Courier New"},{value:"Courier",name:"Courier"},{value:"Verdana",name:"Verdana"},{value:"Georgia",name:"Georgia"},{value:"Palatino",name:"Palatino"},{value:"Garamond",name:"Garamond"},{value:"Bookman",name:"Bookman"},{value:"Comic Sans MS",name:"Comic Sans MS"},{value:"Trebuchet MS",name:"Trebuchet MS"},{value:"Arial Black",name:"Arial Black"},{value:"Impact",name:"Impact"},{value:"Sans-Serif",name:"Sans-Serif"},{value:"Source Sans Pro",name:"Source Sans Pro"}]},"message-font-size","message-font-weight",{key:"message-text-color",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}},{key:"message-background-color",colorFormat:"hex3",spectrumOptions:{showInput:!0,showAlpha:!1,allowEmpty:!0,showPalette:!0,preferredFormat:"hex3",palette:[["#fce94f","#fcaf3e","#e9b96e"],["#8ae234","#729fcf","#ad7fa8"],["#ef2929","#888a85","#deface"]]}},{key:"message-Text-Alignment",notitle:!1,type:"strapselect",titleMap:[{value:"left",name:"Left"},{value:"center",name:"Center"},{value:"right",name:"Right"}]}]}]},{title:"Box Properties",items:["boxLabel"]}]}],schema:{type:"object",title:"Schema",properties:{boxLabel:{title:"Box Label",type:"string",description:"Define your widget box title."},"widget-layout":{title:"Layout",type:"string",default:"horizontal",placeholder:" ",description:"Define your widget's layout."},"number-cell-size":{title:"Numbers Cell Size",type:"string",default:"",placeholder:" ",description:"Define your widget's numbers cell size."},message:{title:"Message",type:"string",default:"Items",description:"Define your widget message."},"number-font-family":{title:"Number Font family",type:"string",description:"Define your widget number font family.",default:"Arial",placeholder:" "},"message-font-family":{title:"Message Font family",type:"string",description:"Define your widget message font family.",default:"Arial",placeholder:" "},"number-font-size":{title:"Number Font Size",type:"number",default:42,description:"Define your widget number font size."},"message-font-size":{title:"Message Font Size",type:"number",default:18,description:"Define your widget message font size."},"number-font-weight":{title:"Number Font Weight",type:"number",default:"600",description:"Define your widget number font weight."},"message-font-weight":{title:"Message Font Weight",type:"number",default:"600",description:"Define your widget message font weight."},"number-text-color":{title:"Number Text Color",type:"string",description:"Define your widget number text color.",format:"color",default:"#ffffff"},"message-text-color":{title:"Message Text Color",type:"string",description:"Define your widget message text color.",format:"color",default:"#686868"},"number-background-color":{title:"Number Backgrount Color",type:"string",description:"Define your widget number background color.",format:"color",default:"#005588"},"message-background-color":{title:"Message Backgrount Color",type:"string",description:"Define your widget message background color.",format:"color",default:"white"},"message-Text-Alignment":{title:"Message Text Alignment",type:"string",default:"center",placeholder:" ",description:"Define your widget message text alignment."},"number-Text-Alignment":{title:"Number Text Alignment",type:"string",default:"center",placeholder:" ",description:"Define your widget number text alignment."},"border-size":{title:"Border Weight",type:"number",default:1,description:"Define your widget border weight."},"border-color":{title:"Border Color",type:"string",description:"Define your widget border color.",format:"color",default:"#d7d7d7"},data:{title:"Count",type:"string",description:"Count to display."}},required:[]}}]}),angular.module("DashboardBuilder").component("dashboardsList",{bindings:{dashboard:"<",layout:"@"},templateUrl:"/UIComponents/dashboardBuilder/javascript/components/dashboardsList.html",controller:["$scope","$filter","$timeout","$sce","$window","httpClient","wsClient","$cookies","config","$uibModal","scriptrService","$route","$routeParams","$q","_",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){this.wsClient=g;var p=this;p.acls,this.$onInit=function(){p.user=window.localStorage.user?JSON.parse(window.localStorage.user):null,null!=p.user&&p.user.favDashboardKey&&(p.favDashboardKey=p.user.favDashboardKey),p.loading=!0,p.showPanelMsg=!1,p.layout=void 0!==this.layout?this.layout:"grid",p.users=[{code:"anonymous",icon:"fa fa-group"}],this.urlParams=[],this.transport=angular.copy(i.transport),this.frmGlobalOptions={destroyStrategy:"remove",formDefaults:{feedback:!0}};var c=m.scriptName;c&&this.openEditor(c),this.gridOptions={columnDefs:[{headerName:"",field:"star",valueGetter:function(a){return a.data},cellRenderer:function(a){return'<a href="" ng-click="$ctrl.setFavoriteDashboard(\''+a.value.key+'\')" class="favorite-star" uib-tooltip="Star this dashboard for easy access from the menu. You can star one dashboard at a time." tooltip-placement="auto" tooltip-append-to-body="true"><i ng-class="$ctrl.favDashboardKey == \''+a.value.key+"' ? 'fa fa-star' : 'fa fa-star-o'\" aria-hidden=\"true\"></i></a>"},width:25,cellStyle:{paddingTop:8,textAlign:"center"}},{headerName:"Name",unSortIcon:!0,icons:{sortAscending:'<i class="fa fa-sort-up" aria-hidden="true"></i>',sortDescending:'<i class="fa fa-sort-desc" aria-hidden="true"></i>',sortUnSort:'<span class="unsort-state"><i class="fa fa-angle-up" aria-hidden="true"></i><i class="fa fa-angle-down" aria-hidden="true"></i></span>'},field:"dashboardName",comparator:function(a,b,c,d){return a.dashboardName.localeCompare(b.dashboardName)},cellStyle:{paddingTop:6},valueGetter:function(a){return a.data},cellRenderer:function(a){return'<span class="img-thumb"><div class="table-display"><div class="cell-display">'+(a.value.viewFile?'<img class="img-responsive grid-img" src="'+a.value.viewFile+'" />':'<img class="img-responsive" src="//cdn.rawgit.com/scriptrdotio/onset-static-resources/a923190a/images/default-icon.svg" />')+'</div></div></span><span class="grid-name"><a href="#/dockey/'+a.value.key+'">'+a.value.dashboardName+"</a></span>"}},{headerName:"Modified",field:"lastModifiedDate",cellRenderer:function(a){return b("date")(a.value,"MMMM dd, yyyy HH:mm")},unSortIcon:!0,icons:{sortAscending:'<i class="fa fa-sort-up" aria-hidden="true"></i>',sortDescending:'<i class="fa fa-sort-desc" aria-hidden="true"></i>',sortUnSort:'<span class="unsort-state"><i class="fa fa-angle-up" aria-hidden="true"></i><i class="fa fa-angle-down" aria-hidden="true"></i></span>'},cellStyle:{paddingTop:6}},{headerName:"",field:"public",cellRenderer:function(a){return'<span ng-show="false" class="badge badge-warning mt5"><i class="fa fa-eye" aria-hidden="true"></i> Public</span>'},cellStyle:{textAlign:"right",paddingTop:2}},{headerName:"",field:"key",cellRenderer:function(a){return'<a title="Configure this dashboard" ng-href="#/dockey/'+a.value+'/edit"><img class="icon-img" src="//cdn.rawgit.com/scriptrdotio/onset-static-resources/2a8afcdb/images/blue-wrench.svg" /></a>'},width:50,cellStyle:{textAlign:"center",paddingTop:5}},{headerName:"",field:"dashboard",valueGetter:function(a){return a.data},cellRenderer:function(a){return'<a title="Remove this dashboard" ng-click="$ctrl.deleteDashboardConfirmation(\''+a.value.dashboard+"', '"+a.value.dashboardName+"', '"+a.value.key+'\')"><img class="icon-img pointer" src="//cdn.rawgit.com/scriptrdotio/onset-static-resources/2a8afcdb/images/blue-bin.svg" /></a>'},width:30,cellStyle:{textAlign:"center",paddingTop:4}}],rowData:null,rowHeight:34,headerHeight:37,angularCompileRows:!0,enableSorting:!0,animateRows:!0,domLayout:"autoHeight",pagination:!0,paginationPageSize:10,onGridSizeChanged:function(a){if(e.innerWidth<=768){var b=["star","dashboardName","dashboard","key"],c=["lastModifiedDate","public"];p.gridOptions.columnApi.setColumnsVisible(b,!0),p.gridOptions.columnApi.setColumnsVisible(c,!1)}else p.gridOptions.columnApi.setColumnsVisible(["star","dashboardName","dashboard","key","lastModifiedDate","public"],!0);p.gridOptions.api.sizeColumnsToFit()}},a.$watch(function(a){return a.query},function(a){var b=[];if(void 0!==a&&null!=a&&""!=a)for(var c=0;c<p.customDashboards.length;c++)-1!=p.customDashboards[c].dashboardName.toLowerCase().indexOf(a.toLowerCase())&&b.push(p.customDashboards[c]);else p.customDashboards&&(b=p.customDashboards);p.customDashboards&&(0==b.length?p.noDashboards=!0:(p.noDashboards=!1,p.gridOptions.api.setRowData(b),p.setGridPaginationIcons()))})},this.setGridPaginationIcons=function(){$("button[ref=btPrevious]").html('<img src="//cdn.rawgit.com/scriptrdotio/onset-static-resources/6309fad6/images/previous.png" />'),$("button[ref=btFirst]").html('<img src="//cdn.rawgit.com/scriptrdotio/onset-static-resources/6309fad6/images/first.png" />'),$("button[ref=btNext]").html('<img src="//cdn.rawgit.com/scriptrdotio/onset-static-resources/6309fad6/images/next.png" />'),$("button[ref=btLast]").html('<img src="//cdn.rawgit.com/scriptrdotio/onset-static-resources/6309fad6/images/last.png" />')},this.$postLink=function(){k.loadDashboards({}).then(function(a,b){a?(p.customDashboards=a,p.gridOptions.api.setRowData(a),p.setGridPaginationIcons(),p.loading=!1,0==a.length&&(p.noDashboards=!0)):(console.log("No Dashboards Found"),p.loading=!1)},function(a){p.loading=!1,console.log("reject published promise",a)})},this.deleteDashboardConfirmation=function(a,b,c){j.open({controller:"PopupCont",templateUrl:"/UIComponents/dashboardBuilder/javascript/components/deletePopup.html",resolve:{dashboard:function(){return p},path:function(){return a},name:function(){return b},key:function(){return c}}})},this.checkCreateDashboardEligibility=function(b){if(this.customDashboards&&10==this.customDashboards.length){b.preventDefault();j.open({animation:!0,component:"confirmationModal",size:"md",scope:a,resolve:{data:function(){return{title:"Information Message",body:"You can save a maximum of 10 dashboards.",btnCancelTitle:"Ok"}}}})}},this.callMenuAPI=function(){k.callMenuAPI().then(function(a,b){},function(a){})},this.setFavoriteDashboard=function(a){var b=!1;p.favDashboardKey&&a==p.favDashboardKey&&(b=!0);var c={dockey:b?null:a};k.setFavoriteDashboard(c).then(function(a,c){a&&a.status&&"success"==a.status?(p.favDashboardKey=a.favDashboardKey,null!=p.user&&(b?delete p.user.favDashboardKey:p.user.favDashboardKey=p.favDashboardKey,window.localStorage.setItem("user",JSON.stringify(p.user))),p.callMenuAPI()):console.log("failure fav")},function(a){p.showMsg("danger","An error has occured"),console.log("reject published promise",a)})},this.deleteDashboard=function(a,b){p.user=window.localStorage.user?JSON.parse(window.localStorage.user):null,null!=p.user&&p.user.favDashboardKey&&(p.favDashboardKey=p.user.favDashboardKey);var c={path:a,removeFavDashboard:!(!p.favDashboardKey||!b||b!=p.favDashboardKey)};p=this,k.deleteDashboard(c).then(function(a,c){if(a&&a.status&&"success"==a.status){if(p.customDashboards=a.documents,p.gridOptions.api.setRowData(a.documents),p.setGridPaginationIcons(),0==a.documents.length?p.noDashboards=!0:p.noDashboards=!1,p.favDashboardKey&&b&&b==p.favDashboardKey){var d=JSON.parse(window.localStorage.user);delete d.favDashboardKey,window.localStorage.setItem("user",JSON.stringify(d)),p.callMenuAPI()}}else a&&a.errorDetail?p.showMsg("danger",a.errorDetail):p.showMsg("danger","An error occurred while deleting the dashboard. Please try again later")},function(a){p.showMsg("danger","An error has occured"),console.log("reject published promise",a)})},this.renameDashboard=function(a,b){var c=n.defer();if(console.log(a,b),a!=b){var d={scriptName:a,newScriptName:b},e=this;return console.log(d),k.renameDashboard(d).then(function(a,b){a&&a.documents?(e.customDashboards=a.documents,0==a.documents.length?e.noDashboards=!0:e.noDashboards=!1,c.resolve(),e.showMsg("success","The dashboard has been renamed successfully.")):(c.reject(),a&&a.errorDetail?e.showMsg("danger",a.errorDetail):e.showMsg("danger","An error has occured"))},function(a){c.reject(),e.showMsg("danger",a.data.response.metadata.errorDetail),console.log("reject published promise",a)}),c.promise}},this.changeLayout=function(a){this.layout=a},this.closeAlert=function(){this.show=!1},this.showAlert=function(a,b){this.closeAlert(),this.message={type:a,content:b},this.show=!0},this.closeMsg=function(){this.showPanelMsg=!1},this.showMsg=function(a,b){this.closeMsg(),this.message={type:a,content:b},this.showPanelMsg=!0},this.openEditor=function(a){this.model={scriptName:a};var b=this;k.getScript(this.model).then(function(c,d){b.postLoadScript(a,c)},function(a){console.error("reject",a)})}}]}),angular.module("DashboardBuilder").controller("PopupCont",["$scope","$uibModalInstance",function(a,b){a.name=a.$resolve.name,a.close=function(){b.dismiss("cancel")},a.ondeleteDashboard=function(){this.$resolve.dashboard.deleteDashboard(this.$resolve.path,this.$resolve.key),b.dismiss("cancel")}}]),angular.module("DashboardBuilder").service("scriptrService",["httpClient","$cookies",function(a,b){this.callMenuAPI=function(){return a.post("UIComponents/layout/frontend/components/onsetmenu/getMenuInfo")},this.saveScript=function(b,c){return a.post("app/api/dashboard/save",b,null,!0)},this.getScript=function(b){return a.post("UIComponents/dashboardBuilder/backend/api/getDashboard",b)},this.getDashboardDocument=function(b){return a.get("app/api/dashboard/get",b)},this.loadDashboards=function(b){return a.get("app/api/dashboard/list",{})},this.deleteDashboard=function(b){return a.get("app/api/dashboard/delete",b)},this.setFavoriteDashboard=function(b){return a.get("app/api/dashboard/favorite",b)},this.renameDashboard=function(b){return a.get("UIComponents/dashboardBuilder/backend/api/renameDashboard",b)},this.getToken=function(){return b.get("token")||null}}]),angular.module("DashboardBuilder").component("dashboard",{bindings:{widgets:"<",dashboard:"<",treeSearchCriteria:"@",iconExpand:"@",iconCollapse:"@",loadTree:"<?",showTree:"<",devicesModel:"@"},templateUrl:"/UIComponents/dashboardBuilder/javascript/components/dashboard.html",controller:["$scope","$rootScope","$timeout","$sce","$window","httpClient","wsClient","$cookies","common","config","$uibModal","scriptrService","$route","$routeParams","$q","_","$filter",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){this.wsClient=g;var r=this;r.acls,this.$onInit=function(){if(r.showTree=void 0===this.showTree||this.showTree,r.loading=!0,r.showPanelMsg=!1,r.isEdit=!1,r.users=[{code:"anonymous",icon:"fa fa-group"}],r.onACLChange=function(a){r.acls=a.join(";");var b=o.defer();return r.saveScript(null,null,!0).then(function(a,c){console.log("success"),b.resolve(a,c)},function(a){console.log("reject",a),b.reject(a)}),b.promise},this.urlParams=[],this.transport=angular.copy(j.transport),this.frmGlobalOptions={destroyStrategy:"remove",formDefaults:{feedback:!1},validationMessage:{302:"Required field."}},
this.initializeDashboard(),this.schema=angular.copy(j.script.schema),this.form=angular.copy(j.script.form),this.model={},this.metric_schema=angular.copy(j.metricselector.schema),this.metric_form=angular.copy(j.metricselector.form),this.metric_model={},this.isInIde=!!n.scriptrIdeRef,a.$root&&a.$root.isNew?(this.isEdit=!0,this.isNew=a.$root.isNew):(this.isEdit=!!n.edit,this.isNew=!1),this.isNew)this.setDefaultDashboardName();else{var b=n.dockey;this.getDashboard(b)}this.slickConfig={enabled:!0,autoplay:!0,draggable:!1,autoplaySpeed:3e3,method:{},event:{beforeChange:function(a,b,c,d){},afterChange:function(a,b,c,d){}}},this.gridsterOptions={defaultSizeY:200,defaultSizeX:200,minRows:1,maxRows:100,columns:5,colWidth:"auto",rowHeight:"match",margins:[10,10],defaultSizeX:2,defaultSizeY:1,mobileBreakPoint:480,minColumns:1,sparse:!0,resizable:{enabled:r.isEdit,handle:".my-class",start:function(a,b,c){setTimeout(function(){$(window).trigger("resize"),window.dispatchEvent(new Event("resize"))},100)},resize:function(a,b,c){setTimeout(function(){$(window).trigger("resize"),window.dispatchEvent(new Event("resize"))},100)},stop:function(a,b,c){console.log("End resize:",a,b,c),setTimeout(function(){$(window).trigger("resize"),window.dispatchEvent(new Event("resize"))},100),r.notifyDashboardChange()}},draggable:{enabled:r.isEdit,handle:".my-class",start:function(a,b,c){setTimeout(function(){$(window).trigger("resize"),window.dispatchEvent(new Event("resize"))},100)},drag:function(a,b,c){setTimeout(function(){$(window).trigger("resize"),window.dispatchEvent(new Event("resize"))},100)},stop:function(a,b,c){setTimeout(function(){$(window).trigger("resize"),window.dispatchEvent(new Event("resize"))},100),r.notifyDashboardChange()}}},a.$watch("self.dashboard.widgets",function(a){},!0),a.$on("gridster-resized",function(a,b,c){setTimeout(function(){$(window).trigger("resize"),window.dispatchEvent(new Event("resize"))},100)}),a.$on("gridster-item-initialized",function(a){setTimeout(function(){$(window).trigger("resize"),window.dispatchEvent(new Event("resize"))},100)}),this.widgetsConfig=j.widgets,this.widgetsCommon=i,this.dataLoaded=!0,$(document).ready(function(){$("#stickDiv").sticky({topSpacing:0})})},this.$postLink=function(){var a=this;this.scriptrIdeRef=n.scriptrIdeRef,angular.element(e).on("message",function(b){var c=b.originalEvent.data;c[0]=="get_editor_save_data-"+a.scriptrIdeRef&&e.parent&&e.parent.postMessage(["editor_save-"+a.scriptrIdeRef,a.getEditorValue()],"*"),c[0]=="set_editor_load_data-"+a.scriptrIdeRef&&a.setEditorValue(JSON.parse(c[1]))}),e.parent&&e.parent.postMessage(["editor_loaded-"+this.scriptrIdeRef],"*")},this.trustSrc=function(a){return d.trustAsResourceUrl(a)},this.setDefaultDashboardName=function(){this.model.dashboardName="Dashboard "+q("date")(new Date,"dd-MM-yyyy")},this.addCustomDashboard=function(){this.showDashboard=!0,r.savedScript=null,this.switchStatus=!0,this.model.scriptName=null,this.model.dashboardName=null,r.isEdit=!1,this.dashboard.widgets=[]},this.showCustomDashboard=function(a){this.showDashboard=!0,this.scriptName=a,this.switchStatus=!1,this.dashboardScriptName="/"+this.scriptName,this.openEditor(a)},this.enableEditDashboard=function(){this.isEdit=!0,this.gridsterOptions.draggable.enabled=this.isEdit,this.gridsterOptions.resizable.enabled=this.isEdit},this.disableEditMode=function(){this.isNew?window.location.href="#/dashboardsList":(this.dashboard.widgets=angular.copy(this.dashboard.originalWidgets),this.dashboard.counter=angular.copy(this.dashboard.originalCounter),this.model=angular.copy(this.originalModel),this.isEdit=!1,this.gridsterOptions.draggable.enabled=this.isEdit,this.gridsterOptions.resizable.enabled=this.isEdit)},this.deleteDashboardConfirmation=function(){var a=this.model.dashboardName;k.open({controller:"PopupCont",templateUrl:"/UIComponents/dashboardBuilder/javascript/components/deletePopup.html",resolve:{dashboard:function(){return r},name:function(){return a}}})},this.callMenuAPI=function(){l.callMenuAPI().then(function(a,b){},function(a){})},this.deleteDashboard=function(){r.user=window.localStorage.user?JSON.parse(window.localStorage.user):null,null!=r.user&&r.user.favDashboardKey&&(r.favDashboardKey=r.user.favDashboardKey);var a={path:this.model.scriptName,removeFavDashboard:!(!r.favDashboardKey||!r.dashboardDocument||r.dashboardDocument.key!=r.favDashboardKey)};l.deleteDashboard(a).then(function(a,b){if(console.log("success"),a&&a.status&&"success"==a.status&&(window.location.href="#/dashboardsList",r.favDashboardKey&&r.dashboardDocument&&r.dashboardDocument.key==r.favDashboardKey)){var c=JSON.parse(window.localStorage.user);delete c.favDashboardKey,window.localStorage.setItem("user",JSON.stringify(c)),r.callMenuAPI()}},function(a){console.log("reject published promise",a)})},this.closeAlert=function(){this.show=!1},this.showAlert=function(a,b){this.closeAlert(),this.message={type:a,content:b},this.show=!0},this.closeMsg=function(){this.showPanelMsg=!1},this.showMsg=function(a,b){this.closeMsg(),this.message={type:a,content:b},this.showPanelMsg=!0},this.getEditorValue=function(){var a={};a.items=angular.copy(this.dashboard.widgets),a.urlParams=angular.copy(this.urlParams),a.transport=angular.copy(this.transport.defaults),a.staticdomain=n.staticdomain;var b=this.unsafe_tags(document.querySelector("#handlebar-template").innerHTML),c=Handlebars.compile(b)(a),d={};return d.content=c,d.pluginData=JSON.stringify({wdg:a.items,urlParams:a.urlParams,settings:a.transport}),d},this.setEditorValue=function(a){a&&(this.widgets=a.wdg,this.urlParams=a.urlParams,this.transport.defaults=a.settings,this.dashboard.widgets=this.widgets)},this.notifyDashboardChange=function(){e.parent&&e.parent.postMessage(["editor_data_changed-"+this.scriptrIdeRef,this.getEditorValue()],"*")},this.openEditor=function(a){this.showLoading(),a&&(this.model?this.model.scriptName=a:this.model={scriptName:a});var b=this;l.getScript(this.model).then(function(a,c){b.postLoadScript(a),b.hideLoadingModalInstance()},function(a){console.error("reject",a),b.hideLoadingModalInstance()})},this.selectBranch=function(a){console.log("Clicked branch data",a);var b=a.label;if(a[b]&&a[b].widget&&a[b].widget.type){var c=a[b].widget,d=p.findWhere(j.widgets,{name:c.type});console.log("Widget is",d),d||(d=p.findWhere(j.widgets,{name:j.sectionData.name}));var e=angular.copy(d.form),f=angular.copy(d.schema);d.commonData&&(e[0].tabs=angular.copy([i.formTab].concat(d.form[0].tabs)),f.properties=s(d.schema.properties,i.schemaFields));var g=0;c["default-api-params"]&&(g=Object.keys(c["default-api-params"]).length);var h={};p.each(c,function(a,b){h[b]=a});var k="{";if(c["api-params-name"]&&p.each(c["api-params-name"],function(a,b){r.urlParams=r.urlParams.concat([a]),k+='"'+a+'": vm.'+a+(b<c["api-params-name"].length-1||g>0?",":"")}),c["default-api-params"]){var l=0;p.each(c["default-api-params"],function(a,b){r.urlParams=r.urlParams.concat([b]),k+='"'+b+'": "'+a+(l<g-1?'",':'"'),l++}),k+="}"}else k+="}";console.log("apiParamsOutput",k),h["api-params"]=k,r.dashboard.widgets.push({name:a.label,sizeX:d.box&&d.box.sizeX?d.box.sizeX:2,sizeY:d.box&&d.box.sizeY?d.box.sizeY:2,minSizeX:d.box&&d.box.minSizeX?d.box.minSizeX:2,maxSizeX:d.box&&d.box.maxSizeX?d.box.maxSizeX:null,minSizeY:d.box&&d.box.minSizeY?d.box.minSizeY:2,maxSizeY:d.box&&d.box.maxSizeY?d.box.maxSizeY:null,label:d.label,type:d.class,options:angular.extend(angular.copy(d.defaults),angular.copy(h)),schema:f,form:e}),r.notifyDashboardChange()}},this.initializeDashboard=function(){this.dashboard={widgets:[],counter:0},this.widgets&&(this.dashboard.widgets=this.widgets),this.dashboard.counter=this.dashboard.widgets.length},this.clear=function(){var b=this;k.open({animation:!0,component:"confirmationModal",size:"md",scope:a,resolve:{data:function(){return{title:"Clear this dashboard?",body:"Are you sure you want to remove all the widgets?",btnCancelTitle:"Cancel",btnSubmitTitle:"Clear dashboard"}}}}).result.then(function(a){a&&b.clearWidgets()},function(){console.info("modal-component for clearing dashboard update dismissed at: "+new Date)})},this.clearWidgets=function(){this.dashboard.counter=0,this.dashboard.widgets=[],this.notifyDashboardChange()},this.logout=function(){$.scriptr.authorization({loginPage:login.loginTarget}).logout()};var s=function(a,b){var c={};for(var d in a)c[d]=a[d];for(var d in b)c[d]=b[d];return c};this.addWidget=function(a){if(a.url)return void window.open(a.url);if(this.dashboard.counter>=20)this.showInformationModel();else{var b=angular.copy(a.form),c=angular.copy(a.schema);a.commonData&&(b[0].tabs=angular.copy([i.formTab].concat(a.form[0].tabs)),c.properties=s(a.schema.properties,i.schemaFields)),a.selectedStreamValue&&(a.defaults.stream=[a.selectedStreamValue]),a.selectedStreamValue=null,this.dashboard.widgets.push({name:a.name,sizeX:a.box&&a.box.sizeX?a.box.sizeX:2,sizeY:a.box&&a.box.sizeY?a.box.sizeY:2,minSizeX:a.box&&a.box.minSizeX?a.box.minSizeX:2,maxSizeX:a.box&&a.box.maxSizeX?a.box.maxSizeX:null,minSizeY:a.box&&a.box.minSizeY?a.box.minSizeY:2,maxSizeY:a.box&&a.box.maxSizeY?a.box.maxSizeY:null,label:a.label,type:a.class,options:a.defaults,schema:c,form:b}),this.notifyDashboardChange()}},this.showInformationModel=function(){k.open({animation:!0,component:"confirmationModal",size:"md",scope:a,resolve:{data:function(){return{title:"Information Message",body:"You can add a maximum of 20 widgets.",btnCancelTitle:"Ok"}}}})},this.setTransportSettings=function(a){var b=this;k.open({animation:!0,component:"modalComponent",size:"lg",resolve:{widget:function(){return{label:b.transport.label,options:b.transport.defaults,schema:b.transport.schema,form:b.transport.form}}}}).result.then(function(a){console.log("modal-component transport settings data :",a,"submitted at: "+new Date),"cancel"!=a&&(b.transport.defaults&&b.transport.defaults.publishChannel!=a.publishChannel&&b.wsClient.updatePublishingChannel(a.publishChannel),b.transport.defaults&&b.transport.defaults.subscribeChannel!=a.subscribeChannel&&b.wsClient.updateSubscriptionChannel(a.subscribeChannel),b.transport.defaults=angular.copy(a),b.notifyDashboardChange())},function(){console.log("modal-component transport settings dismissed at: "+new Date)})},this.getDashboard=function(a){var b={dockey:a};l.getDashboardDocument(b).then(function(a,b){console.log("resolve",a),a.documents&&a.documents.length>0&&(r.dashboardDocument=angular.copy(a.documents[0]),r.model.scriptName=r.dashboardDocument.dashboard,r.model.dashboardName=r.dashboardDocument.dashboardName,r.model.unit=r.dashboardDocument.unit,r.model.period=r.dashboardDocument.period,r.model.image=r.dashboardDocument.viewFile,r.originalModel=angular.copy(r.model),r.metric_model&&(r.metric_model.unit=r.model.unit,r.metric_model.period=r.model.period)),r.model.scriptName?r.openEditor():r.setDefaultDashboardName()},function(a){r.showAlert("danger",a.data.response.metadata.errorDetail),console.log("reject",a.data.response.metadata.errorDetail)})},this.showLoading=function(){this.loadingModalInstance=k.open({controller:"LoadingCtrl",windowTemplateUrl:"/UIComponents/dashboardBuilder/javascript/components/loading.html",templateUrl:"/UIComponents/dashboardBuilder/javascript/components/loading.html",backdrop:"static",resolve:{loadingTitle:function(){return"Saving..."}}})},this.hideLoadingModalInstance=function(){this.loadingModalInstance.dismiss()},this.saveDashboard=function(b,c,d){this.showLoading();var e=this;if(a.$broadcast("schemaFormValidate"),b&&b.$valid||d){if(!(this.dashboard.widgets.length>20)){var f={};f.items=angular.copy(this.dashboard.widgets),f.urlParams=angular.copy(this.urlParams),f.token=l.getToken(),e.transport.defaults.redirectTarget=this.model.scriptName,f.transport=angular.copy(this.transport.defaults);var g=this.unsafe_tags(document.querySelector("#handlebar-template").innerHTML),h=Handlebars.compile(g)(f),i={};i.content=h,i.dashboardName=this.model.dashboardName,i.unit=this.model.unit,i.period=this.model.period,b.uploadForm.file.$dirty&&(i.apsdb_attachments=b.uploadForm.file.$modelValue),e.dashboardDocument&&e.model.image!=e.dashboardDocument.viewFile&&(i.apsdb_attachments=null),i.pluginData=JSON.stringify({wdg:f.items,urlParams:f.urlParams,settings:f.transport}),e.isEdit&&!e.isNew&&(i.update=!0),e.savedScript&&(i.previousScriptName=e.savedScript),i.acls=this.acls;var j=new FormData;for(var k in i)j.append(k,i[k]);var m=o.defer();return l.saveScript(j).then(function(a,b){"failure"==a.status?(e.isEdit=!0,e.showAlert("danger",a.errorDetail),e.hideLoadingModalInstance()):(a.data&&a.data.document&&a.data.document.key&&e.getDashboard(a.data.document.key),e.hideLoadingModalInstance(),e.isEdit=!1,e.isNew=!1,e.gridsterOptions.draggable.enabled=e.isEdit,e.gridsterOptions.resizable.enabled=e.isEdit,e.savedScript=a.scriptName,e.showAlert("info","Dashboard successfully saved."),m.resolve(a,b))},function(a){e.hideLoadingModalInstance(),e.showAlert("danger",a.data.response.metadata.errorDetail),console.log("reject",a.data.response.metadata.errorDetail),m.reject(a)}),m.promise}e.showAlert("danger","You can add a maximum of 20 widgets.")}},this.setACLs=function(a){this.acls=a.ACL.execute;var b=this.acls.split(";");this.users=[];for(var c=0;c<b.length;c++){var d={};d.code=b[c],this.users.push(d)}},this.postLoadScript=function(a){var b=/\/\*#\*SCRIPTR_PLUGIN\*#\*(.*\n?.*)\*#\*#\*\//;if(a){var c=a.userConfig,d=c.match(b);if(c&&d){var e=JSON.parse(d[1]);e&&e.metadata&&"DashboardBuilder"==e.metadata.name?(this.widgets=JSON.parse(e.metadata.plugindata).wdg,this.urlParams=JSON.parse(e.metadata.plugindata).urlParams,this.transport.defaults=JSON.parse(e.metadata.plugindata).settings,this.dashboard.widgets=this.widgets,this.dashboard.originalWidgets=angular.copy(this.dashboard.widgets),this.dashboard.counter=this.widgets.length,this.dashboard.originalCounter=this.dashboard.counter,this.savedScript=this.model.scriptName,this.setACLs(a)):(this.showAlert("danger","Invalid dashboard script. Pass another script."),console.error("Invalid dashboard script. Pass another script."))}else this.showAlert("danger","Invalid dashboard script. Pass another script."),console.error("Invalid dashboard script. Pass another script.")}else this.showAlert("danger","Invalid dashboard script. Pass another script."),console.error("Invalid dashboard script. Pass another script.");console.debug("resolve get script "+this.model.scriptName+" :",a)},this.safe_tags=function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},this.unsafe_tags=function(a){return a.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"')}}]}),angular.module("DashboardBuilder").component("box",{require:{parent:"^^dashboard"},bindings:{widget:"<",isEdit:"<?"},templateUrl:"/UIComponents/dashboardBuilder/javascript/components/box.html",controller:["$scope","$compile","$element","$uibModal",function(a,b,c,d){var e=this;this.remove=function(b){var c=this;d.open({animation:!0,component:"confirmationModal",size:"md",scope:a,resolve:{data:function(){return{title:"Delete this widget?",body:'Are you sure you want to delete this widget "'+b.label+'"?',btnCancelTitle:"Cancel",btnSubmitTitle:"Delete"}}}}).result.then(function(a){a&&c.removeWidget(b)},function(){console.info("modal-component for removing widget dismissed at: "+new Date)})},this.removeWidget=function(a){delete this[a.formatFunction],this.parent.dashboard.widgets.splice(this.parent.dashboard.widgets.indexOf(a),1),this.parent.dashboard.counter--,this.parent.notifyDashboardChange()},this.$onInit=function(){a.$on("gridster-item-transition-end",function(a){setTimeout(function(){$(window).trigger("resize"),window.dispatchEvent(new Event("resize"))},100)}),a.$on("gridster-item-resized",function(a){setTimeout(function(){$(window).trigger("resize"),window.dispatchEvent(new Event("resize"))},100)});var b=this;this.widget&&this.addWidget(this.widget),a.$on("resize_widget",function(a,c){if(setTimeout(function(){$(window).trigger("resize"),window.dispatchEvent(new Event("resize"))},100),b.widget==c.element&&"scriptr-grid"==b.widget.type){var d=c.wdg.height();c.element.options["grid-height"]=d-110,b.updateWidget(c.element.options)}e.parent.notifyDashboardChange()}),a.$on("drag_widget",function(a,b){e.parent.notifyDashboardChange()})},this.openSettings=function(){var b=this;d.open({animation:!0,component:"modalComponent",size:"lg",scope:a,resolve:{widget:function(){return b.widget}}}).result.then(function(a){"cancel"!=a&&b.updateWidget(a)},function(){console.info("modal-component for widget update dismissed at: "+new Date)})},this.addWidget=function(d){var e=this;this.chart=angular.element(document.createElement(d.type)),angular.forEach(d.options,function(a,b){if(angular.isArray(a)||angular.isObject(a))e.chart.attr(b,JSON.stringify(a));else if("on-format-data"==b){this.parent.dashboard.counter||(this.parent.dashboard.counter=0);var c=!1;d.formatFunction&&(c=!0),c||(this.parent.dashboard.counter+=1);var f=this.parent.dashboard.counter,g=d.name+"FormatData"+f;e[g]=new Function("data",a),d.formatFunction=g,d.formatFunctionValue=a,e.chart.attr("on-format-data","$ctrl."+g)}else e.chart.attr(b,a)},this);var f=b(this.chart)(a);angular.element(c.find(".box-content")).append(f)},this.updateWidget=function(a){var b=this;angular.forEach(a,function(a,c){angular.isArray(a)||angular.isObject(a)?b.chart.attr(c,JSON.stringify(a)):"on-format-data"==c?(b[b.widget.formatFunction]=new Function("data",a),b[b.widget.formatFunctionValue]=a,b.chart.attr("on-format-data","$ctrl."+b.widget.formatFunction)):b.chart.attr(c,a)},this);var c=angular.copy(a),d=this.parent.dashboard.widgets.indexOf(this.widget),e=angular.copy(this.widget);e.options=angular.copy(c),this.parent.dashboard.widgets.splice(d,1,e),this.parent.notifyDashboardChange()}}]}),angular.module("DashboardBuilder").component("modalComponent",{bindings:{resolve:"<",close:"&",dismiss:"&"},templateUrl:"/UIComponents/dashboardBuilder/javascript/components/myModalContent.html",controller:["$scope","httpClient","$q","$http",function(a,b,c,d){this.$onInit=function(){this.widget=this.resolve.widget,a.$broadcast("schemaFormRedraw"),this.frmGlobalOptions={destroyStrategy:"remove",formDefaults:{feedback:!1}},this.widget&&(this.widget.schema&&(this.schema=angular.copy(this.widget.schema)),this.widget.form&&(this.form=angular.copy(this.widget.form)),this.model=this.widget.options?angular.copy(this.widget.options):{})},a.multiSelectCallBack=function(a,b){var c=a.widgetName,d=a.widgetField,e=window.localStorage.getItem("dataStream"),f=window.localStorage.getItem("dataMapping"),g=[];f&&e&&(f=JSON.parse(f),e=JSON.parse(e));for(var h=0;h<e.length;h++)for(var i=e[h].label,j=e[h].sensors,k=0;k<j.length;k++){var l=j[k].measurement_type;if(f[l]){var m=f[l].allowed;if(m.indexOf(c)>-1&&(!d||l==d)){var n=j[k].serial_number+j[k].channel_number+j[k].data_type_id;g.push({value:n,name:j[k].label,dataStream:i})}}}return g},this.onSubmit=function(b){a.$broadcast("schemaFormValidate"),console.log(this.model),b.$valid&&(this.close({$value:this.model}),console.log("component_form_parent",this.model))},this.onCancel=function(a){this.schema={},this.form={},this.model=angular.copy(this.widget.options),this.dismiss({$value:"cancel"}),console.log("Dissmissed")}}]}),angular.module("DashboardBuilder").component("sidetoolbar",{bindings:{},templateUrl:"/UIComponents/dashboardBuilder/javascript/components/sideToolbar.html",controller:["$scope","$mdSidenav",function(a,b){this.close=function(){b("left").close().then(function(){console.debug("close LEFT is done")})}}]}),angular.module("DashboardBuilder").component("confirmationModal",{bindings:{resolve:"<",close:"&",dismiss:"&"},templateUrl:"/UIComponents/dashboardBuilder/javascript/components/confirmation.html",controller:["$scope",function(a){this.$onInit=function(){this.data=this.resolve.data},this.onSubmit=function(){this.close({$value:!0})},this.onCancel=function(){this.dismiss({$value:!1})}}]}),angular.module("DashboardBuilder").controller("PopupCont",["$scope","$uibModalInstance",function(a,b){a.name=a.$resolve.name,a.close=function(){b.dismiss("cancel")},a.ondeleteDashboard=function(){this.$resolve.dashboard.deleteDashboard(this.$resolve.path,this.$resolve.key),b.dismiss("cancel")}}]),angular.module("DashboardBuilder").controller("LoadingCtrl",["$scope","$uibModalInstance",function(a,b){a.title=a.$resolve.title}]);